(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t(require('vue')):'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports.core=t(require('vue')):e.core=t(e.Vue)})('undefined'==typeof self?this:self,function(e){var t=String.fromCharCode,o=Math.round,n=Math.floor,r=Math.min,s=Math.max;return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&'object'==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,'default',{enumerable:!0,value:e}),2&o&&'string'!=typeof e)for(var a in e)t.d(n,a,function(t){return e[t]}.bind(null,a));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s='fae3')}({"0010":function(e,t,o){'use strict';function n(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function a(e,t,o){var n=e.selection,a=n.$cursor;if(!a||(o?!o.endOfTextblock('backward',e):0<a.parentOffset))return!1;var i=s(a);if(!i){var d=a.blockRange(),l=d&&(0,w.liftTarget)(d);return null!=l&&(t&&t(e.tr.lift(d,l).scrollIntoView()),!0)}var p=i.nodeBefore;if(!p.type.spec.isolating&&v(e,i,t))return!0;if(0==a.parent.content.size&&(r(p,'end')||_.NodeSelection.isSelectable(p))){if(t){var c=e.tr.deleteRange(a.before(),a.after());c.setSelection(r(p,'end')?_.Selection.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):_.NodeSelection.create(c.doc,i.pos-p.nodeSize)),t(c.scrollIntoView())}return!0}return!!(p.isAtom&&i.depth==a.depth-1)&&(t&&t(e.tr.delete(i.pos-p.nodeSize,i.pos).scrollIntoView()),!0)}function r(e,t){for(;e;e='start'==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function i(e,t,o){var n=e.selection,a=n.$head,r=n.empty,i=a;if(!r)return!1;if(a.parent.isTextblock){if(o?!o.endOfTextblock('backward',e):0<a.parentOffset)return!1;i=s(a)}var d=i&&i.nodeBefore;return!!(d&&_.NodeSelection.isSelectable(d))&&(t&&t(e.tr.setSelection(_.NodeSelection.create(e.doc,i.pos-d.nodeSize)).scrollIntoView()),!0)}function s(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;0<=t;t--){if(0<e.index(t))return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e,t,o){var n=e.selection,a=n.$cursor;if(!a||(o?!o.endOfTextblock('forward',e):a.parentOffset<a.parent.content.size))return!1;var i=p(a);if(!i)return!1;var s=i.nodeAfter;if(v(e,i,t))return!0;if(0==a.parent.content.size&&(r(s,'start')||_.NodeSelection.isSelectable(s))){if(t){var d=e.tr.deleteRange(a.before(),a.after());d.setSelection(r(s,'start')?_.Selection.findFrom(d.doc.resolve(d.mapping.map(i.pos)),1):_.NodeSelection.create(d.doc,d.mapping.map(i.pos))),t(d.scrollIntoView())}return!0}return!!(s.isAtom&&i.depth==a.depth-1)&&(t&&t(e.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0)}function l(e,t,o){var n=e.selection,a=n.$head,r=n.empty,i=a;if(!r)return!1;if(a.parent.isTextblock){if(o?!o.endOfTextblock('forward',e):a.parentOffset<a.parent.content.size)return!1;i=p(a)}var s=i&&i.nodeAfter;return!!(s&&_.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(_.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)}function p(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1,o;0<=t;t--){if(o=e.node(t),e.index(t)+1<o.childCount)return e.doc.resolve(e.after(t+1));if(o.type.spec.isolating)break}return null}function c(e,t){var o=e.selection,n=o.$head,a=o.$anchor;return!!(n.parent.type.spec.code&&n.sameParent(a))&&(t&&t(e.tr.insertText('\n').scrollIntoView()),!0)}function u(e){for(var t=0;t<e.edgeCount;t++){var o=e.edge(t),n=o.type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function f(e,t){var o=e.selection,n=o.$head,a=o.$anchor;if(!n.parent.type.spec.code||!n.sameParent(a))return!1;var r=n.node(-1),i=n.indexAfter(-1),s=u(r.contentMatchAt(i));if(!r.canReplaceWith(i,i,s))return!1;if(t){var d=n.after(),l=e.tr.replaceWith(d,d,s.createAndFill());l.setSelection(_.Selection.near(l.doc.resolve(d),1)),t(l.scrollIntoView())}return!0}function m(e,t){var o=e.selection,n=o.$from,a=o.$to;if(n.parent.inlineContent||a.parent.inlineContent)return!1;var r=u(n.parent.contentMatchAt(a.indexAfter()));if(!r||!r.isTextblock)return!1;if(t){var i=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,s=e.tr.insert(i,r.createAndFill());s.setSelection(_.TextSelection.create(s.doc,i+1)),t(s.scrollIntoView())}return!0}function h(e,t){var o=e.selection,n=o.$cursor;if(!n||n.parent.content.size)return!1;if(1<n.depth&&n.after()!=n.end(-1)){var a=n.before();if((0,w.canSplit)(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}var r=n.blockRange(),i=r&&(0,w.liftTarget)(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)}function g(e,t){var o=e.selection,n=o.$from,a=o.$to;if(e.selection instanceof _.NodeSelection&&e.selection.node.isBlock)return!!(n.parentOffset&&(0,w.canSplit)(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){var r=a.parentOffset==a.parent.content.size,i=e.tr;e.selection instanceof _.TextSelection&&i.deleteSelection();var s=0==n.depth?null:u(n.node(-1).contentMatchAt(n.indexAfter(-1))),d=r&&s?[{type:s}]:null,l=(0,w.canSplit)(i.doc,i.mapping.map(n.pos),1,d);d||l||!(0,w.canSplit)(i.doc,i.mapping.map(n.pos),1,s&&[{type:s}])||(d=[{type:s}],l=!0),l&&(i.split(i.mapping.map(n.pos),1,d),!r&&!n.parentOffset&&n.parent.type!=s&&n.node(-1).canReplace(n.index(-1),n.indexAfter(-1),C.Fragment.from(s.create(),n.parent))&&i.setNodeMarkup(i.mapping.map(n.before()),s)),t(i.scrollIntoView())}return!0}function y(e,t){return t&&t(e.tr.setSelection(new _.AllSelection(e.doc))),!0}function b(e,t,o){var n=t.nodeBefore,a=t.nodeAfter,r=t.index();return!!(n&&a&&n.type.compatibleContent(a.type))&&(!n.content.size&&t.parent.canReplace(r-1,r)?(o&&o(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!!(t.parent.canReplace(r,r+1)&&(a.isTextblock||(0,w.canJoin)(e.doc,t.pos)))&&(o&&o(e.tr.clearIncompatible(t.pos,n.type,n.contentMatchAt(n.childCount)).join(t.pos).scrollIntoView()),!0))}function v(e,t,o){var n=t.nodeBefore,a=t.nodeAfter,r,s;if(n.type.spec.isolating||a.type.spec.isolating)return!1;if(b(e,t,o))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(s=n.contentMatchAt(n.childCount)).findWrapping(a.type))&&s.matchType(r[0]||a.type).validEnd){if(o){for(var d=t.pos+a.nodeSize,l=C.Fragment.empty,p=r.length-1;0<=p;p--)l=C.Fragment.from(r[p].create(null,l));l=C.Fragment.from(n.copy(l));var i=e.tr.step(new w.ReplaceAroundStep(t.pos-1,d,t.pos,d,new C.Slice(l,1,0),r.length,!0)),c=d+2*r.length;(0,w.canJoin)(i.doc,c)&&i.join(c),o(i.scrollIntoView())}return!0}var u=_.Selection.findFrom(t,1),f=u&&u.$from.blockRange(u.$to),m=f&&(0,w.liftTarget)(f);return!!(null!=m&&m>=t.depth)&&(o&&o(e.tr.lift(f,m).scrollIntoView()),!0)}function k(e,t,o){for(var n=function(n){var a=t[n],r=a.$from,i=a.$to,s=0==r.depth&&e.type.allowsMarkType(o);if(e.nodesBetween(r.pos,i.pos,function(e){return!s&&void(s=e.inlineContent&&e.type.allowsMarkType(o))}),s)return{v:!0}},a=0,r;a<t.length;a++)if(r=n(a),r)return r.v;return!1}function x(e,t){return function(o){if(!o.isGeneric)return e(o);for(var n=[],a=0,r;a<o.mapping.maps.length;a++){r=o.mapping.maps[a];for(var i=0;i<n.length;i++)n[i]=r.map(n[i]);r.forEach(function(e,t,o,a){return n.push(o,a)})}for(var s=[],d=0;d<n.length;d+=2)for(var l=n[d],p=n[d+1],c=o.doc.resolve(l),u=c.sharedDepth(p),f=c.node(u),m=c.indexAfter(u),h=c.after(u+1),g;h<=p&&(g=f.maybeChild(m),!!g);++m){if(m&&-1==s.indexOf(h)){var y=f.child(m-1);y.type==g.type&&t(y,g)&&s.push(h)}h+=g.nodeSize}s.sort(function(e,t){return e-t});for(var b=s.length-1;0<=b;b--)(0,w.canJoin)(o.doc,s[b])&&o.join(s[b]);e(o)}}function S(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,o,n){for(var a=0;a<e.length;a++)if(e[a](t,o,n))return!0;return!1}}Object.defineProperty(t,'__esModule',{value:!0}),t.autoJoin=function(e,t){if(Array.isArray(t)){var o=t;t=function(e){return-1<o.indexOf(e.type.name)}}return function(o,n){return e(o,n&&x(n,t))}},t.chainCommands=S,t.createParagraphNear=m,t.deleteSelection=n,t.exitCode=f,t.joinBackward=a,t.joinDown=function(e,t){var o=e.selection,n;if(o instanceof _.NodeSelection){if(o.node.isTextblock||!(0,w.canJoin)(e.doc,o.to))return!1;n=o.to}else if(n=(0,w.joinPoint)(e.doc,o.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.joinForward=d,t.joinUp=function(e,t){var o=e.selection,n=o instanceof _.NodeSelection,a;if(n){if(o.node.isTextblock||!(0,w.canJoin)(e.doc,o.from))return!1;a=o.from}else if(a=(0,w.joinPoint)(e.doc,o.from,-1),null==a)return!1;if(t){var r=e.tr.join(a);n&&r.setSelection(_.NodeSelection.create(r.doc,a-e.doc.resolve(a).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0},t.lift=function(e,t){var o=e.selection,n=o.$from,a=o.$to,r=n.blockRange(a),i=r&&(0,w.liftTarget)(r);return null!=i&&(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},t.liftEmptyBlock=h,t.newlineInCode=c,t.selectAll=y,t.selectNodeBackward=i,t.selectNodeForward=l,t.selectParentNode=function(e,t){var o=e.selection,n=o.$from,a=o.to,r=n.sharedDepth(a),i;return 0!=r&&(i=n.before(r),t&&t(e.tr.setSelection(_.NodeSelection.create(e.doc,i))),!0)},t.setBlockType=function(e,t){return function(o,n){var a=o.selection,r=a.from,i=a.to,s=!1;return(o.doc.nodesBetween(r,i,function(n,a){if(s)return!1;if(n.isTextblock&&!n.hasMarkup(e,t))if(n.type==e)s=!0;else{var r=o.doc.resolve(a),i=r.index();s=r.parent.canReplaceWith(i,i+1,e)}}),!!s)&&(n&&n(o.tr.setBlockType(r,i,e,t).scrollIntoView()),!0)}},t.splitBlock=g,t.splitBlockKeepMarks=function(e,t){return g(e,t&&function(o){var n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();n&&o.ensureMarks(n),t(o)})},t.toggleMark=function(e,t){return function(o,n){var a=o.selection,r=a.empty,s=a.$cursor,d=a.ranges;if(r&&!s||!k(o.doc,d,e))return!1;if(n)if(s)e.isInSet(o.storedMarks||s.marks())?n(o.tr.removeStoredMark(e)):n(o.tr.addStoredMark(e.create(t)));else{for(var l=!1,p=o.tr,c=0;!l&&c<d.length;c++){var i=d[c],u=i.$from,f=i.$to;l=o.doc.rangeHasMark(u.pos,f.pos,e)}for(var m=0;m<d.length;m++){var h=d[m],g=h.$from,y=h.$to;l?p.removeMark(g.pos,y.pos,e):p.addMark(g.pos,y.pos,e.create(t))}n(p.scrollIntoView())}return!0}},t.wrapIn=function(e,t){return function(o,n){var a=o.selection,r=a.$from,i=a.$to,s=r.blockRange(i),d=s&&(0,w.findWrapping)(s,e,t);return!!d&&(n&&n(o.tr.wrap(s,d).scrollIntoView()),!0)}},t.pcBaseKeymap=t.macBaseKeymap=t.baseKeymap=void 0;var w=o('0ac0'),C=o('304a'),_=o('5313'),M=S(n,a,i),O=S(n,d,l),N={Enter:S(c,m,h,g),"Mod-Enter":f,Backspace:M,"Mod-Backspace":M,Delete:O,"Mod-Delete":O,"Mod-a":y};t.pcBaseKeymap=N;var P={"Ctrl-h":N.Backspace,"Alt-Backspace":N['Mod-Backspace'],"Ctrl-d":N.Delete,"Ctrl-Alt-Backspace":N['Mod-Delete'],"Alt-Delete":N['Mod-Delete'],"Alt-d":N['Mod-Delete']};for(var T in t.macBaseKeymap=P,N)P[T]=N[T];var A='undefined'==typeof navigator?'undefined'!=typeof os&&'darwin'==os.platform():/Mac/.test(navigator.platform),D=A?P:N;t.baseKeymap=D},"0159":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,a,r,i){try{var s=e[r](i),d=s.value}catch(e){return void o(e)}s.done?t(d):Promise.resolve(d).then(n,a)}function r(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){function i(e){a(d,n,r,i,s,'next',e)}function s(e){a(d,n,r,i,s,'throw',e)}var d=e.apply(t,o);i(void 0)})}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var i=o('cd42'),s=n(o('5d96')),d=n(o('ec09')),l=n(o('b95c')),p=n(o('40c0')),c=n(o('c53b')),u={name:'PaperEditor',components:{EditorView:s.default,EditorMenuBar:i.EditorMenuBar,PaperButton:d.default,PaperSelect:l.default,PaperPopin:p.default},props:{value:{type:String,default:'Hello'},config:{type:Object,default:function(){return{}}}},data:function(){return{state:{current:'styleSelect'},editor:null,options:[]}},mounted:function(){var e=r(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$data.editor=new i.Editor({extensions:c.default.plugins(),content:this.$props.value}),this.$data.options=[[{id:'undo',label:'Annuler',icon:'undo-alt'},{id:'redo',label:'R\xE9tablir',icon:'redo-alt'}],[c.default.menu.styledBlock(this.$props.config.styledBlock||void 0)],[{id:'bold',label:'Gras',icon:'bold'},{id:'italic',label:'Italique',icon:'italic'}],[c.default.menu.link(this.$props.config.link||void 0),c.default.menu.image(this.$props.config.styledBlock||void 0),{id:'bullet_list',label:'Liste',icon:'list-ul'},{id:'ordered_list',label:'Liste num\xE9rot\xE9e',icon:'list-ol'}]],this.$data.editor.on('update',function(){return t.onUpdate()}),setTimeout(function(){return t.onUpdate()},100);case 4:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{onUpdate:function(){this.$emit('input',this.$data.editor.getHTML())}}};t.default=u},"0353":function(e,t,o){'use strict';o.r(t);var n=o('1b9d'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"0490":function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('button',{staticClass:'PaperEditor_button',class:{"is-active":e.isActive},attrs:{type:'button'},on:{click:function(){return e.$emit('click')}}},[e.icon?o('i',{staticClass:'fal',class:['fa-'+e.icon]}):e._e(),e.$slots.list?o('div',{staticClass:'PaperEditor_buttonList'},[e._t('list')],2):e._e()])},a=[]},"0675":function(e,t,o){'use strict';o.r(t);var n=o('cfec'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"073e":function(e,t,o){'use strict';function n(e){function t(t){return t&&(t=a.apply(null,arguments)),new e(t)}return t.displayName=e.displayName||e.name,t}var a=o('5dbe'),r=n(Error);e.exports=r,r.eval=n(EvalError),r.range=n(RangeError),r.reference=n(ReferenceError),r.syntax=n(SyntaxError),r.type=n(TypeError),r.uri=n(URIError),r.create=n},"08bd":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?a(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var s=n(o('679f')),d=n(o('2836')),l=n(o('7aee')),p=n(o('f3d8')),c=n(o('2029')),u={name:'PaperPopin',components:{PopinBase:s.default,ButtonBase:c.default,InputBase:d.default,ToggleBase:p.default,InputMedia:l.default},props:{content:{type:String,default:''},form:{type:Object,default:function(){}},isActive:{type:Boolean,default:!1},attrs:{type:Object,default:function(){}},currentNode:{type:Object,default:function(){}}},data:function(){return{value:{}}},watch:{form:{immediate:!0,deep:!0,handler:function(e){this.$data.value=this.formToValues(e)}},currentNode:{immediate:!0,handler:function(e){this.$data.value=r(r(r({},this.$data.value),this.formToValues(this.$props.form)),e?e:{})}}},methods:{formToValues:function(e){var t={};return Object.keys(e).forEach(function(o){t[o]=e[o].value}),t},onInput:function(){var e=this,t=Object.keys(this.$props.form).reduce(function(t,o){var n=e.$data.value[o],a=e.$props.form[o];return r(r({},t),{},i({},o,a.transformer&&a.transformer.set?a.transformer.set(n):n))},{});this.$emit('input',t),this.$emit('close')}}};t.default=u},"0ac0":function(e,t,o){'use strict';function n(e,t){return e+t*A}function a(e){return e&T}function d(e){return(e-(e&T))/A}function i(e){var t=Error.call(this,e);return t.__proto__=i.prototype,t}function l(){throw new Error('Override me')}function p(e,t,o){for(var n=e.resolve(t),a=o-t,r=n.depth;0<a&&0<r&&n.indexAfter(r)==n.node(r).childCount;)r--,a--;if(0<a)for(var i=n.node(r).maybeChild(n.indexAfter(r));0<a;){if(!i||i.isLeaf)return!0;i=i.firstChild,a--}return!1}function c(e,t,o){return(0==t||e.canReplace(t,e.childCount))&&(o==e.childCount||e.canReplace(0,o))}function u(e){return{type:e,attrs:null}}function f(e,t){var o=e.parent,n=e.startIndex,a=e.endIndex,r=o.contentMatchAt(n).findWrapping(t);if(!r)return null;var i=r.length?r[0]:t;return o.canReplaceWith(n,a,i)?r:null}function m(e,t){var o=e.parent,n=e.startIndex,a=e.endIndex,r=o.child(n),s=t.contentMatch.findWrapping(r.type);if(!s)return null;for(var d=s.length?s[s.length-1]:t,l=d.contentMatch,p=n;l&&p<a;p++)l=l.matchType(o.child(p).type);return l&&l.validEnd?s:null}function h(e,t,o){var n=e.resolve(t),a=n.index();return n.parent.canReplaceWith(a,a+1,o)}function g(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function y(e,t,o){var n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),o))return t;if(0==n.parentOffset)for(var a=n.depth-1,r;0<=a;a--){if(r=n.index(a),n.node(a).canReplaceWith(r,r,o))return n.before(a+1);if(0<r)return null}if(n.parentOffset==n.parent.content.size)for(var i=n.depth-1,s;0<=i;i--){if(s=n.indexAfter(i),n.node(i).canReplaceWith(s,s,o))return n.after(i+1);if(s<n.node(i).childCount)return null}}function b(e,t,o){for(var n=[],a=0,r;a<e.childCount;a++)r=e.child(a),r.content.size&&(r=r.copy(b(r.content,t,r))),r.isInline&&(r=t(r,o,a)),n.push(r);return P.Fragment.fromArray(n)}function v(e,t,o,n){if(void 0===o&&(o=t),void 0===n&&(n=P.Slice.empty),t==o&&!n.size)return null;var a=e.resolve(t),r=e.resolve(o);return k(a,r,n)?new L(t,o,n):new j(a,r,n).fit()}function k(e,t,o){return!o.openStart&&!o.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),o.content)}function x(e,t,o){return 0==t?e.cutByIndex(o):e.replaceChild(0,e.firstChild.copy(x(e.firstChild.content,t-1,o)))}function S(e,t,o){return 0==t?e.append(o):e.replaceChild(e.childCount-1,e.lastChild.copy(S(e.lastChild.content,t-1,o)))}function w(e,t){for(var o=0;o<t;o++)e=e.firstChild.content;return e}function C(e,t,o){if(0>=t)return e;var n=e.content;return 1<t&&(n=n.replaceChild(0,C(n.firstChild,t-1,1==n.childCount?o-1:0))),0<t&&(n=e.type.contentMatch.fillBefore(n).append(n),0>=o&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(P.Fragment.empty,!0)))),e.copy(n)}function _(e,t,o,n,a){var r=e.node(t),i=a?e.indexAfter(t):e.index(t);if(i==r.childCount&&!o.compatibleContent(r.type))return null;var s=n.fillBefore(r.content,!0,i);return s&&!M(o,r.content,i)?s:null}function M(e,t,o){for(var n=o;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function O(e,t,o,n,a){if(t<o){var r=e.firstChild;e=e.replaceChild(0,r.copy(O(r.content,t+1,o,n,r)))}if(t>n){var i=a.contentMatchAt(0),s=i.fillBefore(e).append(e);e=s.append(i.matchFragment(s).fillBefore(P.Fragment.empty,!0))}return e}function N(e,t){for(var o=[],n=r(e.depth,t.depth),a=n,i;0<=a&&(i=e.start(a),!(i<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating));a--)i==t.start(a)&&o.push(a);return o}Object.defineProperty(t,'__esModule',{value:!0}),t.TransformError=i,t.canJoin=function(e,t){var o=e.resolve(t),n=o.index();return g(o.nodeBefore,o.nodeAfter)&&o.parent.canReplace(n,n+1)},t.canSplit=function(e,t,o,n){void 0===o&&(o=1);var a=e.resolve(t),r=a.depth-o,s=n&&n[n.length-1]||a.parent;if(0>r||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!s.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(var l=a.depth-1,d=o-2;l>r;l--,d--){var i=a.node(l),p=a.index(l);if(i.type.spec.isolating)return!1;var c=i.content.cutByIndex(p,i.childCount),u=n&&n[d]||i;if(u!=i&&(c=c.replaceChild(0,u.type.create(u.attrs))),!i.canReplace(p+1,i.childCount)||!u.type.validContent(c))return!1}var f=a.indexAfter(r),m=n&&n[0];return a.node(r).canReplaceWith(f,f,m?m.type:a.node(r+1).type)},t.dropPoint=function(e,t,o){var n=e.resolve(t);if(!o.content.size)return t;for(var a=o.content,r=0;r<o.openStart;r++)a=a.firstChild.content;for(var i=1;i<=(0==o.openStart&&o.size?2:1);i++)for(var s=n.depth;0<=s;s--){var d=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(0<d?1:0);if(1==i?n.node(s).canReplace(l,l,a):n.node(s).contentMatchAt(l).findWrapping(a.firstChild.type))return 0==d?n.pos:0>d?n.before(s+1):n.after(s+1)}return null},t.findWrapping=function(e,t,o,n){void 0===n&&(n=e);var a=f(e,t),r=a&&m(n,t);return r?a.map(u).concat({type:t,attrs:o}).concat(r.map(u)):null},t.insertPoint=y,t.joinPoint=function(e,t,o){void 0===o&&(o=-1);for(var n=e.resolve(t),a=n.depth;;a--){var r=void 0,i=void 0,s=n.index(a);if(a==n.depth?(r=n.nodeBefore,i=n.nodeAfter):0<o?(r=n.node(a+1),s++,i=n.node(a).maybeChild(s)):(r=n.node(a).maybeChild(s-1),i=n.node(a+1)),r&&!r.isTextblock&&g(r,i)&&n.node(a).canReplace(s,s+1))return t;if(0==a)break;t=0>o?n.before(a):n.after(a)}},t.liftTarget=function(e){for(var t=e.parent,o=t.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var a=e.$from.node(n),r=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&a.canReplace(r,i,o))return n;if(0==n||a.type.spec.isolating||!c(a,r,i))break}},t.replaceStep=v,t.Transform=t.StepResult=t.StepMap=t.Step=t.ReplaceStep=t.ReplaceAroundStep=t.RemoveMarkStep=t.Mapping=t.MapResult=t.AddMarkStep=void 0;var P=o('304a'),T=65535,A=65536,D=function(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=null),this.pos=e,this.deleted=t,this.recover=o};t.MapResult=D;var I=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};t.StepMap=I,I.prototype.recover=function(e){var t=0,o=a(e);if(!this.inverted)for(var n=0;n<o;n++)t+=this.ranges[3*n+2]-this.ranges[3*n+1];return this.ranges[3*o]+t+d(e)},I.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},I.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},I.prototype._map=function(e,t,o){for(var a=0,r=this.inverted?2:1,s=this.inverted?1:2,d=0,i;d<this.ranges.length&&(i=this.ranges[d]-(this.inverted?a:0),!(i>e));d+=3){var l=this.ranges[d+r],p=this.ranges[d+s],c=i+l;if(e<=c){var u=l?e==i?-1:e==c?1:t:t,f=i+a+(0>u?0:p);if(o)return f;var m=e==(0>t?i:c)?null:n(d/3,e-i);return new D(f,0>t?e!=i:e!=c,m)}a+=p-l}return o?e+a:new D(e+a)},I.prototype.touches=function(e,t){for(var o=0,n=a(t),r=this.inverted?2:1,s=this.inverted?1:2,d=0,i;d<this.ranges.length&&(i=this.ranges[d]-(this.inverted?o:0),!(i>e));d+=3){var l=this.ranges[d+r],p=i+l;if(e<=p&&d==3*n)return!0;o+=this.ranges[d+s]-l}return!1},I.prototype.forEach=function(e){for(var t=this.inverted?2:1,o=this.inverted?1:2,n=0,a=0;n<this.ranges.length;n+=3){var r=this.ranges[n],i=r-(this.inverted?a:0),s=r+(this.inverted?0:a),d=this.ranges[n+t],l=this.ranges[n+o];e(i,i+d,s,s+l),a+=l-d}},I.prototype.invert=function(){return new I(this.ranges,!this.inverted)},I.prototype.toString=function(){return(this.inverted?'-':'')+JSON.stringify(this.ranges)},I.offset=function(e){return 0==e?I.empty:new I(0>e?[0,-e,0]:[0,0,e])},I.empty=new I([]);var E=function(e,t,o,n){this.maps=e||[],this.from=o||0,this.to=null==n?this.maps.length:n,this.mirror=t};t.Mapping=E,E.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new E(this.maps,this.mirror,e,t)},E.prototype.copy=function(){return new E(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},E.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},E.prototype.appendMapping=function(e){for(var t=0,o=this.maps.length,n;t<e.maps.length;t++)n=e.getMirror(t),this.appendMap(e.maps[t],null!=n&&n<t?o+n:null)},E.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},E.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},E.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,o=this.maps.length+e.maps.length,n;0<=t;t--)n=e.getMirror(t),this.appendMap(e.maps[t].invert(),null!=n&&n>t?o-n-1:null)},E.prototype.invert=function(){var e=new E;return e.appendMappingInverted(this),e},E.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var o=this.from;o<this.to;o++)e=this.maps[o].map(e,t);return e},E.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},E.prototype._map=function(e,t,o){for(var n=!1,a=this.from;a<this.to;a++){var r=this.maps[a],i=r.mapResult(e,t);if(null!=i.recover){var s=this.getMirror(a);if(null!=s&&s>a&&s<this.to){a=s,e=this.maps[s].recover(i.recover);continue}}i.deleted&&(n=!0),e=i.pos}return o?e:new D(e,n)},i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i.prototype.name='TransformError';var $=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new E};t.Transform=$;var R={before:{configurable:!0},docChanged:{configurable:!0}};R.before.get=function(){return this.docs.length?this.docs[0]:this.doc},$.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new i(t.failed);return this},$.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},R.docChanged.get=function(){return 0<this.steps.length},$.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties($.prototype,R);var B=Object.create(null),z=function(){};t.Step=z,z.prototype.apply=function(){return l()},z.prototype.getMap=function(){return I.empty},z.prototype.invert=function(){return l()},z.prototype.map=function(){return l()},z.prototype.merge=function(){return null},z.prototype.toJSON=function(){return l()},z.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError('Invalid input for Step.fromJSON');var o=B[t.stepType];if(!o)throw new RangeError('No step type '+t.stepType+' defined');return o.fromJSON(e,t)},z.jsonID=function(e,t){if(e in B)throw new RangeError('Duplicate use of step JSON ID '+e);return B[e]=t,t.prototype.jsonID=e,t};var F=function(e,t){this.doc=e,this.failed=t};t.StepResult=F,F.ok=function(e){return new F(e,null)},F.fail=function(e){return new F(null,e)},F.fromReplace=function(e,t,o,n){try{return F.ok(e.replace(t,o,n))}catch(t){if(t instanceof P.ReplaceError)return F.fail(t.message);throw t}};var L=function(e){function t(t,o,n,a){e.call(this),this.from=t,this.to=o,this.slice=n,this.structure=!!a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&p(e,this.from,this.to)?F.fail('Structure replace would overwrite content'):F.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new I([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var o=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return o.deleted&&n.deleted?null:new t(o.pos,s(o.pos,n.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){var o=0==this.slice.size+e.slice.size?P.Slice.empty:new P.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)}if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){var n=0==this.slice.size+e.slice.size?P.Slice.empty:new P.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}return null},t.prototype.toJSON=function(){var e={stepType:'replace',from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,o){if('number'!=typeof o.from||'number'!=typeof o.to)throw new RangeError('Invalid input for ReplaceStep.fromJSON');return new t(o.from,o.to,P.Slice.fromJSON(e,o.slice),!!o.structure)},t}(z);t.ReplaceStep=L,z.jsonID('replace',L);var V=function(e){function t(t,o,n,a,r,i,s){e.call(this),this.from=t,this.to=o,this.gapFrom=n,this.gapTo=a,this.slice=r,this.insert=i,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(p(e,this.from,this.gapFrom)||p(e,this.gapTo,this.to)))return F.fail('Structure gap-replace would overwrite content');var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return F.fail('Gap is not a flat range');var o=this.slice.insertAt(this.insert,t.content);return o?F.fromReplace(e,this.from,this.to,o):F.fail('Content does not fit in gap')},t.prototype.getMap=function(){return new I([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var o=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var o=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=e.map(this.gapFrom,-1),r=e.map(this.gapTo,1);return o.deleted&&n.deleted||a<o.pos||r>n.pos?null:new t(o.pos,n.pos,a,r,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:'replaceAround',from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,o){if('number'!=typeof o.from||'number'!=typeof o.to||'number'!=typeof o.gapFrom||'number'!=typeof o.gapTo||'number'!=typeof o.insert)throw new RangeError('Invalid input for ReplaceAroundStep.fromJSON');return new t(o.from,o.to,o.gapFrom,o.gapTo,P.Slice.fromJSON(e,o.slice),o.insert,!!o.structure)},t}(z);t.ReplaceAroundStep=V,z.jsonID('replaceAround',V),$.prototype.lift=function(e,t){for(var o=e.$from,n=e.$to,a=e.depth,r=o.before(a+1),i=n.after(a+1),s=r,l=i,p=P.Fragment.empty,c=0,u=a,d=!1;u>t;u--)d||0<o.index(u)?(d=!0,p=P.Fragment.from(o.node(u).copy(p)),c++):s--;for(var f=P.Fragment.empty,m=0,h=a,g=!1;h>t;h--)g||n.after(h+1)<n.end(h)?(g=!0,f=P.Fragment.from(n.node(h).copy(f)),m++):l++;return this.step(new V(s,l,r,i,new P.Slice(p.append(f),c,m),p.size-c,!0))},$.prototype.wrap=function(e,t){for(var o=P.Fragment.empty,n=t.length-1;0<=n;n--)o=P.Fragment.from(t[n].type.create(t[n].attrs,o));var a=e.start,r=e.end;return this.step(new V(a,r,a,r,new P.Slice(o,0,0),t.length,!0))},$.prototype.setBlockType=function(e,t,o,n){var a=this;if(void 0===t&&(t=e),!o.isTextblock)throw new RangeError('Type given to setBlockType should be a textblock');var r=this.steps.length;return this.doc.nodesBetween(e,t,function(e,t){if(e.isTextblock&&!e.hasMarkup(o,n)&&h(a.doc,a.mapping.slice(r).map(t),o)){a.clearIncompatible(a.mapping.slice(r).map(t,1),o);var i=a.mapping.slice(r),s=i.map(t,1),d=i.map(t+e.nodeSize,1);return a.step(new V(s,d,s+1,d-1,new P.Slice(P.Fragment.from(o.create(n,null,e.marks)),0,0),1,!0)),!1}}),this},$.prototype.setNodeMarkup=function(e,t,o,n){var a=this.doc.nodeAt(e);if(!a)throw new RangeError('No node at given position');t||(t=a.type);var r=t.create(o,null,n||a.marks);if(a.isLeaf)return this.replaceWith(e,e+a.nodeSize,r);if(!t.validContent(a.content))throw new RangeError('Invalid content for node type '+t.name);return this.step(new V(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new P.Slice(P.Fragment.from(r),0,0),1,!0))},$.prototype.split=function(t,o,n){void 0===o&&(o=1);for(var a=this.doc.resolve(t),r=P.Fragment.empty,s=P.Fragment.empty,l=a.depth,d=a.depth-o,e=o-1;l>d;l--,e--){r=P.Fragment.from(a.node(l).copy(r));var i=n&&n[e];s=P.Fragment.from(i?i.type.create(i.attrs,s):a.node(l).copy(s))}return this.step(new L(t,t,new P.Slice(r.append(s),o,o),!0))},$.prototype.join=function(e,t){void 0===t&&(t=1);var o=new L(e-t,e+t,P.Slice.empty,!0);return this.step(o)};var H=function(e){function t(t,o,n){e.call(this),this.from=t,this.to=o,this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,o=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),r=new P.Slice(b(o.content,function(e,o){return o.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e},a),o.openStart,o.openEnd);return F.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new W(this.from,this.to,this.mark)},t.prototype.map=function(e){var o=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return o.deleted&&n.deleted||o.pos>=n.pos?null:new t(o.pos,n.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(r(this.from,e.from),s(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:'addMark',mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,o){if('number'!=typeof o.from||'number'!=typeof o.to)throw new RangeError('Invalid input for AddMarkStep.fromJSON');return new t(o.from,o.to,e.markFromJSON(o.mark))},t}(z);t.AddMarkStep=H,z.jsonID('addMark',H);var W=function(e){function t(t,o,n){e.call(this),this.from=t,this.to=o,this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,o=e.slice(this.from,this.to),n=new P.Slice(b(o.content,function(e){return e.mark(t.mark.removeFromSet(e.marks))}),o.openStart,o.openEnd);return F.fromReplace(e,this.from,this.to,n)},t.prototype.invert=function(){return new H(this.from,this.to,this.mark)},t.prototype.map=function(e){var o=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return o.deleted&&n.deleted||o.pos>=n.pos?null:new t(o.pos,n.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(r(this.from,e.from),s(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:'removeMark',mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,o){if('number'!=typeof o.from||'number'!=typeof o.to)throw new RangeError('Invalid input for RemoveMarkStep.fromJSON');return new t(o.from,o.to,e.markFromJSON(o.mark))},t}(z);t.RemoveMarkStep=W,z.jsonID('removeMark',W),$.prototype.addMark=function(e,t,o){var n=this,a=[],d=[],l=null,p=null;return this.doc.nodesBetween(e,t,function(n,c,u){if(n.isInline){var f=n.marks;if(!o.isInSet(f)&&u.type.allowsMarkType(o.type)){for(var m=s(c,e),h=r(c+n.nodeSize,t),g=o.addToSet(f),y=0;y<f.length;y++)f[y].isInSet(g)||(l&&l.to==m&&l.mark.eq(f[y])?l.to=h:a.push(l=new W(m,h,f[y])));p&&p.to==m?p.to=h:d.push(p=new H(m,h,o))}}}),a.forEach(function(e){return n.step(e)}),d.forEach(function(e){return n.step(e)}),this},$.prototype.removeMark=function(e,t,o){var n=this;void 0===o&&(o=null);var a=[],d=0;return this.doc.nodesBetween(e,t,function(n,l){if(n.isInline){d++;var p=null;if(o instanceof P.MarkType){var c=o.isInSet(n.marks);c&&(p=[c])}else o?o.isInSet(n.marks)&&(p=[o]):p=n.marks;if(p&&p.length)for(var u=r(l+n.nodeSize,t),f=0;f<p.length;f++){for(var i=p[f],h=void 0,g=0,y;g<a.length;g++)y=a[g],y.step==d-1&&i.eq(a[g].style)&&(h=y);h?(h.to=u,h.step=d):a.push({style:i,from:s(l,e),to:u,step:d})}}}),a.forEach(function(e){return n.step(new W(e.from,e.to,e.style))}),this},$.prototype.clearIncompatible=function(e,t,o){void 0===o&&(o=t.contentMatch);for(var n=this.doc.nodeAt(e),a=[],r=e+1,s=0;s<n.childCount;s++){var i=n.child(s),d=r+i.nodeSize,l=o.matchType(i.type,i.attrs);if(!l)a.push(new L(r,d,P.Slice.empty));else{o=l;for(var p=0;p<i.marks.length;p++)t.allowsMarkType(i.marks[p].type)||this.step(new W(r,d,i.marks[p]))}r=d}if(!o.validEnd){var c=o.fillBefore(P.Fragment.empty,!0);this.replace(r,r,new P.Slice(c,0,0))}for(var u=a.length-1;0<=u;u--)this.step(a[u]);return this},$.prototype.replace=function(e,t,o){void 0===t&&(t=e),void 0===o&&(o=P.Slice.empty);var n=v(this.doc,e,t,o);return n&&this.step(n),this},$.prototype.replaceWith=function(e,t,o){return this.replace(e,t,new P.Slice(P.Fragment.from(o),0,0))},$.prototype.delete=function(e,t){return this.replace(e,t,P.Slice.empty)},$.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var j=function(e,t,o){this.$to=t,this.$from=e,this.unplaced=o,this.frontier=[];for(var n=0,a;n<=e.depth;n++)a=e.node(n),this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(n))});this.placed=P.Fragment.empty;for(var r=e.depth;0<r;r--)this.placed=P.Fragment.from(e.node(r).copy(this.placed))},q={depth:{configurable:!0}};q.depth.get=function(){return this.frontier.length-1},j.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),o=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(0>t?this.$to:n.doc.resolve(t));if(!a)return null;for(var r=this.placed,i=n.depth,s=a.depth;i&&s&&1==r.childCount;)r=r.firstChild.content,i--,s--;var d=new P.Slice(r,i,s);return-1<t?new V(n.pos,t,this.$to.pos,this.$to.end(),d,o):d.size||n.pos!=this.$to.pos?new L(n.pos,a.pos,d):void 0},j.prototype.findFittable=function(){for(var e=1;2>=e;e++)for(var t=this.unplaced.openStart;0<=t;t--){var o=void 0,n=void 0;t?(n=w(this.unplaced.content,t-1).firstChild,o=n.content):o=this.unplaced.content;for(var a=o.firstChild,r=this.depth;0<=r;r--){var i=this.frontier[r],s=i.type,d=i.match,l=void 0,p=void 0;if(1==e&&(a?d.matchType(a.type)||(p=d.fillBefore(P.Fragment.from(a),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:p};if(2==e&&a&&(l=d.findWrapping(a.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:l};if(n&&d.matchType(n.type))break}}},j.prototype.openMore=function(){var e=this.unplaced,t=e.content,o=e.openStart,n=e.openEnd,a=w(t,o);return a.childCount&&!a.firstChild.isLeaf&&(this.unplaced=new P.Slice(t,o+1,s(n,a.size+o>=t.size-n?o+1:0)),!0)},j.prototype.dropNode=function(){var e=this.unplaced,t=e.content,o=e.openStart,n=e.openEnd,a=w(t,o);if(1>=a.childCount&&0<o){var r=t.size-o<=o+a.size;this.unplaced=new P.Slice(x(t,o-1,1),o-1,r?o-1:n)}else this.unplaced=new P.Slice(x(t,o,1),o,n)},j.prototype.placeNodes=function(e){for(var t=e.sliceDepth,o=e.frontierDepth,n=e.parent,a=e.inject,r=e.wrap;this.depth>o;)this.closeFrontierNode();if(r)for(var s=0;s<r.length;s++)this.openFrontierNode(r[s]);var i=this.unplaced,d=n?n.content:i.content,l=i.openStart-t,p=0,c=[],u=this.frontier[o],f=u.match,m=u.type;if(a){for(var h=0;h<a.childCount;h++)c.push(a.child(h));f=f.matchFragment(a)}for(var g=d.size+t-(i.content.size-i.openEnd);p<d.childCount;){var y=d.child(p),b=f.matchType(y.type);if(!b)break;p++,(1<p||0==l||y.content.size)&&(f=b,c.push(C(y.mark(m.allowedMarks(y.marks)),1==p?l:0,p==d.childCount?g:-1)))}var v=p==d.childCount;v||(g=-1),this.placed=S(this.placed,o,P.Fragment.from(c)),this.frontier[o].match=f,v&&0>g&&n&&n.type==this.frontier[this.depth].type&&1<this.frontier.length&&this.closeFrontierNode();for(var k=0,w=d,_;k<g;k++)_=w.lastChild,this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),w=_.content;this.unplaced=v?0==t?P.Slice.empty:new P.Slice(x(i.content,t-1,1),t-1,0>g?i.openEnd:t-1):new P.Slice(x(i.content,t,p),i.openStart,i.openEnd)},j.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e=this.frontier[this.depth],t;if(!e.type.isTextblock||!_(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var o=this.$to,n=o.depth,a=this.$to.after(n);1<n&&a==this.$to.end(--n);)++a;return a},j.prototype.findCloseLevel=function(e){scan:for(var t=r(this.depth,e.depth);0<=t;t--){var o=this.frontier[t],n=o.match,a=o.type,s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=_(e,t,a,n,s);if(l){for(var p=t-1;0<=p;p--){var d=this.frontier[p],c=d.match,u=d.type,f=_(e,p,u,c,!0);if(!f||f.childCount)continue scan}return{depth:t,fit:l,move:s?e.doc.resolve(e.after(t+1)):e}}}},j.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=S(this.placed,t.depth,t.fit)),e=t.move;for(var o=t.depth+1;o<=e.depth;o++){var n=e.node(o),a=n.type.contentMatch.fillBefore(n.content,!0,e.index(o));this.openFrontierNode(n.type,n.attrs,a)}return e},j.prototype.openFrontierNode=function(e,t,o){var n=this.frontier[this.depth];n.match=n.match.matchType(e),this.placed=S(this.placed,this.depth,P.Fragment.from(e.create(t,o))),this.frontier.push({type:e,match:e.contentMatch})},j.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),t=e.match.fillBefore(P.Fragment.empty,!0);t.childCount&&(this.placed=S(this.placed,this.frontier.length,t))},Object.defineProperties(j.prototype,q),$.prototype.replaceRange=function(e,t,o){if(!o.size)return this.deleteRange(e,t);var n=this.doc.resolve(e),a=this.doc.resolve(t);if(k(n,a,o))return this.step(new L(e,t,o));var r=N(n,this.doc.resolve(t));0==r[r.length-1]&&r.pop();var s=-(n.depth+1);r.unshift(s);for(var l=n.depth,p=n.pos-1,c;0<l&&(c=n.node(l).type.spec,!(c.defining||c.isolating));l--,p--)-1<r.indexOf(l)?s=l:n.before(l)==p&&r.splice(1,0,-l);for(var u=r.indexOf(s),f=[],m=o.openStart,h=o.content,g=0,i;;g++){if(i=h.firstChild,f.push(i),g==o.openStart)break;h=i.content}0<m&&f[m-1].type.spec.defining&&n.node(u).type!=f[m-1].type?m-=1:2<=m&&f[m-1].isTextblock&&f[m-2].type.spec.defining&&n.node(u).type!=f[m-2].type&&(m-=2);for(var y=o.openStart;0<=y;y--){var b=(y+m+1)%(o.openStart+1),v=f[b];if(v)for(var x=0;x<r.length;x++){var S=r[(x+u)%r.length],w=!0;0>S&&(w=!1,S=-S);var C=n.node(S-1),_=n.index(S-1);if(C.canReplaceWith(_,_,v.type,v.marks))return this.replace(n.before(S),w?a.after(S):t,new P.Slice(O(o.content,0,o.openStart,b),b,o.openEnd))}}for(var M=this.steps.length,T=r.length-1,A;0<=T&&(this.replace(e,t,o),!(this.steps.length>M));T--)A=r[T],0>T||(e=n.before(A),t=a.after(A));return this},$.prototype.replaceRangeWith=function(e,t,o){if(!o.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var n=y(this.doc,e,o.type);null!=n&&(e=t=n)}return this.replaceRange(e,t,new P.Slice(P.Fragment.from(o),0,0))},$.prototype.deleteRange=function(e,t){for(var o=this.doc.resolve(e),n=this.doc.resolve(t),a=N(o,n),r=0;r<a.length;r++){var i=a[r],s=r==a.length-1;if(s&&0==i||o.node(i).type.contentMatch.validEnd)return this.delete(o.start(i),n.end(i));if(0<i&&(s||o.node(i-1).canReplace(o.index(i-1),n.indexAfter(i-1))))return this.delete(o.before(i),n.after(i))}for(var l=1;l<=o.depth&&l<=n.depth;l++)if(e-o.start(l)==o.depth-l&&t>o.end(l)&&n.end(l)-t!=n.depth-l)return this.delete(o.before(l),t);return this.delete(e,t)}},"0e51":function(e,t,o){'use strict';o.r(t);var n=o('7cc0'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"17fd":function(e,t){'use strict';function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function a(e){for(var t=1,n;t<arguments.length;t++)n=null==arguments[t]?{}:arguments[t],t%2?o(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))});return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;t.default={methods:{randomBetween:function(e,t){return n(Math.random()*(t-e+1)+e)},randomizeArray:function(e){for(var t=e.length,o,a;0!==t;)a=n(Math.random()*t),t-=1,o=e[t],e[t]=e[a],e[a]=o;return e},tooltipOpen:function(t,o){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.$store.commit('tooltips/open',a({content:t,element:o.target},e))},tooltipClose:function(){this.$store.commit('tooltips/close')}}}},1875:function(e,t,o){'use strict';o.r(t);var n=o('08bd'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"1a16":function(e,t,o){'use strict';function n(e){for(var t=e.depth,o;0<=t;t--)if(o=e.index(t),0!=o)for(var n=e.node(t).child(o-1);;n=n.lastChild){if(0==n.childCount&&!n.inlineContent||n.isAtom||n.type.spec.isolating)return!0;if(n.inlineContent)return!1}return!0}function a(e){for(var t=e.depth;0<=t;t--){var o=e.indexAfter(t),n=e.node(t);if(o!=n.childCount)for(var a=n.child(o);;a=a.firstChild){if(0==a.childCount&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function r(e,t){var o='vert'==e?0<t?'down':'up':0<t?'right':'left';return function(e,n,a){var r=e.selection,i=0<t?r.$to:r.$from,s=r.empty;if(r instanceof l.TextSelection){if(!a.endOfTextblock(o)||0==i.depth)return!1;s=!1,i=e.doc.resolve(0<t?i.after():i.before())}var d=u.findFrom(i,t,s);return!!d&&(n&&n(e.tr.setSelection(new u(d))),!0)}}function i(e,t,o){if(!e.editable)return!1;var n=e.state.doc.resolve(t);if(!u.valid(n))return!1;var a=e.posAtCoords({left:o.clientX,top:o.clientY}),r=a.inside;return!(-1<r&&l.NodeSelection.isSelectable(e.state.doc.nodeAt(r)))&&(e.dispatch(e.state.tr.setSelection(new u(n))),!0)}function s(e){if(!(e.selection instanceof u))return null;var t=document.createElement('div');return t.className='ProseMirror-gapcursor',p.DecorationSet.create(e.doc,[p.Decoration.widget(e.selection.head,t,{key:'gapcursor'})])}Object.defineProperty(t,'__esModule',{value:!0}),t.gapCursor=t.GapCursor=void 0;var d=o('7f06'),l=o('5313'),p=o('576a'),c=o('304a'),u=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(o,n){var a=o.resolve(n.map(this.head));return t.valid(a)?new t(a):e.near(a)},t.prototype.content=function(){return c.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:'gapcursor',pos:this.head}},t.fromJSON=function(e,o){if('number'!=typeof o.pos)throw new RangeError('Invalid input for GapCursor.fromJSON');return new t(e.resolve(o.pos))},t.prototype.getBookmark=function(){return new f(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!n(e)||!a(e))return!1;var o=t.type.spec.allowGapCursor;if(null!=o)return o;var r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock},t.findFrom=function(e,o,n){search:for(;;){if(!n&&t.valid(e))return e;for(var a=e.pos,r=null,i=e.depth,s;;i--){if(s=e.node(i),0<o?e.indexAfter(i)<s.childCount:0<e.index(i)){r=s.child(0<o?e.indexAfter(i):e.index(i)-1);break}else if(0==i)return null;a+=o;var d=e.doc.resolve(a);if(t.valid(d))return d}for(;;){var p=0<o?r.firstChild:r.lastChild;if(!p){if(r.isAtom&&!r.isText&&!l.NodeSelection.isSelectable(r)){e=e.doc.resolve(a+r.nodeSize*o),n=!1;continue search}break}r=p,a+=o;var c=e.doc.resolve(a);if(t.valid(c))return c}return null}},t}(l.Selection);t.GapCursor=u,u.prototype.visible=!1,l.Selection.jsonID('gapcursor',u);var f=function(e){this.pos=e};f.prototype.map=function(e){return new f(e.map(this.pos))},f.prototype.resolve=function(e){var t=e.resolve(this.pos);return u.valid(t)?new u(t):l.Selection.near(t)};t.gapCursor=function(){return new l.Plugin({props:{decorations:s,createSelectionBetween:function(e,t,o){if(t.pos==o.pos&&u.valid(o))return new u(o)},handleClick:i,handleKeyDown:m}})};var m=(0,d.keydownHandler)({ArrowLeft:r('horiz',-1),ArrowRight:r('horiz',1),ArrowUp:r('vert',-1),ArrowDown:r('vert',1)})},"1b97":function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'PaperEditor_select'},[o('select-base',{attrs:{options:e.items,value:e.selectedId},on:{input:e.onInput}})],1)},a=[]},"1b9d":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={name:'HelperReveal',props:{isRevealed:{type:Boolean,default:!1}}};t.default=o},"1eb2":function(e,t,o){'use strict';if(Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0,'undefined'!=typeof window){var n=window.document.currentScript,a=o('8875');n=a(),'currentScript'in document||Object.defineProperty(document,'currentScript',{get:a});var r=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(o.p=r[1])}t.default=null},2029:function(e,t,o){'use strict';o.r(t);var n=o('c28e'),a=o('0675');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"214d":function(e,t,n){'use strict';function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?a(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(n('b459')),d={name:'TooltipManager',components:{Tooltip:s.default},data:function(){return{screen:{width:0,scroll:0}}},computed:{tooltips:function(){var e=this;return this.$store.state.tooltips.items.filter(function(e){return e.active}).map(function(t){return r(r({},t),{},{style:e.getPosition(t.position)})})}},mounted:function(){var e=this;this.updateScreen(),window.addEventListener('scroll',function(){return e.updateScreen()})},methods:{updateScreen:function(){this.$set(this.$data.screen,{width:window.innerWidth,scroll:window.pageYOffset||document.documentElement.scrollTop})},getPosition:function(e){var t={top:0,left:0,top:o(e.top+e.height),left:o(e.left)};return{top:t.top+'px',left:t.left+'px'}}}};t.default=d},"23c9":function(e,t,o){'use strict';function n(e){'@babel/helpers - typeof';return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function s(e,t){if(t&&('object'===n(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return d(e)}function d(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var p=o('cd42'),u=o('a9de'),f=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(e){return(0,u.toggleBlockType)(t,o.nodes.paragraph,e)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,u.textblockTypeInputRule)(/^```$/,t)]}},{key:'name',get:function(){return'styledBlock'}},{key:'schema',get:function(){return{attrs:{tag:{default:'p'},classes:{default:[]}},content:'text*',group:'block',defining:!0,draggable:!1,parseDOM:[{tag:['p','h1','h2','h3'],priority:999,getAttrs:function(e){return{tag:e.tagName.toLowerCase(),classes:e.hasAttribute('class')?e.getAttribute('class').explode(' '):[]}}}],toDOM:function(e){return[e.attrs.tag,{class:e.attrs.classes.join(' ')},0]}}}}]),t}(p.Node);t.default=f},"23f1":function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.dropCursor=function(e){return void 0===e&&(e={}),new n.Plugin({view:function(t){return new r(t,e)}})};var n=o('5313'),a=o('0ac0'),r=function(e,t){var o=this;this.editorView=e,this.width=t.width||1,this.color=t.color||'black',this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=['dragover','dragend','drop','dragleave'].map(function(t){var n=function(n){return o[t](n)};return e.dom.addEventListener(t,n),{name:t,handler:n}})};r.prototype.destroy=function(){var e=this;this.handlers.forEach(function(t){var o=t.name,n=t.handler;return e.editorView.dom.removeEventListener(o,n)})},r.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},r.prototype.setCursor=function(e){e==this.cursorPos||(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},r.prototype.updateOverlay=function(){var e=this.editorView.state.doc.resolve(this.cursorPos),t;if(!e.parent.inlineContent){var o=e.nodeBefore,n=e.nodeAfter;if(o||n){var a=this.editorView.nodeDOM(this.cursorPos-(o?o.nodeSize:0)).getBoundingClientRect(),r=o?a.bottom:a.top;o&&n&&(r=(r+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:a.left,right:a.right,top:r-this.width/2,bottom:r+this.width/2}}}if(!t){var i=this.editorView.coordsAtPos(this.cursorPos);t={left:i.left-this.width/2,right:i.left+this.width/2,top:i.top,bottom:i.bottom}}var s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement('div')),this.class&&(this.element.className=this.class),this.element.style.cssText='position: absolute; z-index: 50; pointer-events: none; background-color: '+this.color);var d=s&&(s!=document.body||'static'!=getComputedStyle(s).position)?s.getBoundingClientRect():{left:-pageXOffset,top:-pageYOffset};this.element.style.left=t.left-d.left+'px',this.element.style.top=t.top-d.top+'px',this.element.style.width=t.right-t.left+'px',this.element.style.height=t.bottom-t.top+'px'},r.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.setCursor(null)},e)},r.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var o=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(o=(0,a.dropPoint)(this.editorView.state.doc,o,this.editorView.dragging.slice),null==o&&(o=t.pos)),this.setCursor(o),this.scheduleRemoval(5e3)}}},r.prototype.dragend=function(){this.scheduleRemoval(20)},r.prototype.drop=function(){this.scheduleRemoval(20)},r.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}},2668:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'PaperView',class:{"is-editable":!!e.editable}},[e.initEditor?e._e():o('div',{domProps:{innerHTML:e._s(e.value)}}),e.initEditor?o('editor-content',{staticClass:'Paper_content',attrs:{editor:e.initEditor}}):e._e()],1)},a=[]},2836:function(e,t,o){'use strict';o.r(t);var n=o('c12c'),a=o('ba5a');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},2877:function(e,t,o){'use strict';function n(e,t,o,n,a,r,i,s){var d='function'==typeof e?e.options:e;t&&(d.render=t,d.staticRenderFns=o,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId='data-v-'+r);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||'undefined'==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=l):a&&(l=s?function(){a.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(d.functional){d._injectStyles=l;var p=d.render;d.render=function(e,t){return l.call(t),p(e,t)}}else{var c=d.beforeCreate;d.beforeCreate=c?[].concat(c,l):[l]}return{exports:e,options:d}}o.d(t,'a',function(){return n})},"2ca1":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={name:'HelperErrors',props:{errors:{type:Array,default:function(){return[]}},isValid:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1}}};t.default=o},"2f21":function(e,t,o){'use strict';function n(e){return s(e)||i(e)||r(e)||a()}function a(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function r(e,t){if(e){if('string'==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function i(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function s(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(o('2836')),p={name:'InputUpload',components:{InputBase:l.default},props:{value:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1}},data:function(){return{files:[],state:{loading:!1}}},computed:{queuedFiles:function(){return this.$data.files.filter(function(e){return!e.loaded&&!e.loading})},loadedFiles:function(){return this.$data.files.filter(function(e){return e.loaded})},status:function(){var e='success';return 0<this.$data.files.filter(function(e){return e.error}).length&&(e='partial'),this.$data.files.filter(function(e){return e.error}).length>=this.$data.files.length&&(e='fail'),e}},watch:{value:{immediate:!0,handler:function(e){this.$data.files=e}}},methods:{getTypeIcon:function(e){var t='fa-file-alt';return-1<e.indexOf('image')&&(t='fa-file-image'),-1<e.indexOf('html')&&(t='fa-file-code'),t},addFiles:function(e){this.$data.files=[].concat(n(this.queuedFiles),n(e.map(function(e){return{name:e.name,raw:e,loaded:!1,loading:!1}})))},deleteFile:function(e){this.$data.files=this.$data.files.filter(function(t){return t.name!=e})},upload:function(){this.$emit('input',this.$data.files)}}};t.default=p},"301e":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;t.default={modifiers:['s','light'],default:{}}},"304a":function(e,t,o){'use strict';function n(e){'@babel/helpers - typeof';return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n(e)}function a(e,t,o){for(var n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:o;var r=e.child(n),i=t.child(n);if(r==i){o+=r.nodeSize;continue}if(!r.sameMarkup(i))return o;if(r.isText&&r.text!=i.text){for(var s=0;r.text[s]==i.text[s];s++)o++;return o}if(r.content.size||i.content.size){var d=a(r.content,i.content,o+1);if(null!=d)return d}o+=r.nodeSize}}function i(e,t,o,n){for(var a=e.childCount,s=t.childCount;;){if(0==a||0==s)return a==s?null:{a:o,b:n};var d=e.child(--a),l=t.child(--s),p=d.nodeSize;if(d==l){o-=p,n-=p;continue}if(!d.sameMarkup(l))return{a:o,b:n};if(d.isText&&d.text!=l.text){for(var c=0,u=r(d.text.length,l.text.length);c<u&&d.text[d.text.length-c-1]==l.text[l.text.length-c-1];)c++,o--,n--;return{a:o,b:n}}if(d.content.size||l.content.size){var f=i(d.content,l.content,o-1,n-1);if(f)return f}o-=p,n-=p}}function d(e,t){return Q.index=e,Q.offset=t,Q}function l(e,t){if(e===t)return!0;if(!(e&&'object'==n(e))||!(t&&'object'==n(t)))return!1;var o=Array.isArray(e);if(Array.isArray(t)!=o)return!1;if(o){if(e.length!=t.length)return!1;for(var a=0;a<e.length;a++)if(!l(e[a],t[a]))return!1}else{for(var r in e)if(!(r in t)||!l(e[r],t[r]))return!1;for(var i in t)if(!(i in e))return!1}return!0}function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}function c(e,t,o){var n=e.findIndex(t),a=n.index,r=n.offset,i=e.maybeChild(a),s=e.findIndex(o),d=s.index,l=s.offset;if(r==t||i.isText){if(l!=o&&!e.child(d).isText)throw new RangeError('Removing non-flat range');return e.cut(0,t).append(e.cut(o))}if(a!=d)throw new RangeError('Removing non-flat range');return e.replaceChild(a,i.copy(c(i.content,t-r-1,o-r-1)))}function u(e,t,o,n){var a=e.findIndex(t),r=a.index,i=a.offset,s=e.maybeChild(r);if(i==t||s.isText)return n&&!n.canReplace(r,r,o)?null:e.cut(0,t).append(o).append(e.cut(t));var d=u(s.content,t-i-1,o);return d&&e.replaceChild(r,s.copy(d))}function f(e,t,o){if(o.openStart>e.depth)throw new p('Inserted content deeper than insertion position');if(e.depth-o.openStart!=t.depth-o.openEnd)throw new p('Inconsistent open depths');return m(e,t,o,0)}function m(e,t,o,n){var a=e.index(n),r=e.node(n);if(a==t.index(n)&&n<e.depth-o.openStart){var i=m(e,t,o,n+1);return r.copy(r.content.replaceChild(a,i))}if(!o.content.size)return v(r,x(e,t,n));if(!o.openStart&&!o.openEnd&&e.depth==n&&t.depth==n){var s=e.parent,d=s.content;return v(s,d.cut(0,e.parentOffset).append(o.content).append(d.cut(t.parentOffset)))}var l=S(o,e),p=l.start,c=l.end;return v(r,k(e,p,c,t,n))}function h(e,t){if(!t.type.compatibleContent(e.type))throw new p('Cannot join '+t.type.name+' onto '+e.type.name)}function g(e,t,o){var n=e.node(o);return h(n,t.node(o)),n}function y(e,t){var o=t.length-1;0<=o&&e.isText&&e.sameMarkup(t[o])?t[o]=e.withText(t[o].text+e.text):t.push(e)}function b(e,t,o,n){var a=(t||e).node(o),r=0,s=t?t.index(o):a.childCount;e&&(r=e.index(o),e.depth>o?r++:e.textOffset&&(y(e.nodeAfter,n),r++));for(var d=r;d<s;d++)y(a.child(d),n);t&&t.depth==o&&t.textOffset&&y(t.nodeBefore,n)}function v(e,t){if(!e.type.validContent(t))throw new p('Invalid content for node '+e.type.name);return e.copy(t)}function k(e,t,o,n,a){var r=e.depth>a&&g(e,t,a+1),i=n.depth>a&&g(o,n,a+1),s=[];return b(null,e,a,s),r&&i&&t.index(a)==o.index(a)?(h(r,i),y(v(r,k(e,t,o,n,a+1)),s)):(r&&y(v(r,x(e,t,a+1)),s),b(t,o,a,s),i&&y(v(i,x(o,n,a+1)),s)),b(n,null,a,s),new X(s)}function x(e,t,o){var n=[];if(b(null,e,o,n),e.depth>o){var a=g(e,t,o+1);y(v(a,x(e,t,o+1)),n)}return b(t,null,o,n),new X(n)}function S(e,t){for(var o=t.depth-e.openStart,n=t.node(o),a=n.copy(e.content),r=o-1;0<=r;r--)a=t.node(r).copy(X.from(a));return{start:a.resolveNoCache(e.openStart+o),end:a.resolveNoCache(a.content.size-e.openEnd-o)}}function w(e,t){for(var o=e.length-1;0<=o;o--)t=e[o].type.name+'('+t+')';return t}function C(e){var t=[];do t.push(_(e));while(e.eat('|'));return 1==t.length?t[0]:{type:'choice',exprs:t}}function _(e){var t=[];do t.push(M(e));while(e.next&&')'!=e.next&&'|'!=e.next);return 1==t.length?t[0]:{type:'seq',exprs:t}}function M(e){for(var t=T(e);;)if(e.eat('+'))t={type:'plus',expr:t};else if(e.eat('*'))t={type:'star',expr:t};else if(e.eat('?'))t={type:'opt',expr:t};else if(e.eat('{'))t=N(e,t);else break;return t}function O(e){/\D/.test(e.next)&&e.err('Expected number, got \''+e.next+'\'');var t=+e.next;return e.pos++,t}function N(e,t){var o=O(e),n=o;return e.eat(',')&&('}'==e.next?n=-1:n=O(e)),e.eat('}')||e.err('Unclosed braced range'),{type:'range',min:o,max:n,expr:t}}function P(e,t){var o=e.nodeTypes,n=o[t];if(n)return[n];var a=[];for(var r in o){var i=o[r];-1<i.groups.indexOf(t)&&a.push(i)}return 0==a.length&&e.err('No node type or group \''+t+'\' found'),a}function T(e){if(e.eat('(')){var t=C(e);return e.eat(')')||e.err('Missing closing paren'),t}if(!/\W/.test(e.next)){var o=P(e,e.next).map(function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err('Mixing inline and block content'),{type:'name',value:t}});return e.pos++,1==o.length?o[0]:{type:'choice',exprs:o}}e.err('Unexpected token \''+e.next+'\'')}function A(e){function t(){return r.push([])-1}function o(e,t,o){var n={term:o,to:t};return r[e].push(n),n}function n(e,t){e.forEach(function(e){return e.to=t})}function a(e,r){if('choice'==e.type)return e.exprs.reduce(function(e,t){return e.concat(a(t,r))},[]);if('seq'==e.type)for(var s=0,i;;s++){if(i=a(e.exprs[s],r),s==e.exprs.length-1)return i;n(i,r=t())}else{if('star'==e.type){var d=t();return o(r,d),n(a(e.expr,d),d),[o(d)]}if('plus'==e.type){var l=t();return n(a(e.expr,r),l),n(a(e.expr,l),l),[o(l)]}if('opt'==e.type)return[o(r)].concat(a(e.expr,r));if('range'==e.type){for(var p=r,c=0,u;c<e.min;c++)u=t(),n(a(e.expr,p),u),p=u;if(-1==e.max)n(a(e.expr,p),p);else for(var f=e.min,m;f<e.max;f++)m=t(),o(p,m),n(a(e.expr,p),m),p=m;return[o(p)]}if('name'==e.type)return[o(r,null,e.value)]}}var r=[[]];return n(a(e,0),t()),r}function D(e,t){return t-e}function I(e,t){function o(t){var a=e[t];if(1==a.length&&!a[0].term)return o(a[0].to);n.push(t);for(var r=0;r<a.length;r++){var i=a[r],s=i.term,d=i.to;s||-1!=n.indexOf(d)||o(d)}}var n=[];return o(t),n.sort(D)}function E(e){function t(n){var a=[];n.forEach(function(t){e[t].forEach(function(t){var o=t.term,n=t.to;if(o){var r=a.indexOf(o),i=-1<r&&a[r+1];I(e,n).forEach(function(e){i||a.push(o,i=[]),-1==i.indexOf(e)&&i.push(e)})}})});for(var r=o[n.join(',')]=new fe(-1<n.indexOf(e.length-1)),s=0,i;s<a.length;s+=2)i=a[s+1].sort(D),r.next.push(a[s],o[i.join(',')]||t(i));return r}var o=Object.create(null);return t(I(e,0))}function $(e,t){for(var o=0,n=[e];o<n.length;o++){for(var a=n[o],r=!a.validEnd,i=[],s=0;s<a.next.length;s+=2){var d=a.next[s],l=a.next[s+1];i.push(d.name),r&&!(d.isText||d.hasRequiredAttrs())&&(r=!1),-1==n.indexOf(l)&&n.push(l)}r&&t.err('Only non-generatable nodes ('+i.join(', ')+') in a required position (see https://prosemirror.net/docs/guide/#generatable)')}}function R(e){var t=Object.create(null);for(var o in e){var n=e[o];if(!n.hasDefault)return null;t[o]=n.default}return t}function B(e,t){var o=Object.create(null);for(var n in e){var a=t&&t[n];if(void 0===a){var r=e[n];if(r.hasDefault)a=r.default;else throw new RangeError('No value supplied for attribute '+n)}o[n]=a}return o}function z(e){var t=Object.create(null);if(e)for(var o in e)t[o]=new ve(e[o]);return t}function F(e,t){for(var o=[],n=0;n<t.length;n++){var a=t[n],r=e.marks[a],i=r;if(r)o.push(r);else for(var s in e.marks){var d=e.marks[s];('_'==a||d.spec.group&&-1<d.spec.group.split(' ').indexOf(a))&&o.push(i=d)}if(!i)throw new SyntaxError('Unknown mark type: \''+t[n]+'\'')}return o}function L(e){return(e?Oe:0)|('full'===e?Ne:0)}function V(e){for(var t=e.firstChild,o=null,n;t;t=t.nextSibling)n=1==t.nodeType?t.nodeName.toLowerCase():null,n&&Me.hasOwnProperty(n)&&o?(o.appendChild(t),t=o):'li'==n?o=t:n&&(o=null)}function H(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function j(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,o=[],n;n=t.exec(e);)o.push(n[1],n[2].trim());return o}function W(e){var t={};for(var o in e)t[o]=e[o];return t}function q(e,t){var o=t.schema.nodes,n=function(n){var a=o[n];if(a.allowsMarkType(e)){var r=[],i=function e(o){r.push(o);for(var n=0;n<o.edgeCount;n++){var a=o.edge(n),i=a.type,s=a.next;if(i==t)return!0;if(0>r.indexOf(s)&&e(s))return!0}};if(i(a.contentMatch))return{v:!0}}};for(var a in o){var r=n(a);if(r)return r.v}}function K(e,t){for(var o=0;o<t.length;o++)if(e.type==t[o].type)return t[o]}function J(e){var t={};for(var o in e){var n=e[o].spec.toDOM;n&&(t[o]=n)}return t}function U(e){return e.document||window.document}Object.defineProperty(t,'__esModule',{value:!0}),t.ReplaceError=p,t.Slice=t.Schema=t.ResolvedPos=t.NodeType=t.NodeRange=t.Node=t.MarkType=t.Mark=t.Fragment=t.DOMSerializer=t.DOMParser=t.ContentMatch=void 0;var G=function(e){return e&&e.__esModule?e:{default:e}}(o('884c')),X=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var o=0;o<e.length;o++)this.size+=e[o].nodeSize};t.Fragment=X;var Y={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};X.prototype.nodesBetween=function(e,t,o,n,a){void 0===n&&(n=0);for(var d=0,i=0;i<t;d++){var l=this.content[d],p=i+l.nodeSize;if(p>e&&!1!==o(l,n+i,a,d)&&l.content.size){var c=i+1;l.nodesBetween(s(0,e-c),r(l.content.size,t-c),o,n+c)}i=p}},X.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},X.prototype.textBetween=function(e,t,o,n){var a='',r=!0;return this.nodesBetween(e,t,function(i,d){i.isText?(a+=i.text.slice(s(e,d)-d,t-d),r=!o):i.isLeaf&&n?(a+=n,r=!o):!r&&i.isBlock&&(a+=o,r=!0)},0),a},X.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,o=e.firstChild,n=this.content.slice(),a=0;for(t.isText&&t.sameMarkup(o)&&(n[n.length-1]=t.withText(t.text+o.text),a=1);a<e.content.length;a++)n.push(e.content[a]);return new X(n,this.size+e.size)},X.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var o=[],n=0;if(t>e)for(var a=0,i=0;i<t;a++){var d=this.content[a],l=i+d.nodeSize;l>e&&((i<e||l>t)&&(d.isText?d=d.cut(s(0,e-i),r(d.text.length,t-i)):d=d.cut(s(0,e-i-1),r(d.content.size,t-i-1))),o.push(d),n+=d.nodeSize),i=l}return new X(o,n)},X.prototype.cutByIndex=function(e,t){return e==t?X.empty:0==e&&t==this.content.length?this:new X(this.content.slice(e,t))},X.prototype.replaceChild=function(e,t){var o=this.content[e];if(o==t)return this;var n=this.content.slice(),a=this.size+t.nodeSize-o.nodeSize;return n[e]=t,new X(n,a)},X.prototype.addToStart=function(e){return new X([e].concat(this.content),this.size+e.nodeSize)},X.prototype.addToEnd=function(e){return new X(this.content.concat(e),this.size+e.nodeSize)},X.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},Y.firstChild.get=function(){return this.content.length?this.content[0]:null},Y.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Y.childCount.get=function(){return this.content.length},X.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError('Index '+e+' out of range for '+this);return t},X.prototype.maybeChild=function(e){return this.content[e]},X.prototype.forEach=function(e){for(var t=0,o=0,n;t<this.content.length;t++)n=this.content[t],e(n,o,t),o+=n.nodeSize},X.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),a(this,e,t)},X.prototype.findDiffEnd=function(e,t,o){return void 0===t&&(t=this.size),void 0===o&&(o=e.size),i(this,e,t,o)},X.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return d(0,e);if(e==this.size)return d(this.content.length,e);if(e>this.size||0>e)throw new RangeError('Position '+e+' outside of fragment ('+this+')');for(var o=0,n=0;;o++){var a=this.child(o),r=n+a.nodeSize;if(r>=e)return r==e||0<t?d(o+1,r):d(o,n);n=r}},X.prototype.toString=function(){return'<'+this.toStringInner()+'>'},X.prototype.toStringInner=function(){return this.content.join(', ')},X.prototype.toJSON=function(){return this.content.length?this.content.map(function(e){return e.toJSON()}):null},X.fromJSON=function(e,t){if(!t)return X.empty;if(!Array.isArray(t))throw new RangeError('Invalid input for Fragment.fromJSON');return new X(t.map(e.nodeFromJSON))},X.fromArray=function(e){if(!e.length)return X.empty;for(var t=0,o=0,n,a;o<e.length;o++)a=e[o],t+=a.nodeSize,o&&a.isText&&e[o-1].sameMarkup(a)?(!n&&(n=e.slice(0,o)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a);return new X(n||e,t)},X.from=function(e){if(!e)return X.empty;if(e instanceof X)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X([e],e.nodeSize);throw new RangeError('Can not convert '+e+' to a Fragment'+(e.nodesBetween?' (looks like multiple versions of prosemirror-model were loaded)':''))},Object.defineProperties(X.prototype,Y);var Q={index:0,offset:0};X.empty=new X([],0);var Z=function(e,t){this.type=e,this.attrs=t};t.Mark=Z,Z.prototype.addToSet=function(e){for(var t=!1,o=0,n,a;o<e.length;o++){if(a=e[o],this.eq(a))return e;if(this.type.excludes(a.type))n||(n=e.slice(0,o));else{if(a.type.excludes(this.type))return e;!t&&a.type.rank>this.type.rank&&(!n&&(n=e.slice(0,o)),n.push(this),t=!0),n&&n.push(a)}}return n||(n=e.slice()),t||n.push(this),n},Z.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},Z.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},Z.prototype.eq=function(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)},Z.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},Z.fromJSON=function(e,t){if(!t)throw new RangeError('Invalid input for Mark.fromJSON');var o=e.marks[t.type];if(!o)throw new RangeError('There is no mark type '+t.type+' in this schema');return o.create(t.attrs)},Z.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!e[o].eq(t[o]))return!1;return!0},Z.setFrom=function(e){if(!e||0==e.length)return Z.none;if(e instanceof Z)return[e];var t=e.slice();return t.sort(function(e,t){return e.type.rank-t.type.rank}),t},Z.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name='ReplaceError';var ee=function(e,t,o){this.content=e,this.openStart=t,this.openEnd=o};t.Slice=ee;var te={size:{configurable:!0}};te.size.get=function(){return this.content.size-this.openStart-this.openEnd},ee.prototype.insertAt=function(e,t){var o=u(this.content,e+this.openStart,t,null);return o&&new ee(o,this.openStart,this.openEnd)},ee.prototype.removeBetween=function(e,t){return new ee(c(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},ee.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},ee.prototype.toString=function(){return this.content+'('+this.openStart+','+this.openEnd+')'},ee.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return 0<this.openStart&&(e.openStart=this.openStart),0<this.openEnd&&(e.openEnd=this.openEnd),e},ee.fromJSON=function(e,t){if(!t)return ee.empty;var o=t.openStart||0,n=t.openEnd||0;if('number'!=typeof o||'number'!=typeof n)throw new RangeError('Invalid input for Slice.fromJSON');return new ee(X.fromJSON(e,t.content),o,n)},ee.maxOpen=function(e,t){void 0===t&&(t=!0);for(var o=0,a=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)o++;for(var n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)a++;return new ee(e,o,a)},Object.defineProperties(ee.prototype,te),ee.empty=new ee(X.empty,0,0);var oe=function(e,t,o){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=o};t.ResolvedPos=oe;var ne={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};oe.prototype.resolveDepth=function(e){return null==e?this.depth:0>e?this.depth+e:e},ne.parent.get=function(){return this.node(this.depth)},ne.doc.get=function(){return this.node(0)},oe.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},oe.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},oe.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},oe.prototype.start=function(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1},oe.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},oe.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError('There is no position before the top-level node');return e==this.depth+1?this.pos:this.path[3*e-1]},oe.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError('There is no position after the top-level node');return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},ne.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},ne.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var o=this.pos-this.path[this.path.length-1],n=e.child(t);return o?e.child(t).cut(o):n},ne.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},oe.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var o=this.path[3*t],n=0==t?0:this.path[3*t-1]+1,a=0;a<e;a++)n+=o.child(a).nodeSize;return n},oe.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return Z.none;if(this.textOffset)return e.child(t).marks;var o=e.maybeChild(t-1),n=e.maybeChild(t);if(!o){var a=o;o=n,n=a}for(var r=o.marks,s=0;s<r.length;s++)!1!==r[s].type.spec.inclusive||n&&r[s].isInSet(n.marks)||(r=r[s--].removeFromSet(r));return r},oe.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var o=t.marks,n=e.parent.maybeChild(e.index()),a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||n&&o[a].isInSet(n.marks)||(o=o[a--].removeFromSet(o));return o},oe.prototype.sharedDepth=function(e){for(var t=this.depth;0<t;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},oe.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var o=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);0<=o;o--)if(e.pos<=this.end(o)&&(!t||t(this.node(o))))return new se(this,e,o)},oe.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},oe.prototype.max=function(e){return e.pos>this.pos?e:this},oe.prototype.min=function(e){return e.pos<this.pos?e:this},oe.prototype.toString=function(){for(var e='',t=1;t<=this.depth;t++)e+=(e?'/':'')+this.node(t).type.name+'_'+this.index(t-1);return e+':'+this.parentOffset},oe.resolve=function(e,t){if(!(0<=t&&t<=e.content.size))throw new RangeError('Position '+t+' out of range');for(var o=[],n=0,a=t,r=e;;){var i=r.content.findIndex(a),s=i.index,d=i.offset,l=a-d;if(o.push(r,s,n+d),!l)break;if(r=r.child(s),r.isText)break;a=l-1,n+=d+1}return new oe(t,o,a)},oe.resolveCached=function(e,t){for(var o=0,n;o<ae.length;o++)if(n=ae[o],n.pos==t&&n.doc==e)return n;var a=ae[re]=oe.resolve(e,t);return re=(re+1)%ie,a},Object.defineProperties(oe.prototype,ne);var ae=[],re=0,ie=12,se=function(e,t,o){this.$from=e,this.$to=t,this.depth=o};t.NodeRange=se;var de={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};de.start.get=function(){return this.$from.before(this.depth+1)},de.end.get=function(){return this.$to.after(this.depth+1)},de.parent.get=function(){return this.$from.node(this.depth)},de.startIndex.get=function(){return this.$from.index(this.depth)},de.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(se.prototype,de);var le=Object.create(null),pe=function(e,t,o,n){this.type=e,this.attrs=t,this.content=o||X.empty,this.marks=n||Z.none};t.Node=pe;var ce={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ce.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},ce.childCount.get=function(){return this.content.childCount},pe.prototype.child=function(e){return this.content.child(e)},pe.prototype.maybeChild=function(e){return this.content.maybeChild(e)},pe.prototype.forEach=function(e){this.content.forEach(e)},pe.prototype.nodesBetween=function(e,t,o,n){void 0===n&&(n=0),this.content.nodesBetween(e,t,o,n,this)},pe.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},ce.textContent.get=function(){return this.textBetween(0,this.content.size,'')},pe.prototype.textBetween=function(e,t,o,n){return this.content.textBetween(e,t,o,n)},ce.firstChild.get=function(){return this.content.firstChild},ce.lastChild.get=function(){return this.content.lastChild},pe.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},pe.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},pe.prototype.hasMarkup=function(e,t,o){return this.type==e&&l(this.attrs,t||e.defaultAttrs||le)&&Z.sameSet(this.marks,o||Z.none)},pe.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},pe.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},pe.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},pe.prototype.slice=function(e,t,o){if(void 0===t&&(t=this.content.size),void 0===o&&(o=!1),e==t)return ee.empty;var n=this.resolve(e),a=this.resolve(t),r=o?0:n.sharedDepth(t),i=n.start(r),s=n.node(r),d=s.content.cut(n.pos-i,a.pos-i);return new ee(d,n.depth-r,a.depth-r)},pe.prototype.replace=function(e,t,o){return f(this.resolve(e),this.resolve(t),o)},pe.prototype.nodeAt=function(e){for(var t=this;;){var o=t.content.findIndex(e),n=o.index,a=o.offset;if(t=t.maybeChild(n),!t)return null;if(a==e||t.isText)return t;e-=a+1}},pe.prototype.childAfter=function(e){var t=this.content.findIndex(e),o=t.index,n=t.offset;return{node:this.content.maybeChild(o),index:o,offset:n}},pe.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),o=t.index,n=t.offset;if(n<e)return{node:this.content.child(o),index:o,offset:n};var a=this.content.child(o-1);return{node:a,index:o-1,offset:n-a.nodeSize}},pe.prototype.resolve=function(e){return oe.resolveCached(this,e)},pe.prototype.resolveNoCache=function(e){return oe.resolve(this,e)},pe.prototype.rangeHasMark=function(e,t,o){var n=!1;return t>e&&this.nodesBetween(e,t,function(e){return o.isInSet(e.marks)&&(n=!0),!n}),n},ce.isBlock.get=function(){return this.type.isBlock},ce.isTextblock.get=function(){return this.type.isTextblock},ce.inlineContent.get=function(){return this.type.inlineContent},ce.isInline.get=function(){return this.type.isInline},ce.isText.get=function(){return this.type.isText},ce.isLeaf.get=function(){return this.type.isLeaf},ce.isAtom.get=function(){return this.type.isAtom},pe.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+='('+this.content.toStringInner()+')'),w(this.marks,e)},pe.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error('Called contentMatchAt on a node with invalid content');return t},pe.prototype.canReplace=function(e,t,o,n,a){void 0===o&&(o=X.empty),void 0===n&&(n=0),void 0===a&&(a=o.childCount);var r=this.contentMatchAt(e).matchFragment(o,n,a),s=r&&r.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(var d=n;d<a;d++)if(!this.type.allowsMarks(o.child(d).marks))return!1;return!0},pe.prototype.canReplaceWith=function(e,t,o,n){if(n&&!this.type.allowsMarks(n))return!1;var a=this.contentMatchAt(e).matchType(o),r=a&&a.matchFragment(this.content,t);return!!r&&r.validEnd},pe.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},pe.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError('Invalid content for node '+this.type.name+': '+this.content.toString().slice(0,50));this.content.forEach(function(e){return e.check()})},pe.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(function(e){return e.toJSON()})),e},pe.fromJSON=function(e,t){if(!t)throw new RangeError('Invalid input for Node.fromJSON');var o=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError('Invalid mark data for Node.fromJSON');o=t.marks.map(e.markFromJSON)}if('text'==t.type){if('string'!=typeof t.text)throw new RangeError('Invalid text node in JSON');return e.text(t.text,o)}var n=X.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,n,o)},Object.defineProperties(pe.prototype,ce);var ue=function(e){function t(t,o,n,a){if(e.call(this,t,o,null,a),!n)throw new RangeError('Empty text nodes are not allowed');this.text=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):w(this.marks,JSON.stringify(this.text))},o.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},o.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,o),t}(pe),fe=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]};t.ContentMatch=fe;var me={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};fe.parse=function(e,t){var o=new he(e,t);if(null==o.next)return fe.empty;var n=C(o);o.next&&o.err('Unexpected trailing text');var a=E(A(n));return $(a,o),a},fe.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},fe.prototype.matchFragment=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=e.childCount);for(var n=this,a=t;n&&a<o;a++)n=n.matchType(e.child(a).type);return n},me.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},me.defaultType.get=function(){for(var e=0,t;e<this.next.length;e+=2)if(t=this.next[e],!(t.isText||t.hasRequiredAttrs()))return t},fe.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var o=0;o<e.next.length;o+=2)if(this.next[t]==e.next[o])return!0;return!1},fe.prototype.fillBefore=function(e,t,o){function n(r,s){var d=r.matchFragment(e,o);if(d&&(!t||d.validEnd))return X.from(s.map(function(e){return e.createAndFill()}));for(var l=0;l<r.next.length;l+=2){var i=r.next[l],p=r.next[l+1];if(!(i.isText||i.hasRequiredAttrs())&&-1==a.indexOf(p)){a.push(p);var c=n(p,s.concat(i));if(c)return c}}}void 0===t&&(t=!1),void 0===o&&(o=0);var a=[this];return n(this,[])},fe.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var o=this.computeWrapping(e);return this.wrapCache.push(e,o),o},fe.prototype.computeWrapping=function(e){for(var t=Object.create(null),o=[{match:this,type:null,via:null}];o.length;){var n=o.shift(),a=n.match;if(a.matchType(e)){for(var r=[],s=n;s.type;s=s.via)r.push(s.type);return r.reverse()}for(var d=0,i;d<a.next.length;d+=2)i=a.next[d],i.isLeaf||i.hasRequiredAttrs()||i.name in t||n.type&&!a.next[d+1].validEnd||(o.push({match:i.contentMatch,type:i,via:n}),t[i.name]=!0)}},me.edgeCount.get=function(){return this.next.length>>1},fe.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError('There\'s no '+e+'th edge in this content match');return{type:this.next[t],next:this.next[t+1]}},fe.prototype.toString=function(){function e(o){t.push(o);for(var n=1;n<o.next.length;n+=2)-1==t.indexOf(o.next[n])&&e(o.next[n])}var t=[];return e(this),t.map(function(e,o){for(var n=o+(e.validEnd?'*':' ')+' ',a=0;a<e.next.length;a+=2)n+=(a?', ':'')+e.next[a].name+'->'+t.indexOf(e.next[a+1]);return n}).join('\n')},Object.defineProperties(fe.prototype,me),fe.empty=new fe(!0);var he=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),''==this.tokens[this.tokens.length-1]&&this.tokens.pop(),''==this.tokens[0]&&this.tokens.unshift()},ge={next:{configurable:!0}};ge.next.get=function(){return this.tokens[this.pos]},he.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},he.prototype.err=function(e){throw new SyntaxError(e+' (in content expression \''+this.string+'\')')},Object.defineProperties(he.prototype,ge);var ye=function(e,t,o){this.name=e,this.schema=t,this.spec=o,this.groups=o.group?o.group.split(' '):[],this.attrs=z(o.attrs),this.defaultAttrs=R(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(o.inline||'text'==e),this.isText='text'==e};t.NodeType=ye;var be={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};be.isInline.get=function(){return!this.isBlock},be.isTextblock.get=function(){return this.isBlock&&this.inlineContent},be.isLeaf.get=function(){return this.contentMatch==fe.empty},be.isAtom.get=function(){return this.isLeaf||this.spec.atom},ye.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},ye.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},ye.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:B(this.attrs,e)},ye.prototype.create=function(e,t,o){if(this.isText)throw new Error('NodeType.create can\'t construct text nodes');return new pe(this,this.computeAttrs(e),X.from(t),Z.setFrom(o))},ye.prototype.createChecked=function(e,t,o){if(t=X.from(t),!this.validContent(t))throw new RangeError('Invalid content for node '+this.name);return new pe(this,this.computeAttrs(e),t,Z.setFrom(o))},ye.prototype.createAndFill=function(e,t,o){if(e=this.computeAttrs(e),t=X.from(t),t.size){var n=this.contentMatch.fillBefore(t);if(!n)return null;t=n.append(t)}var a=this.contentMatch.matchFragment(t).fillBefore(X.empty,!0);return a?new pe(this,e,t.append(a),Z.setFrom(o)):null},ye.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var o=0;o<e.childCount;o++)if(!this.allowsMarks(e.child(o).marks))return!1;return!0},ye.prototype.allowsMarkType=function(e){return null==this.markSet||-1<this.markSet.indexOf(e)},ye.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},ye.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t=0,o;t<e.length;t++)this.allowsMarkType(e[t].type)?o&&o.push(e[t]):o||(o=e.slice(0,t));return o?o.length?o:Z.empty:e},ye.compile=function(e,t){var o=Object.create(null);e.forEach(function(e,n){return o[e]=new ye(e,t,n)});var n=t.spec.topNode||'doc';if(!o[n])throw new RangeError('Schema is missing its top node type (\''+n+'\')');if(!o.text)throw new RangeError('Every schema needs a \'text\' type');for(var a in o.text.attrs)throw new RangeError('The text node type should not have attributes');return o},Object.defineProperties(ye.prototype,be);var ve=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,'default'),this.default=e.default},ke={isRequired:{configurable:!0}};ke.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ve.prototype,ke);var xe=function(e,t,o,n){this.name=e,this.schema=o,this.spec=n,this.attrs=z(n.attrs),this.rank=t,this.excluded=null;var a=R(this.attrs);this.instance=a&&new Z(this,a)};t.MarkType=xe,xe.prototype.create=function(e){return!e&&this.instance?this.instance:new Z(this,B(this.attrs,e))},xe.compile=function(e,t){var o=Object.create(null),n=0;return e.forEach(function(e,a){return o[e]=new xe(e,n++,t,a)}),o},xe.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},xe.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},xe.prototype.excludes=function(e){return-1<this.excluded.indexOf(e)};var Se=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=G.default.from(e.nodes),this.spec.marks=G.default.from(e.marks),this.nodes=ye.compile(this.spec.nodes,this),this.marks=xe.compile(this.spec.marks,this);var o=Object.create(null);for(var n in this.nodes){if(n in this.marks)throw new RangeError(n+' can not be both a node and a mark');var a=this.nodes[n],r=a.spec.content||'',i=a.spec.marks;a.contentMatch=o[r]||(o[r]=fe.parse(r,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet='_'==i?null:i?F(this,i.split(' ')):''!=i&&a.inlineContent?null:[]}for(var s in this.marks){var d=this.marks[s],l=d.spec.excludes;d.excluded=null==l?[d]:''==l?[]:F(this,l.split(' '))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||'doc'],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};t.Schema=Se,Se.prototype.node=function(e,t,o,n){if('string'==typeof e)e=this.nodeType(e);else if(!(e instanceof ye))throw new RangeError('Invalid node type: '+e);else if(e.schema!=this)throw new RangeError('Node type from different schema used ('+e.name+')');return e.createChecked(t,o,n)},Se.prototype.text=function(e,t){var o=this.nodes.text;return new ue(o,o.defaultAttrs,e,Z.setFrom(t))},Se.prototype.mark=function(e,t){return'string'==typeof e&&(e=this.marks[e]),e.create(t)},Se.prototype.nodeFromJSON=function(e){return pe.fromJSON(this,e)},Se.prototype.markFromJSON=function(e){return Z.fromJSON(this,e)},Se.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError('Unknown node type: '+e);return t};var we=function(e,t){var o=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(function(e){e.tag?o.tags.push(e):e.style&&o.styles.push(e)}),this.normalizeLists=!this.tags.some(function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var o=e.nodes[t.node];return o.contentMatch.matchType(o)})};t.DOMParser=we,we.prototype.parse=function(e,t){void 0===t&&(t={});var o=new Ae(this,t,!1);return o.addAll(e,null,t.from,t.to),o.finish()},we.prototype.parseSlice=function(e,t){void 0===t&&(t={});var o=new Ae(this,t,!0);return o.addAll(e,null,t.from,t.to),ee.maxOpen(o.finish())},we.prototype.matchTag=function(e,t){for(var o=0,n;o<this.tags.length;o++)if(n=this.tags[o],H(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){var a=n.getAttrs(e);if(!1===a)continue;n.attrs=a}return n}},we.prototype.matchStyle=function(e,t,o){for(var n=0,a;n<this.styles.length;n++)if(a=this.styles[n],!(0!=a.style.indexOf(e)||a.context&&!o.matchesContext(a.context)||a.style.length>e.length&&(61!=a.style.charCodeAt(e.length)||a.style.slice(e.length+1)!=t))){if(a.getAttrs){var r=a.getAttrs(t);if(!1===r)continue;a.attrs=r}return a}},we.schemaRules=function(e){function t(e){for(var t=null==e.priority?50:e.priority,n=0;n<o.length;n++){var a=o[n],r=null==a.priority?50:a.priority;if(r<t)break}o.splice(n,0,e)}var o=[],n=function(o){var n=e.marks[o].spec.parseDOM;n&&n.forEach(function(e){t(e=W(e)),e.mark=o})};for(var a in e.marks)n(a);var r=function(){var o=e.nodes[i].spec.parseDOM;o&&o.forEach(function(e){t(e=W(e)),e.node=i})};for(var i in e.nodes)r();return o},we.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new we(e,we.schemaRules(e)))};var Ce={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Me={ol:!0,ul:!0},Oe=1,Ne=2,Pe=4,Te=function(e,t,o,n,a,r,i){this.type=e,this.attrs=t,this.solid=a,this.match=r||(i&Pe?null:e.contentMatch),this.options=i,this.content=[],this.marks=o,this.activeMarks=Z.none,this.pendingMarks=n,this.stashMarks=[]};Te.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(X.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{var o=this.type.contentMatch,n;return(n=o.findWrapping(e.type))?(this.match=o,n):null}}return this.match.findWrapping(e.type)},Te.prototype.finish=function(e){if(!(this.options&Oe)){var t=this.content[this.content.length-1],o;t&&t.isText&&(o=/[ \t\r\n\u000c]+$/.exec(t.text))&&(t.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=t.withText(t.text.slice(0,t.text.length-o[0].length)))}var n=X.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n},Te.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;0<=t;t--)if(this.stashMarks[t].type==e)return this.stashMarks.splice(t,1)[0]},Te.prototype.applyPending=function(e){for(var t=0,o=this.pendingMarks,n;t<o.length;t++)if(n=o[t],(this.type?this.type.allowsMarkType(n.type):q(n.type,e))&&!n.isInSet(this.activeMarks)){var a=K(n,this.activeMarks);a&&this.stashMarks.push(a),this.activeMarks=n.addToSet(this.activeMarks),this.pendingMarks=n.removeFromSet(this.pendingMarks)}};var Ae=function(e,t,o){this.parser=e,this.options=t,this.isOpen=o;var n=t.topNode,a=L(t.preserveWhitespace)|(o?Pe:0),r;r=n?new Te(n.type,n.attrs,Z.none,Z.none,!0,t.topMatch||n.type.contentMatch,a):o?new Te(null,null,Z.none,Z.none,!0,null,a):new Te(e.schema.topNodeType,null,Z.none,Z.none,!0,null,a),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},De={top:{configurable:!0},currentPos:{configurable:!0}};De.top.get=function(){return this.nodes[this.open]},Ae.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute('style'),o=t?this.readStyles(j(t)):null,n=this.top;if(null!=o)for(var a=0;a<o.length;a++)this.addPendingMark(o[a]);if(this.addElement(e),null!=o)for(var r=0;r<o.length;r++)this.removePendingMark(o[r],n)}},Ae.prototype.addTextNode=function(e){var t=e.nodeValue,o=this.top;if((o.type?o.type.inlineContent:o.content.length&&o.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(!!(o.options&Oe))o.options&Ne||(t=t.replace(/\r?\n|\r/g,' '));else if(t=t.replace(/[ \t\r\n\u000c]+/g,' '),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var n=o.content[o.content.length-1],a=e.previousSibling;(!n||a&&'BR'==a.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},Ae.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();Me.hasOwnProperty(t)&&this.parser.normalizeLists&&V(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(o?o.ignore:_e.hasOwnProperty(t))this.findInside(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=s(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var n=this.top,a=this.needsBlock,r;if(Ce.hasOwnProperty(t))r=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),r&&this.sync(n),this.needsBlock=a}else this.addElementByRule(e,o)},Ae.prototype.leafFallback=function(e){'BR'==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode('\n'))},Ae.prototype.readStyles=function(e){for(var t=Z.none,o=0,n;o<e.length;o+=2)if(n=this.parser.matchStyle(e[o],e[o+1],this),!!n){if(n.ignore)return null;t=this.parser.schema.marks[n.mark].create(n.attrs).addToSet(t)}return t},Ae.prototype.addElementByRule=function(e,t){var o=this,n,a,r,i;t.node?(a=this.parser.schema.nodes[t.node],a.isLeaf?!this.insertNode(a.create(t.attrs))&&this.leafFallback(e):n=this.enter(a,t.attrs,t.preserveWhitespace)):(r=this.parser.schema.marks[t.mark],i=r.create(t.attrs),this.addPendingMark(i));var s=this.top;if(a&&a.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(function(e){return o.insertNode(e)});else{var d=t.contentElement;'string'==typeof d?d=e.querySelector(d):'function'==typeof d&&(d=d(e)),d||(d=e),this.findAround(e,d,!0),this.addAll(d,n)}n&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},Ae.prototype.addAll=function(e,t,o,n){for(var a=o||0,r=o?e.childNodes[o]:e.firstChild,i=null==n?null:e.childNodes[n];r!=i;r=r.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(r),t&&Ce.hasOwnProperty(r.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,a)},Ae.prototype.findPlace=function(e){for(var t=this.open,o,n;0<=t;t--){var a=this.nodes[t],r=a.findWrapping(e);if(r&&(!o||o.length>r.length)&&(o=r,n=a,!r.length))break;if(a.solid)break}if(!o)return!1;this.sync(n);for(var s=0;s<o.length;s++)this.enterInner(o[s],null,!1);return!0},Ae.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var o=this.top;o.applyPending(e.type),o.match&&(o.match=o.match.matchType(e.type));for(var n=o.activeMarks,a=0;a<e.marks.length;a++)(!o.type||o.type.allowsMarkType(e.marks[a].type))&&(n=e.marks[a].addToSet(n));return o.content.push(e.mark(n)),!0}return!1},Ae.prototype.enter=function(e,t,o){var n=this.findPlace(e.create(t));return n&&this.enterInner(e,t,!0,o),n},Ae.prototype.enterInner=function(e,t,o,n){this.closeExtra();var a=this.top;a.applyPending(e),a.match=a.match&&a.match.matchType(e,t);var r=null==n?a.options&~Pe:L(n);a.options&Pe&&0==a.content.length&&(r|=Pe),this.nodes.push(new Te(e,t,a.activeMarks,a.pendingMarks,o,null,r)),this.open++},Ae.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},Ae.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Ae.prototype.sync=function(e){for(var t=this.open;0<=t;t--)if(this.nodes[t]==e)return void(this.open=t)},De.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open,o;0<=t;t--){o=this.nodes[t].content;for(var n=o.length-1;0<=n;n--)e+=o[n].nodeSize;t&&e++}return e},Ae.prototype.findAtPoint=function(e,t){if(this.find)for(var o=0;o<this.find.length;o++)this.find[o].node==e&&this.find[o].offset==t&&(this.find[o].pos=this.currentPos)},Ae.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},Ae.prototype.findAround=function(e,t,o){if(e!=t&&this.find)for(var n=0;n<this.find.length;n++)if(null==this.find[n].pos&&1==e.nodeType&&e.contains(this.find[n].node)){var a=t.compareDocumentPosition(this.find[n].node);a&(o?2:4)&&(this.find[n].pos=this.currentPos)}},Ae.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},Ae.prototype.matchesContext=function(e){var t=this;if(-1<e.indexOf('|'))return e.split(/\s*\|\s*/).some(this.matchesContext,this);var o=e.split('/'),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),r=-(n?n.depth+1:0)+(a?0:1);return function e(s,i){for(;0<=s;s--){var d=o[s];if(''==d){if(s==o.length-1||0==s)continue;for(;i>=r;i--)if(e(s-1,i))return!0;return!1}var l=0<i||0==i&&a?t.nodes[i].type:n&&i>=r?n.node(i-r).type:null;if(!l||l.name!=d&&-1==l.groups.indexOf(d))return!1;i--}return!0}(o.length-1,this.open)},Ae.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth,o;0<=t;t--)if(o=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType,o&&o.isTextblock&&o.defaultAttrs)return o;for(var n in this.parser.schema.nodes){var a=this.parser.schema.nodes[n];if(a.isTextblock&&a.defaultAttrs)return a}},Ae.prototype.addPendingMark=function(e){var t=K(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},Ae.prototype.removePendingMark=function(e,t){for(var o=this.open;0<=o;o--){var n=this.nodes[o],a=n.pendingMarks.lastIndexOf(e);if(-1<a)n.pendingMarks=e.removeFromSet(n.pendingMarks);else{n.activeMarks=e.removeFromSet(n.activeMarks);var r=n.popFromStashMark(e.type);r&&(n.activeMarks=r.addToSet(n.activeMarks))}if(n==t)break}},Object.defineProperties(Ae.prototype,De);var Ie=function(e,t){this.nodes=e||{},this.marks=t||{}};t.DOMSerializer=Ie,Ie.prototype.serializeFragment=function(e,t,o){var n=this;void 0===t&&(t={}),o||(o=U(t).createDocumentFragment());var a=o,r=null;return e.forEach(function(e){if(r||e.marks.length){r||(r=[]);for(var o=0,i=0,s;o<r.length&&i<e.marks.length;){if(s=e.marks[i],!n.marks[s.type.name]){i++;continue}if(!s.eq(r[o])||!1===s.type.spec.spanning)break;o+=2,i++}for(;o<r.length;)a=r.pop(),r.pop();for(;i<e.marks.length;){var d=e.marks[i++],l=n.serializeMark(d,e.isInline,t);l&&(r.push(d,a),a.appendChild(l.dom),a=l.contentDOM||l.dom)}}a.appendChild(n.serializeNode(e,t))}),o},Ie.prototype.serializeNode=function(e,t){void 0===t&&(t={});var o=Ie.renderSpec(U(t),this.nodes[e.type.name](e)),n=o.dom,a=o.contentDOM;if(a){if(e.isLeaf)throw new RangeError('Content hole not allowed in a leaf node spec');t.onContent?t.onContent(e,a,t):this.serializeFragment(e.content,t,a)}return n},Ie.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var o=this.serializeNode(e,t),n=e.marks.length-1,a;0<=n;n--)a=this.serializeMark(e.marks[n],e.isInline,t),a&&((a.contentDOM||a.dom).appendChild(o),o=a.dom);return o},Ie.prototype.serializeMark=function(e,t,o){void 0===o&&(o={});var n=this.marks[e.type.name];return n&&Ie.renderSpec(U(o),n(e,t))},Ie.renderSpec=function(e,t,o){if(void 0===o&&(o=null),'string'==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var a=t[0],r=a.indexOf(' ');0<r&&(o=a.slice(0,r),a=a.slice(r+1));var s=null,d=o?e.createElementNS(o,a):e.createElement(a),l=t[1],p=1;if(l&&'object'==n(l)&&null==l.nodeType&&!Array.isArray(l))for(var c in p=2,l)if(null!=l[c]){var u=c.indexOf(' ');0<u?d.setAttributeNS(c.slice(0,u),c.slice(u+1),l[c]):d.setAttribute(c,l[c])}for(var f=p,i;f<t.length;f++){if(i=t[f],0===i){if(f<t.length-1||f>p)throw new RangeError('Content hole must be the only child of its parent node');return{dom:d,contentDOM:d}}var m=Ie.renderSpec(e,i,o),h=m.dom,g=m.contentDOM;if(d.appendChild(h),g){if(s)throw new RangeError('Multiple content holes');s=g}}return{dom:d,contentDOM:s}},Ie.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ie(this.nodesFromSchema(e),this.marksFromSchema(e)))},Ie.nodesFromSchema=function(e){var t=J(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Ie.marksFromSchema=function(e){return J(e.marks)}},"397a":function(e,t,o){'use strict';o.r(t);var n=o('ebba'),a=o('900e');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"3ce4":function(e,t,o){'use strict';function n(e,t,o){var n=i.configure({}),r=(o||{}).prefix,l;if('string'!=typeof e)throw s('Expected `string` for name, got `%s`',e);if(!i.getLanguage(e))throw s('Unknown language: `%s` is not registered',e);if('string'!=typeof t)throw s('Expected `string` for value, got `%s`',t);if((null===r||void 0===r)&&(r=d),i.configure({__emitter:a,classPrefix:r}),l=i.highlight(e,t,!0),i.configure(n||{}),l.errorRaised)throw l.errorRaised;return{relevance:l.relevance,language:l.language,value:l.emitter.rootNode.children}}function a(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function r(){}var i=o('e2be'),s=o('073e');t.highlight=n,t.highlightAuto=function(e,t){var o=t||{},a=o.subset||i.listLanguages(),r=o.prefix,l=a.length,p=-1,c,u,f,m;if((null===r||void 0===r)&&(r=d),'string'!=typeof e)throw s('Expected `string` for value, got `%s`',e);for(u={relevance:0,language:null,value:[]},c={relevance:0,language:null,value:[]};++p<l;)(m=a[p],!!i.getLanguage(m))&&(f=n(m,e,t),f.language=m,f.relevance>u.relevance&&(u=f),f.relevance>c.relevance&&(u=c,c=f));return u.language&&(c.secondBest=u),c},t.registerLanguage=function(e,t){i.registerLanguage(e,t)},t.listLanguages=function(){return i.listLanguages()},t.registerAlias=function(e,t){var o=e,n;for(n in t&&(o={},o[e]=t),o)i.registerAliases(o[n],{languageName:n})},a.prototype.addText=function(e){var t=this.stack,o,n;''===e||(o=t[t.length-1],n=o.children[o.children.length-1],n&&'text'===n.type?n.value+=e:o.children.push({type:'text',value:e}))},a.prototype.addKeyword=function(e,t){this.openNode(t),this.addText(e),this.closeNode()},a.prototype.addSublanguage=function(e,t){var o=this.stack,n=o[o.length-1],a=e.rootNode.children,r=t?{type:'element',tagName:'span',properties:{className:[t]},children:a}:a;n.children=n.children.concat(r)},a.prototype.openNode=function(e){var t=this.stack,o=this.options.classPrefix+e,n=t[t.length-1],a={type:'element',tagName:'span',properties:{className:[o]},children:[]};n.children.push(a),t.push(a)},a.prototype.closeNode=function(){this.stack.pop()},a.prototype.closeAllNodes=r,a.prototype.finalize=r,a.prototype.toHTML=function(){return''};var d='hljs-'},"3e7f":function(e,t,o){'use strict';o.r(t);var n=o('d2cc'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"40c0":function(e,t,o){'use strict';o.r(t);var n=o('adea'),a=o('1875');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"41f5":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'ButtonBase',{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,'InputBase',{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,'SelectBase',{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,'PopinBase',{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,'TooltipManager',{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,'PaperEditor',{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,'PaperView',{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,'ToggleBase',{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,'InputUpload',{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,'InputMedia',{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,'GalleryMosaic',{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,'HelpersMixin',{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,'ModifiersMixin',{enumerable:!0,get:function(){return g.default}});var a=n(o('2029')),r=n(o('2836')),i=n(o('5a2b')),s=n(o('679f')),d=n(o('86b6')),l=n(o('6174')),p=n(o('5d96')),c=n(o('f3d8')),u=n(o('c8ef')),f=n(o('7aee')),m=n(o('8f6b')),h=n(o('17fd')),g=n(o('650f'))},"46c3":function(e,t,o){'use strict';function a(e,t,o){for(var n=e.length-1;0<=n;n--)o.step(e[n].inverted);for(var a=0;a<t.length;a++)o.step(t[a]);for(var r=[],i=0,s=e.length,l;i<e.length;i++)l=e[i].step.map(o.mapping.slice(s)),s--,l&&!o.maybeStep(l).failed&&(o.mapping.setMirror(s,o.steps.length-1),r.push(new d(l,l.invert(o.docs[o.docs.length-1]),e[i].origin)));return r}function r(e){for(var t=[],o=0;o<e.steps.length;o++)t.push(new d(e.steps[o],e.steps[o].invert(e.docs[o]),e));return t}Object.defineProperty(t,'__esModule',{value:!0}),t.collab=function(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?n(4294967295*Math.random()):e.clientID},new s.Plugin({key:p,state:{init:function(){return new l(e.version,[])},apply:function(e,t){var o=e.getMeta(p);return o?o:e.docChanged?new l(t.version,t.unconfirmed.concat(r(e))):t}},config:e,historyPreserveItems:!0})},t.getVersion=function(e){return p.getState(e).version},t.rebaseSteps=a,t.receiveTransaction=function(e,t,o,n){for(var r=p.getState(e),d=r.version+t.length,c=p.get(e).spec.config.clientID,u=0;u<o.length&&o[u]==c;)++u;var f=r.unconfirmed.slice(u);if(t=u?t.slice(u):t,!t.length)return e.tr.setMeta(p,new l(d,f));var m=f.length,h=e.tr;if(m)f=a(f,t,h);else{for(var g=0;g<t.length;g++)h.step(t[g]);f=[]}var i=new l(d,f);return n&&n.mapSelectionBackward&&e.selection instanceof s.TextSelection&&(h.setSelection(s.TextSelection.between(h.doc.resolve(h.mapping.map(e.selection.anchor,-1)),h.doc.resolve(h.mapping.map(e.selection.head,-1)),-1)),h.updated&=-2),h.setMeta('rebased',m).setMeta('addToHistory',!1).setMeta(p,i)},t.sendableSteps=function(e){var t=p.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map(function(e){return e.step}),clientID:p.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map(function(e){return e.origin}))}}};var s=o('5313'),d=function(e,t,o){this.step=e,this.inverted=t,this.origin=o},l=function(e,t){this.version=e,this.unconfirmed=t},p=new s.PluginKey('collab')},"47ca":function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'InputMedia'},[o('input-upload',{attrs:{"is-loading":e.state.loading},on:{input:e.onUpload}}),o('div',{staticClass:'mt-20'},[o('gallery-mosaic',{attrs:{items:e.items,selected:[e.value],selectable:!0},on:{input:e.onInput}})],1)],1)},a=[]},4965:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={id:'styledBlock',icon:'times',component:'paper-select',isNode:!0,attrs:{items:e.options?e.options:[{id:4,label:'Paragraphe',value:{tag:'p',classes:[]}},{id:0,label:'Titre 1',value:{tag:'h1',classes:[]}},{id:1,label:'Titre 2',value:{tag:'h2',classes:[]}},{id:2,label:'Titre 3',value:{tag:'h3',classes:[]}},{id:3,label:'Citation',value:{tag:'blockquote',classes:[]}}]}};return t}},"50ab":function(e,t,o){'use strict';o.r(t);var n=o('5f4e'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},5148:function(e,t,n){'use strict';function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?a(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(n('b80c')),d={name:'GalleryMosaic',schema:s.default,props:{items:{type:Array,default:function(){return[]}},height:{type:Number,default:175},selected:{type:Array,default:function(){return[]}},selectable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},data:function(){return{maxWidth:0}},mounted:function(){this.$data.maxWidth=this.$el.offsetWidth},computed:{imageRows:function(){for(var e=this,t=this.$props.items.slice(),n=[],a=0;0<t.length&&100>a;){a++;for(var i={width:0,images:[]};i.width<this.$data.maxWidth&&0<t.length&&100>a;){a++;var s=t[0].sizes.s,d=this.$props.height/s.height*s.width;i.images.push(r(r({},s),{},{_id:t[0]._id,original:s,width:d,height:this.$props.height})),i.width+=d,t.shift()}n.push(i)}return n.forEach(function(t,a){if(!(a==n.length-1&&t.width-5<e.$data.maxWidth)){var i=e.$data.maxWidth/(t.width-5);t.images=t.images.map(function(e){return r(r({},e),{},{width:o(e.width*i)-5,height:o(e.height*i)-5})})}}),n}}};t.default=d},5313:function(e,t,o){'use strict';function n(e){'@babel/helpers - typeof';return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n(e)}function a(e,t,o,n,r,s){if(t.inlineContent)return h.create(e,o);for(var d=n-(0<r?0:1),i;0<r?d<t.childCount:0<=d;d+=r){if(i=t.child(d),!i.isAtom){var l=a(e,i,o+r,0>r?i.childCount:0,r,s);if(l)return l}else if(!s&&y.isSelectable(i))return y.create(e,o-(0>r?i.nodeSize:0));o+=i.nodeSize*r}}function r(e,t,o){var n=e.steps.length-1;if(!(n<t)){var a=e.steps[n];if(a instanceof p.ReplaceStep||a instanceof p.ReplaceAroundStep){var r=e.mapping.maps[n],i;r.forEach(function(e,t,o,n){null==i&&(i=n)}),e.setSelection(u.near(e.doc.resolve(i),o))}}}function i(e,t){return t&&e?e.bind(t):e}function s(e,t,o){for(var n in e){var a=e[n];a instanceof Function?a=a.bind(t):'handleDOMEvents'==n&&(a=s(a,t,{})),o[n]=a}return o}function d(e){return e in D?e+'$'+ ++D[e]:(D[e]=0,e+'$')}Object.defineProperty(t,'__esModule',{value:!0}),t.Transaction=t.TextSelection=t.SelectionRange=t.Selection=t.PluginKey=t.Plugin=t.NodeSelection=t.EditorState=t.AllSelection=void 0;var l=o('304a'),p=o('0ac0'),c=Object.create(null),u=function(e,t,o){this.ranges=o||[new m(e.min(t),e.max(t))],this.$anchor=e,this.$head=t};t.Selection=u;var f={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};f.anchor.get=function(){return this.$anchor.pos},f.head.get=function(){return this.$head.pos},f.from.get=function(){return this.$from.pos},f.to.get=function(){return this.$to.pos},f.$from.get=function(){return this.ranges[0].$from},f.$to.get=function(){return this.ranges[0].$to},f.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},u.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},u.prototype.replace=function(e,t){void 0===t&&(t=l.Slice.empty);for(var o=t.content.lastChild,n=null,a=0;a<t.openEnd;a++)n=o,o=o.lastChild;for(var i=e.steps.length,s=this.ranges,d=0;d<s.length;d++){var p=s[d],c=p.$from,u=p.$to,f=e.mapping.slice(i);e.replaceRange(f.map(c.pos),f.map(u.pos),d?l.Slice.empty:t),0==d&&r(e,i,(o?o.isInline:n&&n.isTextblock)?-1:1)}},u.prototype.replaceWith=function(e,t){for(var o=e.steps.length,n=this.ranges,a=0;a<n.length;a++){var i=n[a],s=i.$from,d=i.$to,l=e.mapping.slice(o),p=l.map(s.pos),c=l.map(d.pos);a?e.deleteRange(p,c):(e.replaceRangeWith(p,c,t),r(e,o,t.isInline?-1:1))}},u.findFrom=function(e,t,o){var n=e.parent.inlineContent?new h(e):a(e.node(0),e.parent,e.pos,e.index(),t,o);if(n)return n;for(var r=e.depth-1,i;0<=r;r--)if(i=0>t?a(e.node(0),e.node(r),e.before(r+1),e.index(r),t,o):a(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,o),i)return i},u.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new v(e.node(0))},u.atStart=function(e){return a(e,e,0,0,1)||new v(e)},u.atEnd=function(e){return a(e,e,e.content.size,e.childCount,-1)||new v(e)},u.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError('Invalid input for Selection.fromJSON');var o=c[t.type];if(!o)throw new RangeError('No selection type '+t.type+' defined');return o.fromJSON(e,t)},u.jsonID=function(e,t){if(e in c)throw new RangeError('Duplicate use of selection JSON ID '+e);return c[e]=t,t.prototype.jsonID=e,t},u.prototype.getBookmark=function(){return h.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(u.prototype,f),u.prototype.visible=!0;var m=function(e,t){this.$from=e,this.$to=t};t.SelectionRange=m;var h=function(e){function t(t,o){void 0===o&&(o=t),e.call(this,t,o)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={$cursor:{configurable:!0}};return o.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(o,n){var a=o.resolve(n.map(this.head));if(!a.parent.inlineContent)return e.near(a);var r=o.resolve(n.map(this.anchor));return new t(r.parent.inlineContent?r:a,a)},t.prototype.replace=function(t,o){if(void 0===o&&(o=l.Slice.empty),e.prototype.replace.call(this,t,o),o==l.Slice.empty){var n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new g(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:'text',anchor:this.anchor,head:this.head}},t.fromJSON=function(e,o){if('number'!=typeof o.anchor||'number'!=typeof o.head)throw new RangeError('Invalid input for TextSelection.fromJSON');return new t(e.resolve(o.anchor),e.resolve(o.head))},t.create=function(e,t,o){void 0===o&&(o=t);var n=e.resolve(t);return new this(n,o==t?n:e.resolve(o))},t.between=function(o,n,a){var r=o.pos-n.pos;if((!a||r)&&(a=0<=r?1:-1),!n.parent.inlineContent){var i=e.findFrom(n,a,!0)||e.findFrom(n,-a,!0);if(i)n=i.$head;else return e.near(n,a)}return o.parent.inlineContent||(0==r?o=n:(o=(e.findFrom(o,-a,!0)||e.findFrom(o,a,!0)).$anchor,o.pos<n.pos!=0>r&&(o=n))),new t(o,n)},Object.defineProperties(t.prototype,o),t}(u);t.TextSelection=h,u.jsonID('text',h);var g=function(e,t){this.anchor=e,this.head=t};g.prototype.map=function(e){return new g(e.map(this.anchor),e.map(this.head))},g.prototype.resolve=function(e){return h.between(e.resolve(this.anchor),e.resolve(this.head))};var y=function(e){function t(t){var o=t.nodeAfter,n=t.node(0).resolve(t.pos+o.nodeSize);e.call(this,t,n),this.node=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(o,n){var a=n.mapResult(this.anchor),r=a.deleted,i=a.pos,s=o.resolve(i);return r?e.near(s):new t(s)},t.prototype.content=function(){return new l.Slice(l.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:'node',anchor:this.anchor}},t.prototype.getBookmark=function(){return new b(this.anchor)},t.fromJSON=function(e,o){if('number'!=typeof o.anchor)throw new RangeError('Invalid input for NodeSelection.fromJSON');return new t(e.resolve(o.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(u);t.NodeSelection=y,y.prototype.visible=!1,u.jsonID('node',y);var b=function(e){this.anchor=e};b.prototype.map=function(e){var t=e.mapResult(this.anchor),o=t.deleted,n=t.pos;return o?new g(n,n):new b(n)},b.prototype.resolve=function(e){var t=e.resolve(this.anchor),o=t.nodeAfter;return o&&y.isSelectable(o)?new y(t):u.near(t)};var v=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,o){if(void 0===o&&(o=l.Slice.empty),o==l.Slice.empty){t.delete(0,t.doc.content.size);var n=e.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else e.prototype.replace.call(this,t,o)},t.prototype.toJSON=function(){return{type:'all'}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return k},t}(u);t.AllSelection=v,u.jsonID('all',v);var k={map:function(){return this},resolve:function(e){return new v(e)}},x=1,S=2,w=4,C=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return o.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError('Selection passed to setSelection must point at the current document');return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|x)&~S,this.storedMarks=null,this},o.selectionSet.get=function(){return 0<(this.updated&x)},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=S,this},t.prototype.ensureMarks=function(e){return l.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},o.storedMarksSet.get=function(){return 0<(this.updated&S)},t.prototype.addStep=function(t,o){e.prototype.addStep.call(this,t,o),this.updated&=~S,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var o=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(o.empty?o.$from.marks():o.$from.marksAcross(o.$to)||l.Mark.none))),o.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,o){void 0===o&&(o=t);var n=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(n.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,o);var a=this.storedMarks;if(!a){var r=this.doc.resolve(t);a=o==t?r.marks():r.marksAcross(this.doc.resolve(o))}return this.replaceRangeWith(t,o,n.text(e,a)),this.selection.empty||this.setSelection(u.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta['string'==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta['string'==typeof e?e:e.key]},o.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=w,this},o.scrolledIntoView.get=function(){return 0<(this.updated&w)},Object.defineProperties(t.prototype,o),t}(p.Transform);t.Transaction=C;var _=function(e,t,o){this.name=e,this.init=i(t.init,o),this.apply=i(t.apply,o)},M=[new _('doc',{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new _('selection',{init:function(e,t){return e.selection||u.atStart(t.doc)},apply:function(e){return e.selection}}),new _('storedMarks',{init:function(e){return e.storedMarks||null},apply:function(e,t,o,n){return n.selection.$cursor?e.storedMarks:null}}),new _('scrollToSelection',{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],O=function(e,t){var o=this;this.schema=e,this.fields=M.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach(function(e){if(o.pluginsByKey[e.key])throw new RangeError('Adding different instances of a keyed plugin ('+e.key+')');o.plugins.push(e),o.pluginsByKey[e.key]=e,e.spec.state&&o.fields.push(new _(e.key,e.spec.state,e))})},N=function(e){this.config=e};t.EditorState=N;var P={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};P.schema.get=function(){return this.config.schema},P.plugins.get=function(){return this.config.plugins},N.prototype.apply=function(e){return this.applyTransaction(e).state},N.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var o=0;o<this.config.plugins.length;o++)if(o!=t){var n=this.config.plugins[o];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,e,this))return!1}return!0},N.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],o=this.applyInner(e),a=null;;){for(var r=!1,s=0,i;s<this.config.plugins.length;s++)if(i=this.config.plugins[s],i.spec.appendTransaction){var d=a?a[s].n:0,n=a?a[s].state:this,l=d<t.length&&i.spec.appendTransaction.call(i,d?t.slice(d):t,n,o);if(l&&o.filterTransaction(l,s)){if(l.setMeta('appendedTransaction',e),!a){a=[];for(var p=0;p<this.config.plugins.length;p++)a.push(p<s?{state:o,n:t.length}:{state:this,n:0})}t.push(l),o=o.applyInner(l),r=!0}a&&(a[s]={state:o,n:t.length})}if(!r)return{state:o,transactions:t}}},N.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError('Applying a mismatched transaction');for(var t=new N(this.config),o=this.config.fields,n=0,a;n<o.length;n++)a=o[n],t[a.name]=a.apply(e,this[a.name],this,t);for(var r=0;r<T.length;r++)T[r](this,e,t);return t},P.tr.get=function(){return new C(this)},N.create=function(e){for(var t=new O(e.schema||e.doc.type.schema,e.plugins),o=new N(t),n=0;n<t.fields.length;n++)o[t.fields[n].name]=t.fields[n].init(e,o);return o},N.prototype.reconfigure=function(e){for(var t=new O(e.schema||this.schema,e.plugins),o=t.fields,n=new N(t),a=0,r;a<o.length;a++)r=o[a].name,n[r]=this.hasOwnProperty(r)?this[r]:o[a].init(e,n);return n},N.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(function(e){return e.toJSON()})),e&&'object'==n(e))for(var o in e){if('doc'==o||'selection'==o)throw new RangeError('The JSON fields `doc` and `selection` are reserved');var a=e[o],r=a.spec.state;r&&r.toJSON&&(t[o]=r.toJSON.call(a,this[a.key]))}return t},N.fromJSON=function(e,t,o){if(!t)throw new RangeError('Invalid input for EditorState.fromJSON');if(!e.schema)throw new RangeError('Required config field \'schema\' missing');var n=new O(e.schema,e.plugins),a=new N(n);return n.fields.forEach(function(n){if('doc'==n.name)a.doc=l.Node.fromJSON(e.schema,t.doc);else if('selection'==n.name)a.selection=u.fromJSON(a.doc,t.selection);else if('storedMarks'==n.name)t.storedMarks&&(a.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(o)for(var r in o){var i=o[r],s=i.spec.state;if(i.key==n.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(a[n.name]=s.fromJSON.call(i,e,t[r],a))}a[n.name]=n.init(e,a)}}),a},N.addApplyListener=function(e){T.push(e)},N.removeApplyListener=function(e){var t=T.indexOf(e);-1<t&&T.splice(t,1)},Object.defineProperties(N.prototype,P);var T=[],A=function(e){this.props={},e.props&&s(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:d('plugin')};t.Plugin=A,A.prototype.getState=function(e){return e[this.key]};var D=Object.create(null),I=function(e){void 0===e&&(e='key'),this.key=d(e)};t.PluginKey=I,I.prototype.get=function(e){return e.config.pluginsByKey[this.key]},I.prototype.getState=function(e){return e[this.key]}},"539d":function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'PopinBase',class:[{"is-active":e.isActive}].concat(e.$modifiers)},[o('div',{ref:'body',staticClass:'PopinBase_body'},[o('div',{staticClass:'PopinBase_header'},[e._t('header',[o('div')]),e._t('headerClose',[o('div',{staticClass:'PopinBase_close',on:{click:function(){return e.$emit('close')}}},[o('i',{staticClass:'fal fa-times'})])])],2),o('div',{staticClass:'PopinBase_content'},[e._t('content')],2),e.$slots.footer||e.$slots.footerLeft||e.$slots.footerRight?o('div',{staticClass:'PopinBase_footer'},[e._t('footer'),e._t('footerLeft'),e._t('footerRight')],2):e._e()])])},a=[]},"55be":function(e,t,o){'use strict';function n(e){if('table'!=e.type.spec.tableRole)throw new RangeError('Not a table node: '+e.type.name);for(var t=a(e),o=e.childCount,n=[],r=0,s=null,l=[],p=0;p<t*o;p++)n[p]=0;for(var i=0,c=0,u;i<o;i++){u=e.child(i),c++;for(var f=0;;f++){for(;r<n.length&&0!=n[r];)r++;if(f==u.childCount)break;for(var m=u.child(f),g=m.attrs,y=g.colspan,b=g.rowspan,v=g.colwidth,k=0;k<b;k++){if(k+i>=o){(s||(s=[])).push({type:'overlong_rowspan',pos:c,n:b-k});break}for(var h=r+k*t,x=0;x<y;x++){0==n[h+x]?n[h+x]=c:(s||(s=[])).push({type:'collision',row:i,pos:c,n:y-x});var S=v&&v[x];if(S){var w=2*((h+x)%t),C=l[w];null==C||C!=S&&1==l[w+1]?(l[w]=S,l[w+1]=1):C==S&&l[w+1]++}}}r+=y,c+=m.nodeSize}for(var _=(i+1)*t,M=0;r<_;)0==n[r++]&&M++;M&&(s||(s=[])).push({type:'missing',row:i,n:M}),c++}for(var O=new Ie(t,o,n,s),N=!1,P=0;!N&&P<l.length;P+=2)null!=l[P]&&l[P+1]<o&&(N=!0);return N&&d(O,l,e),O}function a(e){for(var t=-1,o=!1,n=0;n<e.childCount;n++){var a=e.child(n),r=0;if(o)for(var d=0,l;d<n;d++){l=e.child(d);for(var p=0,i;p<l.childCount;p++)i=l.child(p),d+i.attrs.rowspan>n&&(r+=i.attrs.colspan)}for(var c=0,u;c<a.childCount;c++)u=a.child(c),r+=u.attrs.colspan,1<u.attrs.rowspan&&(o=!0);-1==t?t=r:t!=r&&(t=s(t,r))}return t}function d(e,t,o){e.problems||(e.problems=[]);for(var n=0,a={},r;n<e.map.length;n++)if(r=e.map[n],!a[r]){a[r]=!0;for(var i=o.nodeAt(r),s=null,d=0;d<i.attrs.colspan;d++){var p=(n+d)%e.width,c=t[2*p];null==c||i.attrs.colwidth&&i.attrs.colwidth[d]==c||((s||(s=l(i.attrs)))[d]=c)}s&&e.problems.unshift({type:'colwidth mismatch',pos:r,colwidth:s})}}function l(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],o=0;o<e.colspan;o++)t.push(0);return t}function i(e,t){var o=e.getAttribute('data-colwidth'),n=o&&/^\d+(,\d+)*$/.test(o)?o.split(',').map(function(e){return+e}):null,a=+(e.getAttribute('colspan')||1),r={colspan:a,rowspan:+(e.getAttribute('rowspan')||1),colwidth:n&&n.length==a?n:null};for(var i in t){var s=t[i].getFromDOM,d=s&&s(e);null!=d&&(r[i]=d)}return r}function p(e,t){var o={};for(var n in 1!=e.attrs.colspan&&(o.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(o.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(o['data-colwidth']=e.attrs.colwidth.join(',')),t){var a=t[n].setDOMAttr;a&&a(e.attrs[n],o)}return o}function c(e){var t=e.cached.tableNodeTypes;if(!t)for(var o in t=e.cached.tableNodeTypes={},e.nodes){var n=e.nodes[o],a=n.spec.tableRole;a&&(t[a]=n)}return t}function u(e){for(var t=e.depth-1;0<t;t--)if('row'==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function f(e){for(var t=e.depth,o;0<t;t--)if(o=e.node(t).type.spec.tableRole,'cell'===o||'header_cell'===o)return e.node(t);return null}function m(e){for(var t=e.selection.$head,o=t.depth;0<o;o--)if('row'==t.node(o).type.spec.tableRole)return!0;return!1}function h(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&'cell'==t.node.type.spec.tableRole?t.$anchor:u(t.$head)||g(t.$head)}function g(e){for(var t=e.nodeAfter,o=e.pos,n;t;t=t.firstChild,o++)if(n=t.type.spec.tableRole,'cell'==n||'header_cell'==n)return e.doc.resolve(o);for(var a=e.nodeBefore,r=e.pos,i;a;a=a.lastChild,r--)if(i=a.type.spec.tableRole,'cell'==i||'header_cell'==i)return e.doc.resolve(r-a.nodeSize)}function y(e){return'row'==e.parent.type.spec.tableRole&&e.nodeAfter}function b(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function v(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function k(e,t,o){var n=e.start(-1),a=Ie.get(e.node(-1)),r=a.nextCell(e.pos-n,t,o);return null==r?null:e.node(0).resolve(n+r)}function x(e,t,o){var n={};for(var a in e)n[a]=e[a];return n[t]=o,n}function S(e,t,o){void 0===o&&(o=1);var n=x(e,'colspan',e.colspan-o);return n.colwidth&&(n.colwidth=n.colwidth.slice(),n.colwidth.splice(t,o),!n.colwidth.some(function(e){return 0<e})&&(n.colwidth=null)),n}function w(e,t,o){void 0===o&&(o=1);var n=x(e,'colspan',e.colspan+o);if(n.colwidth){n.colwidth=n.colwidth.slice();for(var a=0;a<o;a++)n.colwidth.splice(t,0,0)}return n}function C(e,t,o){for(var n=c(t.type.schema).header_cell,a=0;a<e.height;a++)if(t.nodeAt(e.map[o+a*e.width]).type!=n)return!1;return!0}function _(e){if(!(e.selection instanceof $e))return null;var t=[];return e.selection.forEachCell(function(e,o){t.push(_e.Decoration.node(o,o+e.nodeSize,{class:'selectedCell'}))}),_e.DecorationSet.create(e.doc,t)}function M(e){var t=e.$from,o=e.$to;if(t.pos==o.pos||t.pos<t.pos-6)return!1;for(var n=t.pos,a=o.pos,r=t.depth;0<=r&&!(t.after(r+1)<t.end(r));r--,n++);for(var i=o.depth;0<=i&&!(o.before(i+1)>o.start(i));i--,a--);return n==a&&/row|table/.test(t.node(r).type.spec.tableRole)}function O(e){for(var t=e.$from,o=e.$to,n=t.depth,a,r,i;0<n;n--)if(i=t.node(n),'cell'===i.type.spec.tableRole||'header_cell'===i.type.spec.tableRole){a=i;break}for(var s=o.depth,d;0<s;s--)if(d=o.node(s),'cell'===d.type.spec.tableRole||'header_cell'===d.type.spec.tableRole){r=d;break}return a!==r&&0===o.parentOffset}function N(e,t,o){var n=(t||e).selection,a=(t||e).doc,r,i;if(!(n instanceof Se.NodeSelection&&(i=n.node.type.spec.tableRole)))n instanceof Se.TextSelection&&M(n)?r=Se.TextSelection.create(a,n.from):n instanceof Se.TextSelection&&O(n)&&(r=Se.TextSelection.create(a,n.$from.start(),n.$from.end()));else if('cell'==i||'header_cell'==i)r=$e.create(a,n.from);else if('row'==i){var s=a.resolve(n.from+1);r=$e.rowSelection(s,s)}else if(!o){var d=Ie.get(n.node),l=n.from+1,p=l+d.map[d.width*d.height-1];r=$e.create(a,l+1,p)}return r&&(t||(t=e.tr)).setSelection(r),t}function P(e){if(!e.size)return null;for(var t=e.content,o=e.openStart,n=e.openEnd;1==t.childCount&&(0<o&&0<n||'table'==t.firstChild.type.spec.tableRole);)o--,n--,t=t.firstChild.content;var a=t.firstChild,r=a.type.spec.tableRole,d=a.type.schema,l=[];if('row'==r)for(var p=0;p<t.childCount;p++){var i=t.child(p).content,u=p?0:s(0,o-1),f=p<t.childCount-1?0:s(0,n-1);(u||f)&&(i=A(c(d).row,new we.Slice(i,u,f)).content),l.push(i)}else if('cell'==r||'header_cell'==r)l.push(o||n?A(c(d).row,new we.Slice(t,o,n)).content:t);else return null;return T(d,l)}function T(e,t){for(var o=[],n=0,a;n<t.length;n++){a=t[n];for(var i=a.childCount-1;0<=i;i--)for(var d=a.child(i).attrs,l=d.rowspan,p=d.colspan,u=n;u<n+l;u++)o[u]=(o[u]||0)+p}for(var r=0,f=0;f<o.length;f++)r=s(r,o[f]);for(var m=0;m<o.length;m++)if(m>=t.length&&t.push(we.Fragment.empty),o[m]<r){for(var h=c(e).cell.createAndFill(),g=[],y=o[m];y<r;y++)g.push(h);t[m]=t[m].append(we.Fragment.from(g))}return{height:t.length,width:r,rows:t}}function A(e,t){var o=e.createAndFill(),n=new Me.Transform(o).replace(0,o.content.size,t);return n.doc}function D(e,t,o){var n=e.width,a=e.height,r=e.rows;if(n!=t){for(var d=[],l=[],p=0;p<r.length;p++){for(var c=r[p],u=[],f=d[p]||0,m=0,i;f<t;m++){i=c.child(m%c.childCount),f+i.attrs.colspan>t&&(i=i.type.create(S(i.attrs,i.attrs.colspan,f+i.attrs.colspan-t),i.content)),u.push(i),f+=i.attrs.colspan;for(var h=1;h<i.attrs.rowspan;h++)d[p+h]=(d[p+h]||0)+i.attrs.colspan}l.push(we.Fragment.from(u))}r=l,n=t}if(a!=o){for(var g=[],y=0,b=0;y<o;y++,b++){for(var v=[],k=r[b%a],w=0,C;w<k.childCount;w++)C=k.child(w),y+C.attrs.rowspan>o&&(C=C.type.create(x(C.attrs,'rowspan',s(1,o-C.attrs.rowspan)),C.content)),v.push(C);g.push(we.Fragment.from(v))}r=g,a=o}return{width:n,height:a,rows:r}}function I(e,t,o,n,a,r,d){var l=e.doc.type.schema,p=c(l),u,f;if(a>t.width)for(var m=0,h=0,g;m<t.height;m++){g=o.child(m),h+=g.nodeSize;var y=[],b=void 0;b=null==g.lastChild||g.lastChild.type==p.cell?u||(u=p.cell.createAndFill()):f||(f=p.header_cell.createAndFill());for(var v=t.width;v<a;v++)y.push(b);e.insert(e.mapping.slice(d).map(h-1+n),y)}if(r>t.height){for(var i=[],k=0,x=(t.height-1)*t.width,S;k<s(t.width,a);k++)S=!(k>=t.width)&&o.nodeAt(t.map[x+k]).type==p.header_cell,i.push(S?f||(f=p.header_cell.createAndFill()):u||(u=p.cell.createAndFill()));for(var w=p.row.create(null,we.Fragment.from(i)),C=[],_=t.height;_<r;_++)C.push(w);e.insert(e.mapping.slice(d).map(n+o.nodeSize-2),C)}return!!(u||f)}function E(e,t,o,n,a,r,i,s){if(0==i||i==t.height)return!1;for(var d=!1,l=a;l<r;l++){var p=i*t.width+l,c=t.map[p];if(t.map[p-t.width]==c){d=!0;var u=o.nodeAt(c),f=t.findCell(c),m=f.top,h=f.left;e.setNodeMarkup(e.mapping.slice(s).map(c+n),null,x(u.attrs,'rowspan',i-m)),e.insert(e.mapping.slice(s).map(t.positionAt(i,h,o)),u.type.createAndFill(x(u.attrs,'rowspan',m+u.attrs.rowspan-i))),l+=u.attrs.colspan-1}}return d}function $(e,t,o,n,a,r,i,s){if(0==i||i==t.width)return!1;for(var d=!1,l=a;l<r;l++){var p=l*t.width+i,c=t.map[p];if(t.map[p-1]==c){d=!0;var u=o.nodeAt(c),f=t.colCount(c),m=e.mapping.slice(s).map(c+n);e.setNodeMarkup(m,null,S(u.attrs,i-f,u.attrs.colspan-(i-f))),e.insert(m+u.nodeSize,u.type.createAndFill(S(u.attrs,0,i-f))),l+=u.attrs.rowspan-1}}return d}function R(e,t,o,n,a){function r(){i=o?u.doc.nodeAt(o-1):u.doc,s=Ie.get(i),f=u.mapping.maps.length}var i=o?e.doc.nodeAt(o-1):e.doc,s=Ie.get(i),d=n.top,l=n.left,p=l+a.width,c=d+a.height,u=e.tr,f=0;I(u,s,i,o,p,c,f)&&r(),E(u,s,i,o,l,p,d,f)&&r(),E(u,s,i,o,l,p,c,f)&&r(),$(u,s,i,o,d,c,l,f)&&r(),$(u,s,i,o,d,c,p,f)&&r();for(var m=d;m<c;m++){var h=s.positionAt(m,l,i),g=s.positionAt(m,p,i);u.replace(u.mapping.slice(f).map(h+o),u.mapping.slice(f).map(g+o),new we.Slice(a.rows[m-d],0,0))}r(),u.setSelection(new $e(u.doc.resolve(o+s.positionAt(d,l,i)),u.doc.resolve(o+s.positionAt(c-1,p-1,i)))),t(u)}function B(e,t,o){return!o.eq(e.selection)&&(t&&t(e.tr.setSelection(o).scrollIntoView()),!0)}function z(e,t){return function(o,n,a){var r=o.selection;if(r instanceof $e)return B(o,n,Se.Selection.near(r.$headCell,t));if('horiz'!=e&&!r.empty)return!1;var i=W(a,e,t);if(null==i)return!1;if('horiz'==e)return B(o,n,Se.Selection.near(o.doc.resolve(r.head+t),t));var s=o.doc.resolve(i),d=k(s,e,t),l;return l=d?Se.Selection.near(d,1):0>t?Se.Selection.near(o.doc.resolve(s.before(-1)),-1):Se.Selection.near(o.doc.resolve(s.after(-1)),1),B(o,n,l)}}function F(e,t){return function(o,n,a){var r=o.selection;if(!(r instanceof $e)){var i=W(a,e,t);if(null==i)return!1;r=new $e(o.doc.resolve(i))}var s=k(r.$headCell,e,t);return!!s&&B(o,n,new $e(r.$anchorCell,s))}}function L(e,t){var o=e.selection;if(!(o instanceof $e))return!1;if(t){var n=e.tr,a=c(e.schema).cell.createAndFill().content;o.forEachCell(function(e,t){e.content.eq(a)||n.replace(n.mapping.map(t+1),n.mapping.map(t+e.nodeSize-1),new we.Slice(a,0,0))}),n.docChanged&&t(n)}return!0}function V(e,t){var o=e.state.doc,n=u(o.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new $e(n))),!0)}function H(e,t,o){if(!m(e.state))return!1;var n=P(o),a=e.state.selection;if(a instanceof $e){n||(n={width:1,height:1,rows:[we.Fragment.from(A(c(e.state.schema).cell,o))]});var r=a.$anchorCell.node(-1),i=a.$anchorCell.start(-1),s=Ie.get(r).rectBetween(a.$anchorCell.pos-i,a.$headCell.pos-i);return n=D(n,s.right-s.left,s.bottom-s.top),R(e.state,e.dispatch,i,s,n),!0}if(n){var d=h(e.state),l=d.start(-1);return R(e.state,e.dispatch,l,Ie.get(d.node(-1)).findCell(d.pos-l),n),!0}return!1}function j(e,t){function o(t,o){var n=K(e,o),a=null==Ee.getState(e.state);if(!n||!v(t,n))if(a)n=t;else return;var r=new $e(t,n);if(a||!e.state.selection.eq(r)){var i=e.state.tr.setSelection(r);a&&i.setMeta(Ee,t.pos),e.dispatch(i)}}function n(){e.root.removeEventListener('mouseup',n),e.root.removeEventListener('dragstart',n),e.root.removeEventListener('mousemove',a),null!=Ee.getState(e.state)&&e.dispatch(e.state.tr.setMeta(Ee,-1))}function a(a){var i=Ee.getState(e.state),s;if(null!=i)s=e.state.doc.resolve(i);else if(q(e,a.target)!=r&&(s=K(e,t),!s))return n();s&&o(s,a)}if(!(t.ctrlKey||t.metaKey)){var r=q(e,t.target),i;if(t.shiftKey&&e.state.selection instanceof $e)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(i=u(e.state.selection.$anchor))&&K(e,t).pos!=i.pos)o(i,t),t.preventDefault();else if(!r)return;e.root.addEventListener('mouseup',n),e.root.addEventListener('dragstart',n),e.root.addEventListener('mousemove',a)}}function W(e,t,o){if(!(e.state.selection instanceof Se.TextSelection))return null;for(var n=e.state.selection,a=n.$head,r=a.depth-1;0<=r;r--){var i=a.node(r),s=0>o?a.index(r):a.indexAfter(r);if(s!=(0>o?0:i.childCount))return null;if('cell'==i.type.spec.tableRole||'header_cell'==i.type.spec.tableRole){var d=a.before(r),l='vert'==t?0<o?'down':'up':0<o?'right':'left';return e.endOfTextblock(l)?d:null}}return null}function q(e,t){for(;t&&t!=e.dom;t=t.parentNode)if('TD'==t.nodeName||'TH'==t.nodeName)return t}function K(e,t){var o=e.posAtCoords({left:t.clientX,top:t.clientY});return o?o?u(e.state.doc.resolve(o.pos)):null:null}function J(t,o,n,a){var s=t.childCount,d=o.childCount;outer:for(var l=0,i=0,p;l<d;l++){p=o.child(l);for(var c=i,u=r(s,l+3);c<u;c++)if(t.child(c)==p){i=c+1,n+=p.nodeSize;continue outer}a(p,n),i<s&&t.child(i).sameMarkup(p)?J(t.child(i),p,n+1,a):p.nodesBetween(0,p.content.size,a,n+1),n+=p.nodeSize}}function U(e,t){var o=function(t,o){'table'==t.type.spec.tableRole&&(n=G(e,t,o,n))},n;return t?t.doc!=e.doc&&J(t.doc,e.doc,0,o):e.doc.descendants(o),n}function G(e,t,o,n){var a=Ie.get(t);if(!a.problems)return n;n||(n=e.tr);for(var r=[],s=0;s<a.height;s++)r.push(0);for(var i=0,d;i<a.problems.length;i++)if(d=a.problems[i],'collision'==d.type){for(var l=t.nodeAt(d.pos),p=0;p<l.attrs.rowspan;p++)r[d.row+p]+=d.n;n.setNodeMarkup(n.mapping.map(o+1+d.pos),null,S(l.attrs,l.attrs.colspan-d.n,d.n))}else if('missing'==d.type)r[d.row]+=d.n;else if('overlong_rowspan'==d.type){var u=t.nodeAt(d.pos);n.setNodeMarkup(n.mapping.map(o+1+d.pos),null,x(u.attrs,'rowspan',u.attrs.rowspan-d.n))}else if('colwidth mismatch'==d.type){var f=t.nodeAt(d.pos);n.setNodeMarkup(n.mapping.map(o+1+d.pos),null,x(f.attrs,'colwidth',d.colwidth))}for(var m=0,h,g;m<r.length;m++)r[m]&&(null==h&&(h=m),g=m);for(var y=0,b=o+1;y<a.height;y++){var v=t.child(y),k=b+v.nodeSize,w=r[y];if(0<w){var C='cell';v.firstChild&&(C=v.firstChild.type.spec.tableRole);for(var _=[],M=0;M<w;M++)_.push(c(e.schema)[C].createAndFill());var O=(0==y||h==y-1)&&g==y?b+1:k-1;n.insert(n.mapping.map(O),_)}b=k}return n.setMeta(ze,{fixTables:!0})}function X(e){var t=e.selection,o=h(e),n=o.node(-1),a=o.start(-1),r=Ie.get(n),i;return i=t instanceof $e?r.rectBetween(t.$anchorCell.pos-a,t.$headCell.pos-a):r.findCell(o.pos-a),i.tableStart=a,i.map=r,i.table=n,i}function Y(e,t,o){var n=t.map,a=t.tableStart,r=t.table,i=0<o?-1:0;C(n,r,o+i)&&(i=0==o||o==n.width?null:0);for(var s=0,d;s<n.height;s++)if(d=s*n.width+o,0<o&&o<n.width&&n.map[d-1]==n.map[d]){var l=n.map[d],p=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(a+l),null,w(p.attrs,o-n.colCount(l))),s+=p.attrs.rowspan-1}else{var u=null==i?c(r.type.schema).cell:r.nodeAt(n.map[d+i]).type,f=n.positionAt(s,o,r);e.insert(e.mapping.map(a+f),u.createAndFill())}return e}function Q(e,t,o){for(var n=t.map,a=t.table,r=t.tableStart,i=e.mapping.maps.length,s=0;s<n.height;){var d=s*n.width+o,l=n.map[d],p=a.nodeAt(l);if(0<o&&n.map[d-1]==l||o<n.width-1&&n.map[d+1]==l)e.setNodeMarkup(e.mapping.slice(i).map(r+l),null,S(p.attrs,o-n.colCount(l)));else{var c=e.mapping.slice(i).map(r+l);e.delete(c,c+p.nodeSize)}s+=p.attrs.rowspan}}function Z(e,t,o){for(var n=c(t.type.schema).header_cell,a=0;a<e.width;a++)if(t.nodeAt(e.map[a+o*e.width]).type!=n)return!1;return!0}function ee(e,t,o){for(var n=t.map,a=t.tableStart,r=t.table,s=a,d=0;d<o;d++)s+=r.child(d).nodeSize;var i=[],l=0<o?-1:0;Z(n,r,o+l)&&(l=0==o||o==n.height?null:0);for(var p=0,u=n.width*o;p<n.width;p++,u++)if(0<o&&o<n.height&&n.map[u]==n.map[u-n.width]){var f=n.map[u],m=r.nodeAt(f).attrs;e.setNodeMarkup(a+f,null,x(m,'rowspan',m.rowspan+1)),p+=m.colspan-1}else{var h=null==l?c(r.type.schema).cell:r.nodeAt(n.map[u+l*n.width]).type;i.push(h.createAndFill())}return e.insert(s,c(r.type.schema).row.create(null,i)),e}function te(e,t,o){for(var n=t.map,a=t.table,r=t.tableStart,s=0,d=0;d<o;d++)s+=a.child(d).nodeSize;var i=s+a.child(o).nodeSize,l=e.mapping.maps.length;e.delete(s+r,i+r);for(var p=0,c=o*n.width,u;p<n.width;p++,c++)if(u=n.map[c],0<o&&u==n.map[c-n.width]){var f=a.nodeAt(u).attrs;e.setNodeMarkup(e.mapping.slice(l).map(u+r),null,x(f,'rowspan',f.rowspan-1)),p+=f.colspan-1}else if(o<n.width&&u==n.map[c+n.width]){var m=a.nodeAt(u),h=m.type.create(x(m.attrs,'rowspan',m.attrs.rowspan-1),m.content),g=n.positionAt(o+1,p,a);e.insert(e.mapping.slice(l).map(r+g),h),p+=m.attrs.colspan-1}}function oe(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function ne(e,t){for(var o=e.width,n=e.height,a=e.map,r=t.top*o+t.left,s=r,d=(t.bottom-1)*o+t.left,l=r+(t.right-t.left-1),p=t.top;p<t.bottom;p++){if(0<t.left&&a[s]==a[s-1]||t.right<o&&a[l]==a[l+1])return!0;s+=o,l+=o}for(var i=t.left;i<t.right;i++){if(0<t.top&&a[r]==a[r-o]||t.bottom<n&&a[d]==a[d+o])return!0;r++,d++}return!1}function ae(e){return function(t,o){var n=t.selection,a,r;if(!(n instanceof $e)){if(a=f(n.$from),!a)return!1;r=u(n.$from).pos}else{if(n.$anchorCell.pos!=n.$headCell.pos)return!1;a=n.$anchorCell.nodeAfter,r=n.$anchorCell.pos}if(1==a.attrs.colspan&&1==a.attrs.rowspan)return!1;if(o){var s=a.attrs,d=[],l=s.colwidth;1<s.rowspan&&(s=x(s,'rowspan',1)),1<s.colspan&&(s=x(s,'colspan',1));for(var p=X(t),c=t.tr,m=0;m<p.right-p.left;m++)d.push(l?x(s,'colwidth',l&&l[m]?[l[m]]:null):s);for(var i=p.top,h,g;i<p.bottom;i++){g=p.map.positionAt(i,p.left,p.table),i==p.top&&(g+=a.nodeSize);for(var y=p.left,b=0;y<p.right;y++,b++)(y!=p.left||i!=p.top)&&c.insert(h=c.mapping.map(g+p.tableStart,1),e({node:a,row:i,col:y}).createAndFill(d[b]))}c.setNodeMarkup(r,e({node:a,row:p.top,col:p.left}),d[0]),n instanceof $e&&c.setSelection(new $e(c.doc.resolve(n.$anchorCell.pos),h&&c.doc.resolve(h))),o(c)}return!0}}function re(e){return function(t,o){if(!m(t))return!1;if(o){for(var n=c(t.schema),a=X(t),r=t.tr,s=a.map.cellsInRect('column'==e?new De(a.left,0,a.right,a.map.height):'row'==e?new De(0,a.top,a.map.width,a.bottom):a),d=s.map(function(e){return a.table.nodeAt(e)}),l=0;l<s.length;l++)d[l].type==n.header_cell&&r.setNodeMarkup(a.tableStart+s[l],n.cell,d[l].attrs);if(0==r.steps.length)for(var i=0;i<s.length;i++)r.setNodeMarkup(a.tableStart+s[i],n.header_cell,d[i].attrs);o(r)}return!0}}function ie(e,t,o){for(var n=t.map.cellsInRect({left:0,top:0,right:'row'==e?t.map.width:1,bottom:'column'==e?t.map.height:1}),a=0,r;a<n.length;a++)if(r=t.table.nodeAt(n[a]),r&&r.type!==o.header_cell)return!1;return!0}function se(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?re(e):function(t,o){if(!m(t))return!1;if(o){var n=c(t.schema),a=X(t),r=t.tr,i=ie('row',a,n),s=ie('column',a,n),d='column'===e?i:'row'==e&&s,l=d?1:0,p='column'==e?new De(0,l,1,a.map.height):'row'==e?new De(l,0,a.map.width,1):a,u='column'==e?s?n.cell:n.header_cell:'row'==e?i?n.cell:n.header_cell:n.cell;a.map.cellsInRect(p).forEach(function(e){var t=e+a.tableStart,o=r.doc.nodeAt(t);o&&r.setNodeMarkup(t,u,o.attrs)}),o(r)}return!0}}function de(e,t){if(0>t){var o=e.nodeBefore;if(o)return e.pos-o.nodeSize;for(var n=e.index(-1)-1,a=e.before(),r;0<=n;n--){if(r=e.node(-1).child(n),r.childCount)return a-1-r.lastChild.nodeSize;a-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var i=e.node(-1),s=e.indexAfter(-1),d=e.after(),l;s<i.childCount;s++){if(l=i.child(s),l.childCount)return d+1;d+=l.nodeSize}}}function le(e,t,o,n,a,r){for(var s=0,d=!0,l=t.firstChild,p=e.firstChild,c=0,i=0;c<p.childCount;c++)for(var u=p.child(c).attrs,f=u.colspan,m=u.colwidth,h=0;h<f;h++,i++){var g=a==i?r:m&&m[h],y=g?g+'px':'';s+=g||n,g||(d=!1),l?(l.style.width!=y&&(l.style.width=y),l=l.nextSibling):t.appendChild(document.createElement('col')).style.width=y}for(;l;){var b=l.nextSibling;l.parentNode.removeChild(l),l=b}d?(o.style.width=s+'px',o.style.minWidth=''):(o.style.width='',o.style.minWidth=s+'px')}function pe(e,t,o,n,a){var r=je.getState(e.state);if(!r.dragging){var i=me(t.target),s=-1;if(i){var d=i.getBoundingClientRect(),l=d.left,p=d.right;t.clientX-l<=o?s=he(e,t,'left'):p-t.clientX<=o&&(s=he(e,t,'right'))}if(s!=r.activeHandle){if(!a&&-1!==s){var c=e.state.doc.resolve(s),u=c.node(-1),f=Ie.get(u),m=c.start(-1),h=f.colCount(c.pos-m)+c.nodeAfter.attrs.colspan-1;if(h==f.width-1)return}ye(e,s)}}}function ce(e){var t=je.getState(e.state);-1<t.activeHandle&&!t.dragging&&ye(e,-1)}function ue(e,t,o){function n(t){window.removeEventListener('mouseup',n),window.removeEventListener('mousemove',a);var r=je.getState(e.state);r.dragging&&(be(e,r.activeHandle,ge(r.dragging,t,o)),e.dispatch(e.state.tr.setMeta(je,{setDragging:null})))}function a(t){if(!t.which)return n(t);var a=je.getState(e.state),r=ge(a.dragging,t,o);ve(e,a.activeHandle,r,o)}var r=je.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;var i=e.state.doc.nodeAt(r.activeHandle),s=fe(e,r.activeHandle,i.attrs);return e.dispatch(e.state.tr.setMeta(je,{setDragging:{startX:t.clientX,startWidth:s}})),window.addEventListener('mouseup',n),window.addEventListener('mousemove',a),t.preventDefault(),!0}function fe(e,t,o){var n=o.colspan,a=o.colwidth,r=a&&a[a.length-1];if(r)return r;var s=e.domAtPos(t),d=s.node.childNodes[s.offset],l=d.offsetWidth,p=n;if(a)for(var c=0;c<n;c++)a[c]&&(l-=a[c],p--);return l/p}function me(e){for(;e&&'TD'!=e.nodeName&&'TH'!=e.nodeName;)e=e.classList.contains('ProseMirror')?null:e.parentNode;return e}function he(e,t,o){var n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return-1;var a=n.pos,r=u(e.state.doc.resolve(a));if(!r)return-1;if('right'==o)return r.pos;var i=Ie.get(r.node(-1)),s=r.start(-1),d=i.map.indexOf(r.pos-s);return 0==d%i.width?-1:s+i.map[d-1]}function ge(e,t,o){var n=t.clientX-e.startX;return s(o,e.startWidth+n)}function ye(e,t){e.dispatch(e.state.tr.setMeta(je,{setHandle:t}))}function be(e,t,o){for(var n=e.state.doc.resolve(t),a=n.node(-1),r=Ie.get(a),i=n.start(-1),s=r.colCount(n.pos-i)+n.nodeAfter.attrs.colspan-1,d=e.state.tr,l=0,p;l<r.height;l++)if(p=l*r.width+s,!(l&&r.map[p]==r.map[p-r.width])){var c=r.map[p],u=a.nodeAt(c),f=u.attrs,m=1==f.colspan?0:s-r.colCount(c);if(!(f.colwidth&&f.colwidth[m]==o)){var h=f.colwidth?f.colwidth.slice():ke(f.colspan);h[m]=o,d.setNodeMarkup(i+c,null,x(f,'colwidth',h))}}d.docChanged&&e.dispatch(d)}function ve(e,t,o,n){for(var a=e.state.doc.resolve(t),r=a.node(-1),i=a.start(-1),s=Ie.get(r).colCount(a.pos-i)+a.nodeAfter.attrs.colspan-1,d=e.domAtPos(a.start(-1)).node;'TABLE'!=d.nodeName;)d=d.parentNode;le(r,d.firstChild,d,n,s,o)}function ke(e){for(var t=[],o=0;o<e;o++)t.push(0);return t}function xe(e,t){for(var o=[],n=e.doc.resolve(t),a=n.node(-1),r=Ie.get(a),i=n.start(-1),s=r.colCount(n.pos-i)+n.nodeAfter.attrs.colspan,d=0,l;d<r.height;d++)if(l=s+d*r.width-1,(s==r.width||r.map[l]!=r.map[l+1])&&(0==d||r.map[l-1]!=r.map[l-1-r.width])){var p=r.map[l],c=i+p+a.nodeAt(p).nodeSize-1,u=document.createElement('div');u.className='column-resize-handle',o.push(_e.Decoration.widget(c,u))}return _e.DecorationSet.create(e.doc,o)}Object.defineProperty(t,'__esModule',{value:!0}),t.__clipCells=D,t.__insertCells=R,t.__pastedCells=P,t.addColSpan=w,t.addColumn=Y,t.addColumnAfter=function(e,t){if(!m(e))return!1;if(t){var o=X(e);t(Y(e.tr,o,o.right))}return!0},t.addColumnBefore=function(e,t){if(!m(e))return!1;if(t){var o=X(e);t(Y(e.tr,o,o.left))}return!0},t.addRow=ee,t.addRowAfter=function(e,t){if(!m(e))return!1;if(t){var o=X(e);t(ee(e.tr,o,o.bottom))}return!0},t.addRowBefore=function(e,t){if(!m(e))return!1;if(t){var o=X(e);t(ee(e.tr,o,o.top))}return!0},t.cellAround=u,t.colCount=function(e){return Ie.get(e.node(-1)).colCount(e.pos-e.start(-1))},t.columnIsHeader=C,t.columnResizing=function(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var o=e.cellMinWidth;void 0===o&&(o=25);var n=e.View;void 0===n&&(n=He);var a=e.lastColumnResizable;void 0===a&&(a=!0);var r=new Se.Plugin({key:je,state:{init:function(e,t){return this.spec.props.nodeViews[c(t.schema).table.name]=function(e,t){return new n(e,o,t)},new We(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){var t=je.getState(e);return-1<t.activeHandle?{class:'resize-cursor'}:null},handleDOMEvents:{mousemove:function(e,n){pe(e,n,t,o,a)},mouseleave:function(e){ce(e)},mousedown:function(e,t){ue(e,t,o)}},decorations:function(e){var t=je.getState(e);if(-1<t.activeHandle)return xe(e,t.activeHandle)},nodeViews:{}}});return r},t.deleteColumn=function(e,t){if(!m(e))return!1;if(t){var o=X(e),n=e.tr;if(0==o.left&&o.right==o.map.width)return!1;for(var a=o.right-1;;a--){if(Q(n,o,a),a==o.left)break;o.table=o.tableStart?n.doc.nodeAt(o.tableStart-1):n.doc,o.map=Ie.get(o.table)}t(n)}return!0},t.deleteRow=function(e,t){if(!m(e))return!1;if(t){var o=X(e),n=e.tr;if(0==o.top&&o.bottom==o.map.height)return!1;for(var a=o.bottom-1;;a--){if(te(n,o,a),a==o.top)break;o.table=o.tableStart?n.doc.nodeAt(o.tableStart-1):n.doc,o.map=Ie.get(o.table)}t(n)}return!0},t.deleteTable=function(e,t){for(var o=e.selection.$anchor,n=o.depth,a;0<n;n--)if(a=o.node(n),'table'==a.type.spec.tableRole)return t&&t(e.tr.delete(o.before(n),o.after(n)).scrollIntoView()),!0;return!1},t.findCell=function(e){return Ie.get(e.node(-1)).findCell(e.pos-e.start(-1))},t.fixTables=U,t.goToNextCell=function(e){return function(t,o){if(!m(t))return!1;var n=de(h(t),e);if(null!=n){if(o){var a=t.doc.resolve(n);o(t.tr.setSelection(Se.TextSelection.between(a,b(a))).scrollIntoView())}return!0}}},t.handlePaste=H,t.inSameTable=v,t.isInTable=m,t.mergeCells=function(e,t){var o=e.selection;if(!(o instanceof $e)||o.$anchorCell.pos==o.$headCell.pos)return!1;var n=X(e),a=n.map;if(ne(a,n))return!1;if(t){for(var r=e.tr,i={},s=we.Fragment.empty,d=n.top,l,p;d<n.bottom;d++)for(var c=n.left;c<n.right;c++){var u=a.map[d*a.width+c],f=n.table.nodeAt(u);if(!i[u])if(i[u]=!0,null==l)l=u,p=f;else{oe(f)||(s=s.append(f.content));var m=r.mapping.map(u+n.tableStart);r.delete(m,m+f.nodeSize)}}if(r.setNodeMarkup(l+n.tableStart,null,x(w(p.attrs,p.attrs.colspan,n.right-n.left-p.attrs.colspan),'rowspan',n.bottom-n.top)),s.size){var h=l+1+p.content.size,g=oe(p)?l+1:h;r.replaceWith(g+n.tableStart,h+n.tableStart,s)}r.setSelection(new $e(r.doc.resolve(l+n.tableStart))),t(r)}return!0},t.moveCellForward=b,t.nextCell=k,t.pointsAtCell=y,t.removeColSpan=S,t.removeColumn=Q,t.removeRow=te,t.rowIsHeader=Z,t.selectedRect=X,t.selectionCell=h,t.setAttr=x,t.setCellAttr=function(e,t){return function(o,n){if(!m(o))return!1;var a=h(o);if(a.nodeAfter.attrs[e]===t)return!1;if(n){var r=o.tr;o.selection instanceof $e?o.selection.forEachCell(function(o,n){o.attrs[e]!==t&&r.setNodeMarkup(n,null,x(o.attrs,e,t))}):r.setNodeMarkup(a.pos,null,x(a.nodeAfter.attrs,e,t)),n(r)}return!0}},t.splitCell=function(e,t){var o=c(e.schema);return ae(function(e){var t=e.node;return o[t.type.spec.tableRole]})(e,t)},t.splitCellWithType=ae,t.tableEditing=function(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new Se.Plugin({key:Ee,state:{init:function(){return null},apply:function(e,t){var o=e.getMeta(Ee);if(null!=o)return-1==o?null:o;if(null==t||!e.docChanged)return t;var n=e.mapping.mapResult(t),a=n.deleted,r=n.pos;return a?null:r}},props:{decorations:_,handleDOMEvents:{mousedown:j},createSelectionBetween:function(e){if(null!=Ee.getState(e.state))return e.state.selection},handleTripleClick:V,handleKeyDown:Be,handlePaste:H},appendTransaction:function(e,o,n){return N(n,U(n,o),t)}})},t.tableNodeTypes=c,t.tableNodes=function(e){var t=e.cellAttributes||{},o={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var n in t)o[n]={default:t[n].default};return{table:{content:'table_row+',tableRole:'table',isolating:!0,group:e.tableGroup,parseDOM:[{tag:'table'}],toDOM:function(){return['table',['tbody',0]]}},table_row:{content:'(table_cell | table_header)*',tableRole:'row',parseDOM:[{tag:'tr'}],toDOM:function(){return['tr',0]}},table_cell:{content:e.cellContent,attrs:o,tableRole:'cell',isolating:!0,parseDOM:[{tag:'td',getAttrs:function(e){return i(e,t)}}],toDOM:function(e){return['td',p(e,t),0]}},table_header:{content:e.cellContent,attrs:o,tableRole:'header_cell',isolating:!0,parseDOM:[{tag:'th',getAttrs:function(e){return i(e,t)}}],toDOM:function(e){return['th',p(e,t),0]}}}},t.toggleHeader=se,t.updateColumnsOnResize=le,t.toggleHeaderRow=t.toggleHeaderColumn=t.toggleHeaderCell=t.tableEditingKey=t.fixTablesKey=t.columnResizingPluginKey=t.TableView=t.TableMap=t.CellSelection=void 0;var Se=o('5313'),we=o('304a'),Ce=o('7f06'),_e=o('576a'),Me=o('0ac0'),Oe,Ne;if('undefined'!=typeof WeakMap){var Pe=new WeakMap;Oe=function(e){return Pe.get(e)},Ne=function(e,t){return Pe.set(e,t),t}}else{var Te=[],Ae=0;Oe=function(e){for(var t=0;t<Te.length;t+=2)if(Te[t]==e)return Te[t+1]},Ne=function(e,t){return Ae==10&&(Ae=0),Te[Ae++]=e,Te[Ae++]=t}}var De=function(e,t,o,n){this.left=e,this.top=t,this.right=o,this.bottom=n},Ie=function(e,t,o,n){this.width=e,this.height=t,this.map=o,this.problems=n};t.TableMap=Ie,Ie.prototype.findCell=function(e){for(var t=0,o;t<this.map.length;t++)if(o=this.map[t],o==e){for(var n=t%this.width,a=0|t/this.width,r=n+1,i=a+1,s=1;r<this.width&&this.map[t+s]==o;s++)r++;for(var d=1;i<this.height&&this.map[t+this.width*d]==o;d++)i++;return new De(n,a,r,i)}throw new RangeError('No cell with offset '+e+' found')},Ie.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError('No cell with offset '+e+' found')},Ie.prototype.nextCell=function(e,t,o){var n=this.findCell(e),a=n.left,r=n.right,i=n.top,s=n.bottom;return'horiz'==t?(0>o?0==a:r==this.width)?null:this.map[i*this.width+(0>o?a-1:r)]:(0>o?0==i:s==this.height)?null:this.map[a+this.width*(0>o?i-1:s)]},Ie.prototype.rectBetween=function(e,t){var o=this.findCell(e),n=o.left,a=o.right,i=o.top,d=o.bottom,l=this.findCell(t),p=l.left,c=l.right,u=l.top,f=l.bottom;return new De(r(n,p),r(i,u),s(a,c),s(d,f))},Ie.prototype.cellsInRect=function(e){for(var t=[],o={},n=e.top;n<e.bottom;n++)for(var a=e.left;a<e.right;a++){var r=n*this.width+a,i=this.map[r];o[i]||(o[i]=!0,a==e.left&&a&&this.map[r-1]==i||n==e.top&&n&&this.map[r-this.width]==i||t.push(i))}return t},Ie.prototype.positionAt=function(e,t,o){for(var n=0,a=0,r;;n++){if(r=a+o.child(n).nodeSize,n==e){for(var i=t+e*this.width,s=(e+1)*this.width;i<s&&this.map[i]<a;)i++;return i==s?r-1:this.map[i]}a=r}},Ie.get=function(e){return Oe(e)||Ne(e,n(e))};var Ee=new Se.PluginKey('selectingCells');t.tableEditingKey=Ee;var $e=function(e){function t(t,o){void 0===o&&(o=t);var n=t.node(-1),a=Ie.get(n),r=t.start(-1),i=a.rectBetween(t.pos-r,o.pos-r),s=t.node(0),d=a.cellsInRect(i).filter(function(e){return e!=o.pos-r});d.unshift(o.pos-r);var l=d.map(function(e){var t=n.nodeAt(e),o=e+r+1;return new Se.SelectionRange(s.resolve(o),s.resolve(o+t.content.size))});e.call(this,l[0].$from,l[0].$to,l),this.$anchorCell=t,this.$headCell=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,o){var n=e.resolve(o.map(this.$anchorCell.pos)),a=e.resolve(o.map(this.$headCell.pos));if(y(n)&&y(a)&&v(n,a)){var r=this.$anchorCell.node(-1)!=n.node(-1);return r&&this.isRowSelection()?t.rowSelection(n,a):r&&this.isColSelection()?t.colSelection(n,a):new t(n,a)}return Se.TextSelection.between(n,a)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=Ie.get(e),o=this.$anchorCell.start(-1),n=t.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o),a={},i=[],d=n.top,l;d<n.bottom;d++){l=[];for(var p=d*t.width+n.left,c=n.left,u;c<n.right;c++,p++)if(u=t.map[p],!a[u]){a[u]=!0;var f=t.findCell(u),m=e.nodeAt(u),h=n.left-f.left,g=f.right-n.right;if(0<h||0<g){var y=m.attrs;0<h&&(y=S(y,0,h)),0<g&&(y=S(y,y.colspan-g,g)),m=f.left<n.left?m.type.createAndFill(y):m.type.create(y,m.content)}if(f.top<n.top||f.bottom>n.bottom){var b=x(m.attrs,'rowspan',r(f.bottom,n.bottom)-s(f.top,n.top));m=f.top<n.top?m.type.createAndFill(b):m.type.create(b,m.content)}l.push(m)}i.push(e.child(d).copy(we.Fragment.from(l)))}var v=this.isColSelection()&&this.isRowSelection()?e:i;return new we.Slice(we.Fragment.from(v),1,1)},t.prototype.replace=function(t,o){void 0===o&&(o=we.Slice.empty);for(var n=t.steps.length,a=this.ranges,r=0;r<a.length;r++){var i=a[r],s=i.$from,d=i.$to,l=t.mapping.slice(n);t.replace(l.map(s.pos),l.map(d.pos),r?we.Slice.empty:o)}var p=e.findFrom(t.doc.resolve(t.mapping.slice(n).map(this.to)),-1);p&&t.setSelection(p)},t.prototype.replaceWith=function(e,t){this.replace(e,new we.Slice(we.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),o=Ie.get(t),n=this.$anchorCell.start(-1),a=o.cellsInRect(o.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n)),r=0;r<a.length;r++)e(t.nodeAt(a[r]),n+a[r])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(0<r(e,t))return!1;var o=e+this.$anchorCell.nodeAfter.attrs.rowspan,n=t+this.$headCell.nodeAfter.attrs.rowspan;return s(o,n)==this.$headCell.node(-1).childCount},t.colSelection=function(e,o){void 0===o&&(o=e);var n=Ie.get(e.node(-1)),a=e.start(-1),r=n.findCell(e.pos-a),i=n.findCell(o.pos-a),s=e.node(0);return r.top<=i.top?(0<r.top&&(e=s.resolve(a+n.map[r.left])),i.bottom<n.height&&(o=s.resolve(a+n.map[n.width*(n.height-1)+i.right-1]))):(0<i.top&&(o=s.resolve(a+n.map[i.left])),r.bottom<n.height&&(e=s.resolve(a+n.map[n.width*(n.height-1)+r.right-1]))),new t(e,o)},t.prototype.isRowSelection=function(){var e=Ie.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-t),n=e.colCount(this.$headCell.pos-t);if(0<r(o,n))return!1;var a=o+this.$anchorCell.nodeAfter.attrs.colspan,i=n+this.$headCell.nodeAfter.attrs.colspan;return s(a,i)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,o){void 0===o&&(o=e);var n=Ie.get(e.node(-1)),a=e.start(-1),r=n.findCell(e.pos-a),i=n.findCell(o.pos-a),s=e.node(0);return r.left<=i.left?(0<r.left&&(e=s.resolve(a+n.map[r.top*n.width])),i.right<n.width&&(o=s.resolve(a+n.map[n.width*(i.top+1)-1]))):(0<i.left&&(o=s.resolve(a+n.map[i.top*n.width])),r.right<n.width&&(e=s.resolve(a+n.map[n.width*(r.top+1)-1]))),new t(e,o)},t.prototype.toJSON=function(){return{type:'cell',anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,o){return new t(e.resolve(o.anchor),e.resolve(o.head))},t.create=function(e,o,n){return void 0===n&&(n=o),new t(e.resolve(o),e.resolve(n))},t.prototype.getBookmark=function(){return new Re(this.$anchorCell.pos,this.$headCell.pos)},t}(Se.Selection);t.CellSelection=$e,$e.prototype.visible=!1,Se.Selection.jsonID('cell',$e);var Re=function(e,t){this.anchor=e,this.head=t};Re.prototype.map=function(e){return new Re(e.map(this.anchor),e.map(this.head))},Re.prototype.resolve=function(e){var t=e.resolve(this.anchor),o=e.resolve(this.head);return'row'==t.parent.type.spec.tableRole&&'row'==o.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&o.index()<o.parent.childCount&&v(t,o)?new $e(t,o):Se.Selection.near(o,1)};var Be=(0,Ce.keydownHandler)({ArrowLeft:z('horiz',-1),ArrowRight:z('horiz',1),ArrowUp:z('vert',-1),ArrowDown:z('vert',1),"Shift-ArrowLeft":F('horiz',-1),"Shift-ArrowRight":F('horiz',1),"Shift-ArrowUp":F('vert',-1),"Shift-ArrowDown":F('vert',1),Backspace:L,"Mod-Backspace":L,Delete:L,"Mod-Delete":L}),ze=new Se.PluginKey('fix-tables');t.fixTablesKey=ze;var Fe=se('row',{useDeprecatedLogic:!0});t.toggleHeaderRow=Fe;var Le=se('column',{useDeprecatedLogic:!0});t.toggleHeaderColumn=Le;var Ve=se('cell',{useDeprecatedLogic:!0});t.toggleHeaderCell=Ve;var He=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement('div'),this.dom.className='tableWrapper',this.table=this.dom.appendChild(document.createElement('table')),this.colgroup=this.table.appendChild(document.createElement('colgroup')),le(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement('tbody'))};t.TableView=He,He.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,le(e,this.colgroup,this.table,this.cellMinWidth),!0)},He.prototype.ignoreMutation=function(e){return'attributes'==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var je=new Se.PluginKey('tableColumnResizing');t.columnResizingPluginKey=je;var We=function(e,t){this.activeHandle=e,this.dragging=t};We.prototype.apply=function(e){var t=this,o=e.getMeta(je);if(o&&null!=o.setHandle)return new We(o.setHandle,null);if(o&&void 0!==o.setDragging)return new We(t.activeHandle,o.setDragging);if(-1<t.activeHandle&&e.docChanged){var n=e.mapping.map(t.activeHandle,-1);y(e.doc.resolve(n))||(n=null),t=new We(n,t.dragging)}return t}},5690:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{directives:[{name:'show',rawName:'v-show',value:e.isActive,expression:'isActive'}],staticClass:'InputBase_reset',on:{click:function(){return e.$emit('click')}}},[o('i',{staticClass:'fal fa-redo fa-sm'})])},a=[]},"576a":function(e,o,a){'use strict';function i(e,t,o,n,a){for(;;){if(e==o&&t==n)return!0;if(t==(0>a?0:d(e))){var r=e.parentNode;if(1!=r.nodeType||p(e)||Yt.test(e.nodeName)||'false'==e.contentEditable)return!1;t=Jt(e)+(0>a?0:1),e=r}else if(1==e.nodeType){if(e=e.childNodes[t+(0>a?-1:0)],'false'==e.contentEditable)return!1;t=0>a?d(e):0}else return!1}}function d(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function l(e,t,o){for(var n=0==t,a=t==d(e);n||a;){if(e==o)return!0;var r=Jt(e);if(e=e.parentNode,!e)return!1;n=n&&0==r,a=a&&r==d(e)}}function p(e){for(var t=e,o;t&&!(o=t.pmViewDesc);t=t.parentNode);return o&&o.node&&o.node.isBlock&&(o.dom==e||o.contentDOM==e)}function c(e,t){var o=document.createEvent('Event');return o.initEvent('keydown',!0,!0),o.keyCode=e,o.key=o.code=t,o}function u(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function f(e,t){return'number'==typeof e?e:e[t]}function m(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function h(e,t,o){for(var n=e.someProp('scrollThreshold')||0,a=e.someProp('scrollMargin')||5,r=e.dom.ownerDocument,i=o||e.dom;;i=Ut(i)){if(!i)break;if(1==i.nodeType){var s=i==r.body||1!=i.nodeType,d=s?u(r):m(i),l=0,p=0;if(t.top<d.top+f(n,'top')?p=-(d.top-t.top+f(a,'top')):t.bottom>d.bottom-f(n,'bottom')&&(p=t.bottom-d.bottom+f(a,'bottom')),t.left<d.left+f(n,'left')?l=-(d.left-t.left+f(a,'left')):t.right>d.right-f(n,'right')&&(l=t.right-d.right+f(a,'right')),l||p)if(s)r.defaultView.scrollBy(l,p);else{var c=i.scrollLeft,h=i.scrollTop;p&&(i.scrollTop+=p),l&&(i.scrollLeft+=l);var g=i.scrollLeft-c,y=i.scrollTop-h;t={left:t.left-g,top:t.top-y,right:t.right-g,bottom:t.bottom-y}}if(s)break}}}function g(e){for(var t=e.dom.getBoundingClientRect(),o=s(0,t.top),n=(t.left+t.right)/2,a=o+1,i,d,l;a<r(innerHeight,t.bottom);a+=5)if(l=e.root.elementFromPoint(n,a),l!=e.dom&&e.dom.contains(l)){var p=l.getBoundingClientRect();if(p.top>=o-20){i=l,d=p.top;break}}return{refDOM:i,refTop:d,stack:b(e.dom)}}function b(e){for(var t=[],o=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=o);e=Ut(e));return t}function y(e){var t=e.refDOM,o=e.refTop,n=e.stack,a=t?t.getBoundingClientRect().top:0;v(n,0==a?0:a-o)}function v(e,t){for(var o=0;o<e.length;o++){var n=e[o],a=n.dom,r=n.top,i=n.left;a.scrollTop!=r+t&&(a.scrollTop=r+t),a.scrollLeft!=i&&(a.scrollLeft=i)}}function k(e){if(e.setActive)return e.setActive();if(Zt)return e.focus(Zt);var t=b(e);e.focus(null==Zt?{get preventScroll(){return Zt={preventScroll:!0},!0}}:void 0),Zt||(Zt=!1,v(t,0))}function x(e,t){for(var o=2e8,n=0,a=t.top,d=t.top,l=e.firstChild,p=0,c,u,f;l;l=l.nextSibling,p++){if(f=void 0,1==l.nodeType)f=l.getClientRects();else if(3==l.nodeType)f=Gt(l).getClientRects();else continue;for(var m=0,i;m<f.length;m++){if(i=f[m],i.top<=a&&i.bottom>=d){a=s(i.bottom,a),d=r(i.top,d);var h=i.left>t.left?i.left-t.left:i.right<t.left?t.left-i.right:0;if(h<o){c=l,o=h,u=h&&3==c.nodeType?{left:i.right<t.left?i.right:i.left,top:t.top}:t,1==l.nodeType&&h&&(n=p+(t.left>=(i.left+i.right)/2?1:0));continue}}!c&&(t.left>=i.right&&t.top>=i.top||t.left>=i.left&&t.top>=i.bottom)&&(n=p+1)}}return c&&3==c.nodeType?S(c,u):!c||o&&1==c.nodeType?{node:e,offset:n}:x(c,u)}function S(e,t){for(var o=e.nodeValue.length,n=document.createRange(),a=0;a<o;a++){n.setEnd(e,a+1),n.setStart(e,a);var r=P(n,1);if(r.top!=r.bottom&&w(t,r))return{node:e,offset:a+(t.left>=(r.left+r.right)/2?1:0)}}return{node:e,offset:0}}function w(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function C(e,t){var o=e.parentNode;return o&&/^li$/i.test(o.nodeName)&&t.left<e.getBoundingClientRect().left?o:e}function _(e,t,o){var n=x(t,o),a=n.node,r=n.offset,i=-1;if(1==a.nodeType&&!a.firstChild){var s=a.getBoundingClientRect();i=s.left!=s.right&&o.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(a,r,i)}function M(e,t,o,n){for(var a=-1,r=t;;){if(r==e.dom)break;var i=e.docView.nearestDesc(r,!0);if(!i)return null;if(i.node.isBlock&&i.parent){var s=i.dom.getBoundingClientRect();if(s.left>n.left||s.top>n.top)a=i.posBefore;else if(s.right<n.left||s.bottom<n.top)a=i.posAfter;else break}r=i.dom.parentNode}return-1<a?a:e.docView.posFromDOM(t,o)}function O(e,t,o){var a=e.childNodes.length;if(a&&o.top<o.bottom)for(var d=s(0,r(a-1,n(a*(t.top-o.top)/(o.bottom-o.top))-2)),l=d,i;;){if(i=e.childNodes[l],1==i.nodeType)for(var p=i.getClientRects(),c=0,u;c<p.length;c++)if(u=p[c],w(t,u))return O(i,t,u);if((l=(l+1)%a)==d)break}return e}function N(e,t){var o=e.root,n,a,i,s;if(o.caretPositionFromPoint)try{var d=o.caretPositionFromPoint(t.left,t.top);d&&(n=d,i=n.offsetNode,s=n.offset)}catch(e){}if(!i&&o.caretRangeFromPoint){var l=o.caretRangeFromPoint(t.left,t.top);l&&(a=l,i=a.startContainer,s=a.startOffset)}var p=o.elementFromPoint(t.left,t.top+1),c;if(!p||!e.dom.contains(1==p.nodeType?p:p.parentNode)){var u=e.dom.getBoundingClientRect();if(!w(t,u))return null;if(p=O(e.dom,t,u),!p)return null}if(Vt.safari&&p.draggable&&(i=s=null),p=C(p,t),i){if(Vt.gecko&&1==i.nodeType&&(s=r(s,i.childNodes.length),s<i.childNodes.length)){var f=i.childNodes[s],m;'IMG'==f.nodeName&&(m=f.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&s++}i==e.dom&&s==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?c=e.state.doc.content.size:(0==s||1!=i.nodeType||'BR'!=i.childNodes[s-1].nodeName)&&(c=M(e,i,s,t))}null==c&&(c=_(e,p,t));var h=e.docView.nearestDesc(p,!0);return{pos:c,inside:h?h.posAtStart-h.border:-1}}function P(e,t){var o=e.getClientRects();return o.length?o[0>t?0:o.length-1]:e.getBoundingClientRect()}function T(e,t){var o=e.docView.domFromPos(t),n=o.node,a=o.offset;if(3==n.nodeType&&(Vt.webkit||Vt.gecko)){var r=P(Gt(n,a,a),0);if(Vt.gecko&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){var i=P(Gt(n,a-1,a-1),-1);if(i.top==r.top){var s=P(Gt(n,a,a+1),-1);if(s.top!=r.top)return A(s,s.left<i.left)}}return r}if(1==n.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l=!0,p;if(a<n.childNodes.length){var c=n.childNodes[a];1==c.nodeType&&(p=c.getBoundingClientRect())}if(!p&&a){var u=n.childNodes[a-1];1==u.nodeType&&(p=u.getBoundingClientRect(),l=!1)}return D(p||n.getBoundingClientRect(),l)}for(var f=-1;2>f;f+=2)if(0>f&&a){var m=void 0,h=3==n.nodeType?Gt(n,a-1,a):3==(m=n.childNodes[a-1]).nodeType?Gt(m):1==m.nodeType&&'BR'!=m.nodeName?m:null;if(h){var g=P(h,1);if(g.top<g.bottom)return A(g,!1)}}else if(0<f&&a<d(n)){var y=void 0,b=3==n.nodeType?Gt(n,a,a+1):3==(y=n.childNodes[a]).nodeType?Gt(y):1==y.nodeType?y:null;if(b){var v=P(b,-1);if(v.top<v.bottom)return A(v,!0)}}return A(P(3==n.nodeType?Gt(n):n,0),!1)}function A(e,t){if(0==e.width)return e;var o=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:o,right:o}}function D(e,t){if(0==e.height)return e;var o=t?e.top:e.bottom;return{top:o,bottom:o,left:e.left,right:e.right}}function I(e,t,o){var n=e.state,a=e.root.activeElement;n!=t&&e.updateState(t),a!=e.dom&&e.focus();try{return o()}finally{n!=t&&e.updateState(n),a!=e.dom&&a&&a.focus()}}function E(e,t,o){var n=t.selection,a='up'==o?n.$anchor.min(n.$head):n.$anchor.max(n.$head);return I(e,t,function(){for(var t=e.docView.domFromPos(a.pos),n=t.node,r;;){if(r=e.docView.nearestDesc(n,!0),!r)break;if(r.node.isBlock){n=r.dom;break}n=r.dom.parentNode}for(var s=T(e,a.pos),d=n.firstChild,l;d;d=d.nextSibling){if(l=void 0,1==d.nodeType)l=d.getClientRects();else if(3==d.nodeType)l=Gt(d,0,d.nodeValue.length).getClientRects();else continue;for(var p=0,i;p<l.length;p++)if(i=l[p],i.bottom>i.top&&('up'==o?i.bottom<s.top+1:i.top>s.bottom-1))return!1}return!0})}function $(e,t,o){var n=t.selection,a=n.$head;if(!a.parent.isTextblock)return!1;var r=a.parentOffset,i=r==a.parent.content.size,s=getSelection();return eo.test(a.parent.textContent)&&s.modify?I(e,t,function(){var t=s.getRangeAt(0),n=s.focusNode,r=s.focusOffset,i=s.caretBidiLevel;s.modify('move',o,'character');var d=a.depth?e.docView.domAfterPos(a.before()):e.dom,l=!d.contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||n==s.focusNode&&r==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=i&&(s.caretBidiLevel=i),l}):'left'==o||'backward'==o?!r:i}function R(e,t,o){return to==t&&oo==o?no:(to=t,oo=o,no='up'==o||'down'==o?E(e,t,o):$(e,t,o))}function B(e,t,o,n,a){return j(n,t,e),new ho(null,e,t,o,n,n,n,a,0)}function z(e,t,o){for(var n=e.firstChild,a=!1,r=0;r<t.length;r++){var i=t[r],s=i.dom;if(s.parentNode==e){for(;s!=n;)n=q(n),a=!0;n=n.nextSibling}else a=!0,e.insertBefore(s,n);if(i instanceof mo){var d=n?n.previousSibling:e.lastChild;z(i.contentDOM,i.children,o),n=d?d.nextSibling:e.firstChild}}for(;n;)n=q(n),a=!0;a&&o.trackWrites==e&&(o.trackWrites=null)}function F(e){e&&(this.nodeName=e)}function L(e,t,o){if(0==e.length)return vo;for(var n=o?vo[0]:new F,a=[n],r=0;r<e.length;r++){var i=e[r].type.attrs,s=n;if(i)for(var d in i.nodeName&&a.push(s=new F(i.nodeName)),i){var l=i[d];null!=l&&(o&&1==a.length&&a.push(s=n=new F(t.isInline?'span':'div')),'class'==d?s.class=(s.class?s.class+' ':'')+l:'style'==d?s.style=(s.style?s.style+';':'')+l:'nodeName'!=d&&(s[d]=l))}}return a}function V(e,t,o,n){if(o==vo&&n==vo)return t;for(var a=t,r=0;r<n.length;r++){var i=n[r],s=o[r];if(r){var d=void 0;s&&s.nodeName==i.nodeName&&a!=e&&(d=a.parentNode)&&d.tagName.toLowerCase()==i.nodeName?a=d:(d=document.createElement(i.nodeName),d.pmIsDeco=!0,d.appendChild(a),s=vo[0],a=d)}H(a,s||vo[0],i)}return a}function H(e,t,o){for(var n in t)'class'==n||'style'==n||'nodeName'==n||n in o||e.removeAttribute(n);for(var a in o)'class'!=a&&'style'!=a&&'nodeName'!=a&&o[a]!=t[a]&&e.setAttribute(a,o[a]);if(t.class!=o.class){for(var r=t.class?t.class.split(' '):co,s=o.class?o.class.split(' '):co,d=0;d<r.length;d++)-1==s.indexOf(r[d])&&e.classList.remove(r[d]);for(var i=0;i<s.length;i++)-1==r.indexOf(s[i])&&e.classList.add(s[i])}if(t.style!=o.style){if(t.style)for(var l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,p;p=l.exec(t.style);)e.style.removeProperty(p[1]);o.style&&(e.style.cssText+=o.style)}}function j(e,t,o){return V(e,e,vo,L(t,o,1!=e.nodeType))}function W(e,t){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!e[o].type.eq(t[o].type))return!1;return!0}function q(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}function K(e,t){for(var o=[],n=e.childCount,a=t.length-1;0<n&&0<=a;a--){var r=t[a],i=r.node;if(i){if(i!=e.child(n-1))break;o.push(r),--n}}return{nodes:o.reverse(),offset:n}}function J(e,t){return e.type.side-t.type.side}function U(e,t,o,n){var a=t.locals(e),r=0;if(0==a.length){for(var s=0,i;s<e.childCount;s++)i=e.child(s),n(i,a,t.forChild(r,i),s),r+=i.nodeSize;return}for(var d=0,l=[],p=null,c=0;;){if(d<a.length&&a[d].to==r){for(var u=a[d++],f=void 0;d<a.length&&a[d].to==r;)(f||(f=[u])).push(a[d++]);if(f){f.sort(J);for(var m=0;m<f.length;m++)o(f[m],c,!!p)}else o(u,c,!!p)}var h=void 0,g=void 0;if(p)g=-1,h=p,p=null;else if(c<e.childCount)g=c,h=e.child(c++);else break;for(var y=0;y<l.length;y++)l[y].to<=r&&l.splice(y--,1);for(;d<a.length&&a[d].from<=r&&a[d].to>r;)l.push(a[d++]);var b=r+h.nodeSize;if(h.isText){var v=b;d<a.length&&a[d].from<v&&(v=a[d].from);for(var k=0;k<l.length;k++)l[k].to<v&&(v=l[k].to);v<b&&(p=h.cut(v-r),h=h.cut(0,v-r),b=v,g=-1)}var x=l.length?h.isInline&&!h.isLeaf?l.filter(function(e){return!e.inline}):l.slice():co;n(h,x,t.forChild(r,h),g),r=b}}function G(e){if('UL'==e.nodeName||'OL'==e.nodeName){var t=e.style.cssText;e.style.cssText=t+'; list-style: square !important',window.getComputedStyle(e).listStyle,e.style.cssText=t}}function X(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&0<t){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=d(e)}else if(1==e.nodeType&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function Y(e,t,o,n){for(var a=0,r=0;a<e.childCount&&r<=n;){var i=e.child(a++),s=r;if(r+=i.nodeSize,!!i.isText){for(var d=i.text,l;a<e.childCount&&(l=e.child(a++),r+=l.nodeSize,!!l.isText);)d+=l.text;if(r>=o){var p=d.lastIndexOf(t,n-s);if(0<=p&&p+t.length+s>=o)return s+p}}}return-1}function Q(e,t,o,n,a){for(var r=[],s=0,i=0;s<e.length;s++){var d=e[s],l=i,p=i+=d.size;l>=o||p<=t?r.push(d):(l<t&&r.push(d.slice(0,t-l,n)),a&&(r.push(a),a=null),p>o&&r.push(d.slice(o-l,d.size,n)))}return r}function Z(e,t){var o=e.root.getSelection(),n=e.state.doc;if(!o.focusNode)return null;var a=e.docView.nearestDesc(o.focusNode),r=a&&0==a.size,i=e.docView.posFromDOM(o.focusNode,o.focusOffset);if(0>i)return null;var s=n.resolve(i),d,p;if(Qt(o)){for(d=s;a&&!a.node;)a=a.parent;if(a&&a.node.isAtom&&zt.NodeSelection.isSelectable(a.node)&&a.parent&&!(a.node.isInline&&l(o.focusNode,o.focusOffset,a.dom))){var c=a.posBefore;p=new zt.NodeSelection(i==c?s:n.resolve(c))}}else{var u=e.docView.posFromDOM(o.anchorNode,o.anchorOffset);if(0>u)return null;d=n.resolve(u)}if(!p){var f='pointer'==t||e.state.selection.head<s.pos&&!r?1:-1;p=le(e,d,s,f)}return p}function ee(e,t){var o=e.state.selection;if(se(e,o),e.editable?!!e.hasFocus():!!(ce(e)&&document.activeElement&&document.activeElement.contains(e.dom))){if(e.domObserver.disconnectSelection(),e.cursorWrapper)re(e);else{var n=o.anchor,a=o.head,r,i;xo&&!(o instanceof zt.TextSelection)&&(!o.$from.parent.inlineContent&&(r=te(e,o.from)),!o.empty&&!o.$from.parent.inlineContent&&(i=te(e,o.to))),e.docView.setSelection(n,a,e.root,t),xo&&(r&&ne(r),i&&ne(i)),o.visible?e.dom.classList.remove('ProseMirror-hideselection'):(e.dom.classList.add('ProseMirror-hideselection'),'onselectionchange'in document&&ae(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}function te(e,t){var o=e.docView.domFromPos(t),n=o.node,a=o.offset,r=a<n.childNodes.length?n.childNodes[a]:null,i=a?n.childNodes[a-1]:null;if(Vt.safari&&r&&'false'==r.contentEditable)return oe(r);if((!r||'false'==r.contentEditable)&&(!i||'false'==i.contentEditable)){if(r)return oe(r);if(i)return oe(i)}}function oe(e){return e.contentEditable='true',Vt.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function ne(e){e.contentEditable='false',e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ae(e){var t=e.dom.ownerDocument;t.removeEventListener('selectionchange',e.hideSelectionGuard);var o=e.root.getSelection(),n=o.anchorNode,a=o.anchorOffset;t.addEventListener('selectionchange',e.hideSelectionGuard=function(){(o.anchorNode!=n||o.anchorOffset!=a)&&(t.removeEventListener('selectionchange',e.hideSelectionGuard),e.dom.classList.remove('ProseMirror-hideselection'))})}function re(e){var t=e.root.getSelection(),o=document.createRange(),n=e.cursorWrapper.dom,a='IMG'==n.nodeName;a?o.setEnd(n.parentNode,Jt(n)+1):o.setEnd(n,0),o.collapse(!1),t.removeAllRanges(),t.addRange(o),!a&&!e.state.selection.visible&&Vt.ie&&11>=Vt.ie_version&&(n.disabled=!0,n.disabled=!1)}function se(e,t){if(t instanceof zt.NodeSelection){var o=e.docView.descAt(t.from);o!=e.lastSelectedViewDesc&&(de(e),o&&o.selectNode(),e.lastSelectedViewDesc=o)}else de(e)}function de(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function le(e,t,o,n){return e.someProp('createSelectionBetween',function(n){return n(e,t,o)})||zt.TextSelection.between(t,o,n)}function pe(e){return!(e.editable&&e.root.activeElement!=e.dom)&&ce(e)}function ce(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function ue(e){var t=e.docView.domFromPos(e.state.selection.anchor),o=e.root.getSelection();return Xt(t.node,t.offset,o.anchorNode,o.anchorOffset)}function fe(e,t){var o=e.selection,n=o.$anchor,a=o.$head,r=0<t?n.max(a):n.min(a),i=r.parent.inlineContent?r.depth?e.doc.resolve(0<t?r.after():r.before()):null:r;return i&&zt.Selection.findFrom(i,t)}function me(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function he(e,t,o){var n=e.state.selection;if(n instanceof zt.TextSelection){if(!n.empty||-1<o.indexOf('s'))return!1;if(e.endOfTextblock(0<t?'right':'left')){var a=fe(e.state,t);return!!(a&&a instanceof zt.NodeSelection)&&me(e,a)}if(!(Vt.mac&&-1<o.indexOf('m'))){var r=n.$head,i=r.textOffset?null:0>t?r.nodeBefore:r.nodeAfter,s;if(!i||i.isText)return!1;var d=0>t?r.pos-i.nodeSize:r.pos;return!!(i.isAtom||(s=e.docView.descAt(d))&&!s.contentDOM)&&(zt.NodeSelection.isSelectable(i)?me(e,new zt.NodeSelection(0>t?e.state.doc.resolve(r.pos-i.nodeSize):r)):!!Vt.webkit&&me(e,new zt.TextSelection(e.state.doc.resolve(0>t?d:d+i.nodeSize))))}}else{if(n instanceof zt.NodeSelection&&n.node.isInline)return me(e,new zt.TextSelection(0<t?n.$to:n.$from));var l=fe(e.state,t);return!!l&&me(e,l)}}function ge(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ye(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||'BR'!=e.nodeName)}function be(e){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o){var a=!1,r,i;for(Vt.gecko&&1==o.nodeType&&n<ge(o)&&ye(o.childNodes[n])&&(a=!0);;)if(0<n){if(1!=o.nodeType)break;else{var s=o.childNodes[n-1];if(ye(s))r=o,i=--n;else if(3==s.nodeType)o=s,n=o.nodeValue.length;else break}}else if(ke(o))break;else{for(var d=o.previousSibling;d&&ye(d);)r=o.parentNode,i=Jt(d),d=d.previousSibling;if(!d){if(o=o.parentNode,o==e.dom)break;n=0}else o=d,n=ge(o)}a?xe(e,t,o,n):r&&xe(e,t,r,i)}}function ve(e){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o){for(var a=ge(o),r,i;;)if(n<a){if(1!=o.nodeType)break;var s=o.childNodes[n];if(ye(s))r=o,i=++n;else break}else if(ke(o))break;else{for(var d=o.nextSibling;d&&ye(d);)r=d.parentNode,i=Jt(d)+1,d=d.nextSibling;if(!d){if(o=o.parentNode,o==e.dom)break;n=a=0}else o=d,n=0,a=ge(o)}r&&xe(e,t,r,i)}}function ke(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function xe(e,t,o,n){if(Qt(t)){var a=document.createRange();a.setEnd(o,n),a.setStart(o,n),t.removeAllRanges(),t.addRange(a)}else t.extend&&t.extend(o,n);e.domObserver.setCurSelection();var r=e.state;setTimeout(function(){e.state==r&&ee(e)},50)}function Se(e,t,o){var n=e.state.selection;if(n instanceof zt.TextSelection&&!n.empty||-1<o.indexOf('s'))return!1;if(Vt.mac&&-1<o.indexOf('m'))return!1;var a=n.$from,r=n.$to;if(!a.parent.inlineContent||e.endOfTextblock(0>t?'up':'down')){var i=fe(e.state,t);if(i&&i instanceof zt.NodeSelection)return me(e,i)}if(!a.parent.inlineContent){var s=zt.Selection.findFrom(0>t?a:r,t);return!s||me(e,s)}return!1}function we(e,t){if(!(e.state.selection instanceof zt.TextSelection))return!0;var o=e.state.selection,n=o.$head,a=o.$anchor,r=o.empty;if(!n.sameParent(a))return!0;if(!r)return!1;if(e.endOfTextblock(0<t?'forward':'backward'))return!0;var i=!n.textOffset&&(0>t?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){var s=e.state.tr;return 0>t?s.delete(n.pos-i.nodeSize,n.pos):s.delete(n.pos,n.pos+i.nodeSize),e.dispatch(s),!0}return!1}function Ce(e,t,o){e.domObserver.stop(),t.contentEditable=o,e.domObserver.start()}function _e(e){if(Vt.safari&&!(0<e.state.selection.$head.parentOffset)){var t=e.root.getSelection(),o=t.focusNode,n=t.focusOffset;if(o&&1==o.nodeType&&0==n&&o.firstChild&&'false'==o.firstChild.contentEditable){var a=o.firstChild;Ce(e,a,!0),setTimeout(function(){return Ce(e,a,!1)},20)}}}function Me(e){var t='';return e.ctrlKey&&(t+='c'),e.metaKey&&(t+='m'),e.altKey&&(t+='a'),e.shiftKey&&(t+='s'),t}function Oe(e,t){var o=t.keyCode,n=Me(t);return 8==o||Vt.mac&&72==o&&'c'==n?we(e,-1)||be(e):46==o||Vt.mac&&68==o&&'c'==n?we(e,1)||ve(e):13==o||27==o||(37==o?he(e,-1,n)||be(e):39==o?he(e,1,n)||ve(e):38==o?Se(e,-1,n)||be(e):40==o?_e(e)||Se(e,1,n)||ve(e):n==(Vt.mac?'m':'c')&&(66==o||73==o||89==o||90==o))}function Ne(e,t,o){var n=e.docView.parseRange(t,o),a=n.node,r=n.fromOffset,i=n.toOffset,s=n.from,d=n.to,l=e.root.getSelection(),p=null,c=l.anchorNode;if(c&&e.dom.contains(1==c.nodeType?c:c.parentNode)&&(p=[{node:c,offset:l.anchorOffset}],!Qt(l)&&p.push({node:l.focusNode,offset:l.focusOffset})),Vt.chrome&&8===e.lastKeyCode)for(var u=i;u>r;u--){var f=a.childNodes[u-1],m=f.pmViewDesc;if('BR'==f.nodeType&&!m){i=u;break}if(!m||m.size)break}var h=e.state.doc,g=e.someProp('domParser')||Ft.DOMParser.fromSchema(e.state.schema),y=h.resolve(s),b=null,v=g.parse(a,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:r,to:i,preserveWhitespace:!y.parent.type.spec.code||'full',editableContent:!0,findPositions:p,ruleFromNode:Pe,context:y});if(p&&null!=p[0].pos){var k=p[0].pos,x=p[1]&&p[1].pos;null==x&&(x=k),b={anchor:k+s,head:x+s}}return{doc:v,sel:b,from:s,to:d}}function Pe(e){var t=e.pmViewDesc;if(t)return t.parseRule();if('BR'==e.nodeName&&e.parentNode){if(Vt.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var o=document.createElement('div');return o.appendChild(document.createElement('li')),{skip:o}}if(e.parentNode.lastChild==e||Vt.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if('IMG'==e.nodeName&&e.getAttribute('mark-placeholder'))return{ignore:!0}}function Te(e,t,o,n,a){if(0>t){var r=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,i=Z(e,r);if(i&&!e.state.selection.eq(i)){var s=e.state.tr.setSelection(i);'pointer'==r?s.setMeta('pointer',!0):'key'==r&&s.scrollIntoView(),e.dispatch(s)}return}var d=e.state.doc.resolve(t),l=d.sharedDepth(o);t=d.before(l+1),o=e.state.doc.resolve(o).after(l+1);var p=e.state.selection,u=Ne(e,t,o),f=e.state.doc,m=f.slice(u.from,u.to),h,g;8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,g='end'):(h=e.state.selection.from,g='start'),e.lastKeyCode=null;var y=$e(m.content,u.doc.content,u.from,h,g);if(!y)if(n&&p instanceof zt.TextSelection&&!p.empty&&p.$head.sameParent(p.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))y={start:p.from,endA:p.to,endB:p.to};else{if(u.sel){var b=Ae(e,e.state.doc,u.sel);b&&!b.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(b))}return}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof zt.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),Vt.ie&&11>=Vt.ie_version&&y.endB==y.start+1&&y.endA==y.start&&y.start>u.from&&' \xA0'==u.doc.textBetween(y.start-u.from-1,y.start-u.from+1)&&(y.start--,y.endA--,y.endB--);var v=u.doc.resolveNoCache(y.start-u.from),k=u.doc.resolveNoCache(y.endB-u.from),x=v.sameParent(k)&&v.parent.inlineContent,S;if((Vt.ios&&e.lastIOSEnter>Date.now()-225&&(!x||a.some(function(e){return'DIV'==e.nodeName||'P'==e.nodeName}))||!x&&v.pos<u.doc.content.size&&(S=zt.Selection.findFrom(u.doc.resolve(v.pos+1),1,!0))&&S.head==k.pos)&&e.someProp('handleKeyDown',function(t){return t(e,c(13,'Enter'))}))return void(e.lastIOSEnter=0);if(e.state.selection.anchor>y.start&&Ie(f,y.start,y.endA,v,k)&&e.someProp('handleKeyDown',function(t){return t(e,c(8,'Backspace'))}))return void(Vt.android&&Vt.chrome&&e.domObserver.suppressSelectionUpdates());Vt.android&&!x&&v.start()!=k.start()&&0==k.parentOffset&&v.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==y.endA&&(y.endB-=2,k=u.doc.resolveNoCache(y.endB-u.from),setTimeout(function(){e.someProp('handleKeyDown',function(t){return t(e,c(13,'Enter'))})},20));var w=y.start,C=y.endA,_,M,O,N;if(x)if(v.pos==k.pos)Vt.ie&&11>=Vt.ie_version&&0==v.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(function(){return ee(e)},20)),_=e.state.tr.delete(w,C),M=f.resolve(y.start).marksAcross(f.resolve(y.endA));else if(y.endA==y.endB&&(N=f.resolve(y.start))&&(O=De(v.parent.content.cut(v.parentOffset,k.parentOffset),N.parent.content.cut(N.parentOffset,y.endA-N.start()))))_=e.state.tr,'add'==O.type?_.addMark(w,C,O.mark):_.removeMark(w,C,O.mark);else if(v.parent.child(v.index()).isText&&v.index()==k.index()-(k.textOffset?0:1)){var P=v.parent.textBetween(v.parentOffset,k.parentOffset);if(e.someProp('handleTextInput',function(t){return t(e,w,C,P)}))return;_=e.state.tr.insertText(P,w,C)}if(_||(_=e.state.tr.replace(w,C,u.doc.slice(y.start-u.from,y.endB-u.from))),u.sel){var T=Ae(e,_.doc,u.sel);T&&!(Vt.chrome&&Vt.android&&e.composing&&T.empty&&(T.head==w||T.head==_.mapping.map(C)-1)||Vt.ie&&T.empty&&T.head==w)&&_.setSelection(T)}M&&_.ensureMarks(M),e.dispatch(_.scrollIntoView())}function Ae(e,t,o){return s(o.anchor,o.head)>t.content.size?null:le(e,t.resolve(o.anchor),t.resolve(o.head))}function De(e,t){for(var o=e.firstChild.marks,n=t.firstChild.marks,a=o,r=n,s=0,i,d,l;s<n.length;s++)a=n[s].removeFromSet(a);for(var p=0;p<o.length;p++)r=o[p].removeFromSet(r);if(1==a.length&&0==r.length)d=a[0],i='add',l=function(e){return e.mark(d.addToSet(e.marks))};else if(0==a.length&&1==r.length)d=r[0],i='remove',l=function(e){return e.mark(d.removeFromSet(e.marks))};else return null;for(var c=[],u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Ft.Fragment.from(c).eq(e))return{mark:d,type:i}}function Ie(e,t,o,n,a){if(!n.parent.isTextblock||o-t<=a.pos-n.pos||Ee(n,!0,!1)<a.pos)return!1;var r=e.resolve(t);if(r.parentOffset<r.parent.content.size||!r.parent.isTextblock)return!1;var i=e.resolve(Ee(r,!0,!0));return!(!i.parent.isTextblock||i.pos>o||Ee(i,!0,!1)<o)&&n.parent.content.cut(n.parentOffset).eq(i.parent.content)}function Ee(e,t,o){for(var n=e.depth,a=t?e.end():e.pos;0<n&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,a++,t=!1;if(o)for(var r=e.node(n).maybeChild(e.indexAfter(n));r&&!r.isLeaf;)r=r.firstChild,a++;return a}function $e(e,t,o,n,a){var i=e.findDiffStart(t,o);if(null==i)return null;var d=e.findDiffEnd(t,o+e.size,o+t.size),l=d.a,p=d.b;if('end'==a){var c=s(0,i-r(l,p));n-=l+c-i}if(l<i&&e.size<t.size){var u=n<=i&&n>=l?i-n:0;i-=u,p=i+(p-l),l=i}else if(p<i){var f=n<=i&&n>=p?i-n:0;i-=f,l=i+(l-p),p=i}return{start:i,endA:l,endB:p}}function Re(e,t){for(var o=[],n=t.content,a=t.openStart,r=t.openEnd;1<a&&1<r&&1==n.childCount&&1==n.firstChild.childCount;){a--,r--;var s=n.firstChild;o.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),n=s.content}var d=e.someProp('clipboardSerializer')||Ft.DOMSerializer.fromSchema(e.state.schema),l=We(),p=l.createElement('div');p.appendChild(d.serializeFragment(n,{document:l}));for(var c=p.firstChild,u;c&&1==c.nodeType&&(u=So[c.nodeName.toLowerCase()]);){for(var f=u.length-1,i;0<=f;f--){for(i=l.createElement(u[f]);p.firstChild;)i.appendChild(p.firstChild);p.appendChild(i)}c=p.firstChild}c&&1==c.nodeType&&c.setAttribute('data-pm-slice',a+' '+r+' '+JSON.stringify(o));var m=e.someProp('clipboardTextSerializer',function(e){return e(t)})||t.content.textBetween(0,t.content.size,'\n\n');return{dom:p,text:m}}function Be(e,t,o,n,a){var r=a.parent.type.spec.code,i,s;if(!o&&!t)return null;var d=t&&(n||r||!o);if(d){if(e.someProp('transformPastedText',function(e){t=e(t,r||n)}),r)return new Ft.Slice(Ft.Fragment.from(e.state.schema.text(t)),0,0);var l=e.someProp('clipboardTextParser',function(e){return e(t,a,n)});l?s=l:(i=document.createElement('div'),t.trim().split(/(?:\r\n?|\n)+/).forEach(function(e){i.appendChild(document.createElement('p')).textContent=e}))}else e.someProp('transformPastedHTML',function(e){o=e(o)}),i=qe(o);var p=i&&i.querySelector('[data-pm-slice]'),c=p&&/^(\d+) (\d+) (.*)/.exec(p.getAttribute('data-pm-slice'));if(!s){var u=e.someProp('clipboardParser')||e.someProp('domParser')||Ft.DOMParser.fromSchema(e.state.schema);s=u.parseSlice(i,{preserveWhitespace:!!(d||c),context:a})}return s=c?Ke(je(s,+c[1],+c[2]),c[3]):Ft.Slice.maxOpen(ze(s.content,a),!1),e.someProp('transformPasted',function(e){s=e(s)}),s}function ze(e,t){if(2>e.childCount)return e;for(var o=function(o){var n=t.node(o),a=n.contentMatchAt(t.index(o)),r=void 0,i=[];if(e.forEach(function(e){if(i){var t=a.findWrapping(e.type),o;if(!t)return i=null;if(o=i.length&&r.length&&Le(t,r,e,i[i.length-1],0))i[i.length-1]=o;else{i.length&&(i[i.length-1]=Ve(i[i.length-1],r.length));var n=Fe(e,t);i.push(n),a=a.matchType(n.type,n.attrs),r=t}}}),i)return{v:Ft.Fragment.from(i)}},n=t.depth,a;0<=n;n--)if(a=o(n),a)return a.v;return e}function Fe(e,t,o){void 0===o&&(o=0);for(var n=t.length-1;n>=o;n--)e=t[n].create(null,Ft.Fragment.from(e));return e}function Le(e,t,o,n,a){if(a<e.length&&a<t.length&&e[a]==t[a]){var r=Le(e,t,o,n.lastChild,a+1);if(r)return n.copy(n.content.replaceChild(n.childCount-1,r));var i=n.contentMatchAt(n.childCount);if(i.matchType(a==e.length-1?o.type:e[a+1]))return n.copy(n.content.append(Ft.Fragment.from(Fe(o,e,a+1))))}}function Ve(e,t){if(0==t)return e;var o=e.content.replaceChild(e.childCount-1,Ve(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(Ft.Fragment.empty,!0);return e.copy(o.append(n))}function He(e,t,o,n,a,r){var i=0>t?e.firstChild:e.lastChild,s=i.content;return a<n-1&&(s=He(s,t,o,n,a+1,r)),a>=o&&(s=0>t?i.contentMatchAt(0).fillBefore(s,1<e.childCount||r<=a).append(s):s.append(i.contentMatchAt(i.childCount).fillBefore(Ft.Fragment.empty,!0))),e.replaceChild(0>t?0:e.childCount-1,i.copy(s))}function je(e,t,o){return t<e.openStart&&(e=new Ft.Slice(He(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),o<e.openEnd&&(e=new Ft.Slice(He(e.content,1,o,e.openEnd,0,0),e.openStart,o)),e}function We(){return wo||(wo=document.implementation.createHTMLDocument('title'))}function qe(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var o=We().createElement('div'),n=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),a=0,r;(r=n&&So[n[1].toLowerCase()])&&(e=r.map(function(e){return'<'+e+'>'}).join('')+e+r.map(function(e){return'</'+e+'>'}).reverse().join(''),a=r.length),o.innerHTML=e;for(var s=0;s<a;s++)o=o.firstChild;return o}function Ke(e,t){if(!e.size)return e;var o=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch(t){return e}for(var a=e.content,r=e.openStart,s=e.openEnd,d=n.length-2,i;0<=d&&(i=o.nodes[n[d]],i&&!i.hasRequiredAttrs());d-=2)a=Ft.Fragment.from(i.create(n[d+1],a)),r++,s++;return new Ft.Slice(a,r,s)}function Je(e){No||(No=!0,'normal'==getComputedStyle(e.dom).whiteSpace&&console.warn('ProseMirror expects the CSS white-space property to be set, preferably to \'pre-wrap\'. It is recommended to load style/prosemirror.css from the prosemirror-view package.'))}function Ue(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:''},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Oo(e,function(t,o,n,a){return Te(e,t,o,n,a)}),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var o=Po[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){Ze(e,t)&&!Qe(e,t)&&(e.editable||!(t.type in To))&&o(e,t)})};for(var o in Po)t(o);Vt.safari&&e.dom.addEventListener('input',function(){return null}),Ye(e)}function Ge(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Xe(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function Ye(e){e.someProp('handleDOMEvents',function(t){for(var o in t)e.eventHandlers[o]||e.dom.addEventListener(o,e.eventHandlers[o]=function(t){return Qe(e,t)})})}function Qe(e,t){return e.someProp('handleDOMEvents',function(o){var n=o[t.type];return!!n&&(n(e,t)||t.defaultPrevented)})}function Ze(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var o=t.target;o!=e.dom;o=o.parentNode)if(!o||11==o.nodeType||o.pmViewDesc&&o.pmViewDesc.stopEvent(t))return!1;return!0}function et(e,t){!Qe(e,t)&&Po[t.type]&&(e.editable||!(t.type in To))&&Po[t.type](e,t)}function tt(e){return{left:e.clientX,top:e.clientY}}function ot(e,t){var o=t.x-e.clientX,n=t.y-e.clientY;return 100>o*o+n*n}function nt(e,t,o,n,a){if(-1==n)return!1;for(var r=e.state.doc.resolve(n),s=function(n){if(e.someProp(t,function(t){return n>r.depth?t(e,o,r.nodeAfter,r.before(n),a,!0):t(e,o,r.node(n),r.before(n),a,!1)}))return{v:!0}},d=r.depth+1,i;0<d;d--)if(i=s(d),i)return i.v;return!1}function at(e,t,o){e.focused||e.focus();var n=e.state.tr.setSelection(t);'pointer'==o&&n.setMeta('pointer',!0),e.dispatch(n)}function rt(e,t){if(-1==t)return!1;var o=e.state.doc.resolve(t),n=o.nodeAfter;return!!(n&&n.isAtom&&zt.NodeSelection.isSelectable(n))&&(at(e,new zt.NodeSelection(o),'pointer'),!0)}function it(e,t){if(-1==t)return!1;var o=e.state.selection,n,a;o instanceof zt.NodeSelection&&(n=o.node);for(var r=e.state.doc.resolve(t),s=r.depth+1,i;0<s;s--)if(i=s>r.depth?r.nodeAfter:r.node(s),zt.NodeSelection.isSelectable(i)){a=n&&0<o.$from.depth&&s>=o.$from.depth&&r.before(o.$from.depth+1)==o.$from.pos?r.before(o.$from.depth):r.before(s);break}return null!=a&&(at(e,zt.NodeSelection.create(e.state.doc,a),'pointer'),!0)}function st(e,t,o,n,a){return nt(e,'handleClickOn',t,o,n)||e.someProp('handleClick',function(o){return o(e,t,n)})||(a?it(e,o):rt(e,o))}function dt(e,t,o,n){return nt(e,'handleDoubleClickOn',t,o,n)||e.someProp('handleDoubleClick',function(o){return o(e,t,n)})}function lt(e,t,o,n){return nt(e,'handleTripleClickOn',t,o,n)||e.someProp('handleTripleClick',function(o){return o(e,t,n)})||pt(e,o)}function pt(e,t){var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(at(e,zt.TextSelection.create(o,0,o.content.size),'pointer'),!0);for(var n=o.resolve(t),a=n.depth+1;0<a;a--){var r=a>n.depth?n.nodeAfter:n.node(a),i=n.before(a);if(r.inlineContent)at(e,zt.TextSelection.create(o,i+1,i+1+r.content.size),'pointer');else if(zt.NodeSelection.isSelectable(r))at(e,zt.NodeSelection.create(o,i),'pointer');else continue;return!0}}function ct(e){return ht(e)}function ut(e,t){return!!e.composing||!!(Vt.safari&&500>Bt(t.timeStamp-e.compositionEndedAt))&&(e.compositionEndedAt=-2e8,!0)}function ft(e,t){clearTimeout(e.composingTimeout),-1<t&&(e.composingTimeout=setTimeout(function(){return ht(e)},t))}function mt(e){for(e.composing=!1;0<e.compositionNodes.length;)e.compositionNodes.pop().markParentsDirty()}function ht(e,t){if(e.domObserver.forceFlush(),mt(e),t||e.docView.dirty){var o=Z(e);return o&&!o.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(o)):e.updateState(e.state),!0}return!1}function gt(e,t){if(e.dom.parentNode){var o=e.dom.parentNode.appendChild(document.createElement('div'));o.appendChild(t),o.style.cssText='position: fixed; left: -10000px; top: 10px';var n=getSelection(),a=document.createRange();a.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(function(){o.parentNode&&o.parentNode.removeChild(o),e.focus()},50)}}function yt(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function bt(t,o){if(t.dom.parentNode){var e=t.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(e?'textarea':'div'));e||(n.contentEditable='true'),n.style.cssText='position: fixed; left: -10000px; top: 10px',n.focus(),setTimeout(function(){t.focus(),n.parentNode&&n.parentNode.removeChild(n),e?vt(t,n.value,null,o):vt(t,n.textContent,n.innerHTML,o)},50)}}function vt(t,o,n,a){var e=Be(t,o,n,t.shiftKey,t.state.selection.$from);if(!t.someProp('handlePaste',function(o){return o(t,a,e||Ft.Slice.empty)})&&e){var r=yt(e),i=r?t.state.tr.replaceSelectionWith(r,t.shiftKey):t.state.tr.replaceSelection(e);t.dispatch(i.scrollIntoView().setMeta('paste',!0).setMeta('uiEvent','paste'))}}function kt(e,t){if(e==t)return!0;for(var o in e)if(e[o]!==t[o])return!1;for(var n in t)if(!(n in e))return!1;return!0}function xt(e,t,o,n,a,r,s){for(var d=e.slice(),l=function(e,t,o,n){for(var s=0;s<d.length;s+=3){var i=d[s+1],l=void 0;-1==i||e>i+r||(t>=d[s]+r?d[s+1]=-1:o>=a&&(l=n-o-(t-e))&&(d[s]+=l,d[s+1]+=l))}},p=0;p<o.maps.length;p++)o.maps[p].forEach(l);for(var i=!1,c=0;c<d.length;c+=3)if(-1==d[c+1]){var u=o.map(e[c]+r),f=u-a;if(0>f||f>=n.content.size){i=!0;continue}var m=o.map(e[c+1]+r,-1),h=m-a,g=n.content.findIndex(f),y=g.index,b=g.offset,v=n.maybeChild(y);if(v&&b==f&&b+v.nodeSize==h){var k=d[c+2].mapInner(o,v,u+1,e[c]+r+1,s);k==Ko?(d[c+1]=-2,i=!0):(d[c]=f,d[c+1]=h,d[c+2]=k)}else i=!0}if(i){var x=wt(d,e,t||[],o,a,r,s),S=Mt(x,n,0,s);t=S.local;for(var w=0;w<d.length;w+=3)0>d[w+1]&&(d.splice(w,3),w-=3);for(var C=0,_=0,M;C<S.children.length;C+=3){for(M=S.children[C];_<d.length&&d[_]<M;)_+=3;d.splice(_,0,S.children[C],S.children[C+1],S.children[C+2])}}return new qo(t&&t.sort(Ot),d)}function St(e,t){if(!t||!e.length)return e;for(var o=[],n=0,a;n<e.length;n++)a=e[n],o.push(new Vo(a.from+t,a.to+t,a.type));return o}function wt(e,t,o,n,a,r,s){function d(e,t){for(var r=0,i;r<e.local.length;r++)i=e.local[r].map(n,a,t),i?o.push(i):s.onRemove&&s.onRemove(e.local[r].spec);for(var l=0;l<e.children.length;l+=3)d(e.children[l+2],e.children[l]+t+1)}for(var l=0;l<e.length;l+=3)-1==e[l+1]&&d(e[l+2],t[l]+r+1);return o}function Ct(e,t,o){if(t.isLeaf)return null;for(var n=o+t.nodeSize,a=null,r=0,i=void 0;r<e.length;r++)(i=e[r])&&i.from>o&&i.to<n&&((a||(a=[])).push(i),e[r]=null);return a}function _t(e){for(var t=[],o=0;o<e.length;o++)null!=e[o]&&t.push(e[o]);return t}function Mt(e,t,o,n){var a=[],r=!1;t.forEach(function(t,i){var s=Ct(e,t,i+o);if(s){r=!0;var d=Mt(s,t,o+i+1,n);d!=Ko&&a.push(i,i+t.nodeSize,d)}});for(var s=St(r?_t(e):e,-o).sort(Ot),d=0;d<s.length;d++)s[d].type.valid(t,s[d])||(n.onRemove&&n.onRemove(s[d].spec),s.splice(d--,1));return s.length||a.length?new qo(s,a):Ko}function Ot(e,t){return e.from-t.from||e.to-t.to}function Nt(e){for(var t=e,o=0,n;o<t.length-1;o++)if(n=t[o],n.from!=n.to)for(var a=o+1,r;a<t.length;a++)if(r=t[a],r.from==n.from){r.to!=n.to&&(t==e&&(t=e.slice()),t[a]=r.copy(r.from,n.to),Pt(t,a+1,r.copy(n.to,r.to)));continue}else{r.from<n.to&&(t==e&&(t=e.slice()),t[o]=n.copy(n.from,r.from),Pt(t,a,n.copy(r.from,n.to)));break}return t}function Pt(e,t,o){for(;t<e.length&&0<Ot(o,e[t]);)t++;e.splice(t,0,o)}function Tt(e){var t=[];return e.someProp('decorations',function(o){var n=o(e.state);n&&n!=Ko&&t.push(n)}),e.cursorWrapper&&t.push(qo.create(e.state.doc,[e.cursorWrapper.deco])),Jo.from(t)}function At(e){var t=Object.create(null);return t.class='ProseMirror',t.contenteditable=e.editable+'',e.someProp('attributes',function(o){if('function'==typeof o&&(o=o(e.state)),o)for(var n in o)'class'==n?t.class+=' '+o[n]:t[n]||'contenteditable'==n||'nodeName'==n||(t[n]=o[n]+'')}),[Vo.node(0,e.state.doc.content.size,t)]}function Dt(e){if(e.markCursor){var t=document.createElement('img');t.setAttribute('mark-placeholder','true'),e.cursorWrapper={dom:t,deco:Vo.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function It(e){return!e.someProp('editable',function(t){return!1===t(e.state)})}function Et(e,t){var o=r(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(o)!=t.$anchor.start(o)}function $t(e){var t={};return e.someProp('nodeViews',function(e){for(var o in e)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=e[o])}),t}function Rt(e,t){var o=0,n=0;for(var a in e){if(e[a]!=t[a])return!0;o++}for(var r in t)n++;return o!=n}var Bt=Math.abs;Object.defineProperty(o,'__esModule',{value:!0}),o.__endComposition=ht,o.__parseFromClipboard=Be,o.__serializeForClipboard=Re,o.EditorView=o.DecorationSet=o.Decoration=void 0;var zt=a('5313'),Ft=a('304a'),Lt=a('0ac0'),Vt={};if('undefined'!=typeof navigator&&'undefined'!=typeof document){var Ht=/Edge\/(\d+)/.exec(navigator.userAgent),jt=/MSIE \d/.test(navigator.userAgent),Wt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Vt.mac=/Mac/.test(navigator.platform);var qt=Vt.ie=!!(jt||Wt||Ht);Vt.ie_version=jt?document.documentMode||6:Wt?+Wt[1]:Ht?+Ht[1]:null,Vt.gecko=!qt&&/gecko\/(\d+)/i.test(navigator.userAgent),Vt.gecko_version=Vt.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Kt=!qt&&/Chrome\/(\d+)/.exec(navigator.userAgent);Vt.chrome=!!Kt,Vt.chrome_version=Kt&&+Kt[1],Vt.ios=!qt&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Vt.android=/Android \d/.test(navigator.userAgent),Vt.webkit='webkitFontSmoothing'in document.documentElement.style,Vt.safari=/Apple Computer/.test(navigator.vendor),Vt.webkit_version=Vt.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Jt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ut=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},Gt=function(e,t,o){var n=document.createRange();return n.setEnd(e,null==o?e.nodeValue.length:o),n.setStart(e,t||0),n},Xt=function(e,t,o,n){return o&&(i(e,t,o,n,-1)||i(e,t,o,n,1))},Yt=/^(img|br|input|textarea|hr)$/i,Qt=function(e){var t=e.isCollapsed;return t&&Vt.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t},Zt=null,eo=/[\u0590-\u08ac]/,to=null,oo=null,no=!1,ao=0,ro=1,io=2,so=3,lo=function(e,t,o,n){this.parent=e,this.children=t,this.dom=o,o.pmViewDesc=this,this.contentDOM=n,this.dirty=ao},po={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};lo.prototype.matchesWidget=function(){return!1},lo.prototype.matchesMark=function(){return!1},lo.prototype.matchesNode=function(){return!1},lo.prototype.matchesHack=function(){return!1},po.beforePosition.get=function(){return!1},lo.prototype.parseRule=function(){return null},lo.prototype.stopEvent=function(){return!1},po.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},po.border.get=function(){return 0},lo.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},lo.prototype.posBeforeChild=function(e){for(var t=0,o=this.posAtStart,n;t<this.children.length;t++){if(n=this.children[t],n==e)return o;o+=n.size}},po.posBefore.get=function(){return this.parent.posBeforeChild(this)},po.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},po.posAfter.get=function(){return this.posBefore+this.size},po.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},lo.prototype.localPosFromDOM=function(e,t,o){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(0>o){var n,a;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((a=n.pmViewDesc)&&a.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(a)+a.size:this.posAtStart}var r,i;if(e==this.contentDOM)r=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.nextSibling}for(;r&&!((i=r.pmViewDesc)&&i.parent==this);)r=r.nextSibling;return r?this.posBeforeChild(i):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var d=e;;d=d.parentNode){if(d==this.dom){s=!1;break}if(d.parentNode.firstChild!=d)break}if(null==s&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==s?0<o:s)?this.posAtEnd:this.posAtStart},lo.prototype.nearestDesc=function(e,t){for(var o=!0,n=e,a;n;n=n.parentNode)if(a=this.getDesc(n),a&&(!t||a.node))if(o&&a.nodeDOM&&(1==a.nodeDOM.nodeType?!a.nodeDOM.contains(1==e.nodeType?e:e.parentNode):a.nodeDOM!=e))o=!1;else return a},lo.prototype.getDesc=function(e){for(var t=e.pmViewDesc,o=t;o;o=o.parent)if(o==this)return t},lo.prototype.posFromDOM=function(e,t,o){for(var n=e,a;n;n=n.parentNode)if(a=this.getDesc(n),a)return a.localPosFromDOM(e,t,o);return-1},lo.prototype.descAt=function(e){for(var t=0,o=0;t<this.children.length;t++){var n=this.children[t],a=o+n.size;if(o==e&&a!=o){for(;!n.border&&n.children.length;)n=n.children[0];return n}if(e<a)return n.descAt(e-o-n.border);o=a}},lo.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,o=0;;o++){if(t==e){for(;o<this.children.length&&(this.children[o].beforePosition||this.children[o].dom.parentNode!=this.contentDOM);)o++;return{node:this.contentDOM,offset:o==this.children.length?this.contentDOM.childNodes.length:Jt(this.children[o].dom)}}if(o==this.children.length)throw new Error('Invalid position '+e);var n=this.children[o],a=t+n.size;if(e<a)return n.domFromPos(e-t-n.border);t=a}},lo.prototype.parseRange=function(e,t,o){if(void 0===o&&(o=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var n=-1,a=-1,r=o,s=0;;s++){var i=this.children[s],d=r+i.size;if(-1==n&&e<=d){var l=r+i.border;if(e>=l&&t<=d-i.border&&i.node&&i.contentDOM&&this.contentDOM.contains(i.contentDOM))return i.parseRange(e,t,l);e=r;for(var p=s,c;0<p;p--){if(c=this.children[p-1],c.size&&c.dom.parentNode==this.contentDOM&&!c.emptyChildAt(1)){n=Jt(c.dom)+1;break}e-=c.size}-1==n&&(n=0)}if(-1<n&&(d>t||s==this.children.length-1)){t=d;for(var u=s+1,f;u<this.children.length;u++){if(f=this.children[u],f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){a=Jt(f.dom);break}t+=f.size}-1==a&&(a=this.contentDOM.childNodes.length);break}r=d}return{node:this.contentDOM,from:e,to:t,fromOffset:n,toOffset:a}},lo.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[0>e?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},lo.prototype.domAfterPos=function(e){var t=this.domFromPos(e),o=t.node,n=t.offset;if(1!=o.nodeType||n==o.childNodes.length)throw new RangeError('No node after pos '+e);return o.childNodes[n]},lo.prototype.setSelection=function(e,t,o,n){for(var a=r(e,t),d=s(e,t),l=0,i=0;l<this.children.length;l++){var p=this.children[l],c=i+p.size;if(a>i&&d<c)return p.setSelection(e-i-p.border,t-i-p.border,o,n);i=c}var u=this.domFromPos(e),f=this.domFromPos(t),m=o.getSelection(),h=!1;if((Vt.gecko||Vt.safari)&&e==t){var g=u.node.childNodes[u.offset-1];h=g&&('BR'==g.nodeName||'false'==g.contentEditable)}if(!(!(n||h&&Vt.safari)&&Xt(u.node,u.offset,m.anchorNode,m.anchorOffset)&&Xt(f.node,f.offset,m.focusNode,m.focusOffset))){var y=!1;if((m.extend||e==t)&&!h){m.collapse(u.node,u.offset);try{e!=t&&m.extend(f.node,f.offset),y=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!y){if(e>t){var b=u;u=f,f=b}var v=document.createRange();v.setEnd(f.node,f.offset),v.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(v)}}},lo.prototype.ignoreMutation=function(e){return!this.contentDOM&&'selection'!=e.type},po.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},lo.prototype.markDirty=function(e,t){for(var o=0,n=0;n<this.children.length;n++){var a=this.children[n],r=o+a.size;if(o==r?e<=r&&t>=o:e<r&&t>o){var i=o+a.border,s=r-a.border;if(e>=i&&t<=s)return this.dirty=e==o||t==r?io:ro,void(e==i&&t==s&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=so:a.markDirty(e-i,t-i));a.dirty=so}o=r}this.dirty=io},lo.prototype.markParentsDirty=function(){for(var e=1,t=this.parent,o;t;t=t.parent,e++)o=1==e?io:ro,t.dirty<o&&(t.dirty=o)},Object.defineProperties(lo.prototype,po);var co=[],uo=function(e){function t(t,o,n,a){var r=o.type.toDOM,i;if('function'==typeof r&&(r=r(n,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:a})),!o.type.spec.raw){if(1!=r.nodeType){var s=document.createElement('span');s.appendChild(r),r=s}r.contentEditable=!1,r.classList.add('ProseMirror-widget')}e.call(this,t,co,r,null),this.widget=o,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={beforePosition:{configurable:!0}};return o.beforePosition.get=function(){return 0>this.widget.type.side},t.prototype.matchesWidget=function(e){return this.dirty==ao&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return'selection'!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,o),t}(lo),fo=function(e){function t(t,o,n,a){e.call(this,t,co,o,null),this.textDOM=n,this.text=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={size:{configurable:!0}};return o.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e==this.textDOM?this.posAtStart+t:this.posAtStart+(t?this.size:0)},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return'characterData'===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,o),t}(lo),mo=function(e){function t(t,o,n,a){e.call(this,t,[],n,a),this.mark=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,o,n,a){var r=a.nodeViews[o.type.name],i=r&&r(o,a,n);return i&&i.dom||(i=Ft.DOMSerializer.renderSpec(document,o.type.spec.toDOM(o,n))),new t(e,o,i.dom,i.contentDOM||i.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return this.dirty!=so&&this.mark.eq(e)},t.prototype.markDirty=function(t,o){if(e.prototype.markDirty.call(this,t,o),this.dirty!=ao){for(var n=this.parent;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=ao}},t.prototype.slice=function(e,o,n){var a=t.create(this.parent,this.mark,!0,n),r=this.children,s=this.size;o<s&&(r=Q(r,o,s,n)),0<e&&(r=Q(r,0,e,n));for(var d=0;d<r.length;d++)r[d].parent=a;return a.children=r,a},t}(lo),ho=function(e){function t(t,o,n,a,r,i,s,d,l){e.call(this,t,o.isLeaf?co:[],r,i),this.nodeDOM=s,this.node=o,this.outerDeco=n,this.innerDeco=a,i&&this.updateChildren(d,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var o={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,o,n,a,r,i){var s=r.nodeViews[o.type.name],d=s&&s(o,r,function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:i},n),l=d&&d.dom,p=d&&d.contentDOM,c,u;if(!o.isText)l||(c=Ft.DOMSerializer.renderSpec(document,o.type.spec.toDOM(o)),l=c.dom,p=c.contentDOM);else if(!l)l=document.createTextNode(o.text);else if(3!=l.nodeType)throw new RangeError('Text must be rendered as a DOM text node');p||o.isText||'BR'==l.nodeName||(!l.hasAttribute('contenteditable')&&(l.contentEditable=!1),o.type.spec.draggable&&(l.draggable=!0));var f=l;return l=j(l,n,o),d?u=new bo(e,o,n,a,l,p,f,d,r,i+1):o.isText?new go(e,o,n,a,l,f,r):new t(e,o,n,a,l,p,f,r,i+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace='full'),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Ft.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,o){return this.dirty==ao&&e.eq(this.node)&&W(t,this.outerDeco)&&o.eq(this.innerDeco)},o.size.get=function(){return this.node.nodeSize},o.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var o=this,n=this.node.inlineContent,a=t,r=n&&e.composing&&this.localCompositionNode(e,t),s=new ko(this,r&&r.node);U(this.node,this.innerDeco,function(t,r,i){t.spec.marks?s.syncToMarks(t.spec.marks,n,e):0<=t.type.side&&!i&&s.syncToMarks(r==o.node.childCount?Ft.Mark.none:o.node.child(r).marks,n,e),s.placeWidget(t,e,a)},function(t,o,r,d){s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,o,r,d)||s.updateNextNode(t,o,r,e,d)||s.addNode(t,o,r,e,a),a+=t.nodeSize}),s.syncToMarks(co,n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==io)&&(r&&this.protectLocalComposition(e,r),z(this.contentDOM,this.children,e),Vt.ios&&G(this.dom))},t.prototype.localCompositionNode=function(e,t){var o=e.state.selection,n=o.from,a=o.to;if(!(!(e.state.selection instanceof zt.TextSelection)||n<t||a>t+this.node.content.size)){var r=e.root.getSelection(),i=X(r.focusNode,r.focusOffset);if(i&&this.dom.contains(i.parentNode)){var s=i.nodeValue,d=Y(this.node.content,s,n-t,a-t);return 0>d?null:{node:i,pos:d,text:s}}}},t.prototype.protectLocalComposition=function(e,t){var o=t.node,n=t.pos,a=t.text;if(!this.getDesc(o)){for(var r=o;;r=r.parentNode){if(r.parentNode==this.contentDOM)break;for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=null)}var i=new fo(this,r,o,a);e.compositionNodes.push(i),this.children=Q(this.children,n,n+a.length,e,i)}},t.prototype.update=function(e,t,o,n){return!!(this.dirty!=so&&e.sameMarkup(this.node))&&(this.updateInner(e,t,o,n),!0)},t.prototype.updateInner=function(e,t,o,n){this.updateOuterDeco(t),this.node=e,this.innerDeco=o,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=ao},t.prototype.updateOuterDeco=function(e){if(!W(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,o=this.dom;this.dom=V(this.dom,this.nodeDOM,L(this.outerDeco,this.node,t),L(e,this.node,t)),this.dom!=o&&(o.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add('ProseMirror-selectednode'),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove('ProseMirror-selectednode'),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute('draggable')},Object.defineProperties(t.prototype,o),t}(lo),go=function(e){function t(t,o,n,a,r,i,s){e.call(this,t,o,n,a,r,null,i,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,o,n){return!!(this.dirty!=so&&(this.dirty==ao||this.inParent())&&e.sameMarkup(this.node))&&(this.updateOuterDeco(t),(this.dirty!=ao||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=e,this.dirty=ao,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,o,n){return t==this.nodeDOM?this.posAtStart+r(o,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,o,n)},t.prototype.ignoreMutation=function(e){return'characterData'!=e.type&&'selection'!=e.type},t.prototype.slice=function(e,o,n){var a=this.node.cut(e,o),r=document.createTextNode(a.text);return new t(this.parent,a,this.outerDeco,this.innerDeco,r,r,n)},t}(ho),yo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return this.dirty==ao},t}(lo),bo=function(e){function t(t,o,n,a,r,i,s,d,l,p){e.call(this,t,o,n,a,r,i,s,l,p),this.spec=d}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,o,n,a){if(this.dirty==so)return!1;if(this.spec.update){var r=this.spec.update(t,o);return r&&this.updateInner(t,o,n,a),r}return!!(this.contentDOM||t.isLeaf)&&e.prototype.update.call(this,t,o,n,a)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,o,n,a){this.spec.setSelection?this.spec.setSelection(t,o,n):e.prototype.setSelection.call(this,t,o,n,a)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(ho);F.prototype=Object.create(null);var vo=[new F],ko=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var o=K(e.node.content,e.children);this.preMatched=o.nodes,this.preMatchOffset=o.offset};ko.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},ko.prototype.destroyBetween=function(e,t){if(e!=t){for(var o=e;o<t;o++)this.top.children[o].destroy();this.top.children.splice(e,t-e),this.changed=!0}},ko.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ko.prototype.syncToMarks=function(e,t,o){for(var n=0,a=this.stack.length>>1,s=r(a,e.length);n<s&&(n==a-1?this.top:this.stack[n+1<<1]).matchesMark(e[n])&&!1!==e[n].type.spec.spanning;)n++;for(;n<a;)this.destroyRest(),this.top.dirty=ao,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);for(var d=-1,l=this.index;l<r(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[a])){d=l;break}if(-1<d)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{var i=mo.create(this.top,e[a],t,o);this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0}this.index=0,a++}},ko.prototype.findNodeMatch=function(t,o,n,a){var s=-1,d=0>a?void 0:this.getPreMatch(a),l=this.top.children;if(d&&d.matchesNode(t,o,n))s=l.indexOf(d);else for(var p=this.index,i=r(l.length,p+5),e;p<i;p++)if(e=l[p],e.matchesNode(t,o,n)&&0>this.preMatched.indexOf(e)){s=p;break}return!(0>s)&&(this.destroyBetween(this.index,s),this.index++,!0)},ko.prototype.updateNextNode=function(e,t,o,n,a){for(var r=this.index,i;r<this.top.children.length;r++)if(i=this.top.children[r],i instanceof ho){var s=this.preMatched.indexOf(i);if(-1<s&&s+this.preMatchOffset!=a)return!1;var d=i.dom,l=this.lock&&(d==this.lock||1==d.nodeType&&d.contains(this.lock.parentNode))&&!(e.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==e.text&&i.dirty!=so&&W(t,i.outerDeco));if(!l&&i.update(e,t,o,n))return this.destroyBetween(this.index,r),i.dom!=d&&(this.changed=!0),this.index++,!0;break}return!1},ko.prototype.addNode=function(e,t,o,n,a){this.top.children.splice(this.index++,0,ho.create(this.top,e,t,o,n,a)),this.changed=!0},ko.prototype.placeWidget=function(e,t,o){var n=this.index<this.top.children.length?this.top.children[this.index]:null;if(n&&n.matchesWidget(e)&&(e==n.widget||!n.widget.type.toDOM.parentNode))this.index++;else{var a=new uo(this.top,e,t,o);this.top.children.splice(this.index++,0,a),this.changed=!0}},ko.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof mo;)e=e.children[e.children.length-1];if(!e||!(e instanceof go)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement('br');this.top.children.splice(this.index++,0,new yo(this.top,co,t,null)),this.changed=!0}};var xo=Vt.safari||Vt.chrome&&63>Vt.chrome_version,So={thead:['table'],tbody:['table'],tfoot:['table'],caption:['table'],colgroup:['table'],col:['table','colgroup'],tr:['table','tbody'],td:['table','tbody','tr'],th:['table','tbody','tr']},wo=null,Co={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_o=Vt.ie&&11>=Vt.ie_version,Mo=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Mo.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Mo.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Oo=function(e,t){var o=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(e){for(var t=0;t<e.length;t++)o.queue.push(e[t]);Vt.ie&&11>=Vt.ie_version&&e.some(function(e){return'childList'==e.type&&e.removedNodes.length||'characterData'==e.type&&e.oldValue.length>e.target.nodeValue.length})?o.flushSoon():o.flush()}),this.currentSelection=new Mo,_o&&(this.onCharData=function(t){o.queue.push({target:t.target,type:'characterData',oldValue:t.prevValue}),o.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Oo.prototype.flushSoon=function(){var e=this;0>this.flushingSoon&&(this.flushingSoon=window.setTimeout(function(){e.flushingSoon=-1,e.flush()},20))},Oo.prototype.forceFlush=function(){-1<this.flushingSoon&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Oo.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Co),_o&&this.view.dom.addEventListener('DOMCharacterDataModified',this.onCharData),this.connectSelection()},Oo.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var o=0;o<t.length;o++)this.queue.push(t[o]);window.setTimeout(function(){return e.flush()},20)}this.observer.disconnect()}_o&&this.view.dom.removeEventListener('DOMCharacterDataModified',this.onCharData),this.disconnectSelection()},Oo.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener('selectionchange',this.onSelectionChange)},Oo.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener('selectionchange',this.onSelectionChange)},Oo.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return e.suppressingSelectionUpdates=!1},50)},Oo.prototype.onSelectionChange=function(){if(pe(this.view)){if(this.suppressingSelectionUpdates)return ee(this.view);if(Vt.ie&&11>=Vt.ie_version&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Xt(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Oo.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Oo.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,o=this.view.docView.nearestDesc(t);if(o&&o.ignoreMutation({type:'selection',target:3==t.nodeType?t.parentNode:t}))return this.setCurSelection(),!0},Oo.prototype.flush=function(){if(this.view.docView&&!(-1<this.flushingSoon)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&ce(this.view)&&!this.ignoreSelectionChange(t),n=-1,d=-1,l=!1,p=[];if(this.view.editable)for(var c=0,i;c<e.length;c++)i=this.registerMutation(e[c],p),i&&(n=0>n?i.from:r(i.from,n),d=0>d?i.to:s(i.to,d),i.typeOver&&(l=!0));if(Vt.gecko&&1<p.length){var u=p.filter(function(e){return'BR'==e.nodeName});if(2==u.length){var f=u[0],a=u[1];f.parentNode&&f.parentNode.parentNode==a.parentNode?a.remove():f.remove()}}(-1<n||o)&&(-1<n&&(this.view.docView.markDirty(n,d),Je(this.view)),this.handleDOMChange(n,d,l,p),this.view.docView.dirty?this.view.updateState(this.view.state):!this.currentSelection.eq(t)&&ee(this.view))}},Oo.prototype.registerMutation=function(e,t){if(-1<t.indexOf(e.target))return null;var o=this.view.docView.nearestDesc(e.target);if('attributes'==e.type&&(o==this.view.docView||'contenteditable'==e.attributeName||'style'==e.attributeName&&!e.oldValue&&!e.target.getAttribute('style')))return null;if(!o||o.ignoreMutation(e))return null;if('childList'==e.type){var n=e.previousSibling,a=e.nextSibling;if(Vt.ie&&11>=Vt.ie_version&&e.addedNodes.length)for(var r=0;r<e.addedNodes.length;r++){var i=e.addedNodes[r],s=i.previousSibling,d=i.nextSibling;(!s||0>Array.prototype.indexOf.call(e.addedNodes,s))&&(n=s),(!d||0>Array.prototype.indexOf.call(e.addedNodes,d))&&(a=d)}for(var l=n&&n.parentNode==e.target?Jt(n)+1:0,p=o.localPosFromDOM(e.target,l,-1),c=a&&a.parentNode==e.target?Jt(a):e.target.childNodes.length,u=0;u<e.addedNodes.length;u++)t.push(e.addedNodes[u]);var f=o.localPosFromDOM(e.target,c,1);return{from:p,to:f}}return'attributes'==e.type?{from:o.posAtStart-o.border,to:o.posAtEnd+o.border}:{from:o.posAtStart,to:o.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var No=!1,Po={},To={};To.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ut(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),Vt.ios&&13==t.keyCode&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var o=Date.now();e.lastIOSEnter=o,e.lastIOSEnterFallbackTimeout=setTimeout(function(){e.lastIOSEnter==o&&(e.someProp('handleKeyDown',function(t){return t(e,c(13,'Enter'))}),e.lastIOSEnter=0)},200)}else e.someProp('handleKeyDown',function(o){return o(e,t)})||Oe(e,t)?t.preventDefault():Ge(e,'key')},To.keyup=function(t,o){16==o.keyCode&&(t.shiftKey=!1)},To.keypress=function(e,o){if(!(ut(e,o)||!o.charCode||o.ctrlKey&&!o.altKey||Vt.mac&&o.metaKey)){if(e.someProp('handleKeyPress',function(t){return t(e,o)}))return void o.preventDefault();var n=e.state.selection;if(!(n instanceof zt.TextSelection)||!n.$from.sameParent(n.$to)){var a=t(o.charCode);e.someProp('handleTextInput',function(t){return t(e,n.$from.pos,n.$to.pos,a)})||e.dispatch(e.state.tr.insertText(a).scrollIntoView()),o.preventDefault()}}};var Ao=Vt.mac?'metaKey':'ctrlKey';Po.mousedown=function(e,t){e.shiftKey=t.shiftKey;var o=ct(e),n=Date.now(),a='singleClick';500>n-e.lastClick.time&&ot(t,e.lastClick)&&!t[Ao]&&('singleClick'==e.lastClick.type?a='doubleClick':'doubleClick'==e.lastClick.type&&(a='tripleClick')),e.lastClick={time:n,x:t.clientX,y:t.clientY,type:a};var r=e.posAtCoords(tt(t));r&&('singleClick'==a?e.mouseDown=new Do(e,r,t,o):('doubleClick'==a?dt:lt)(e,r.pos,r.inside,t)?t.preventDefault():Ge(e,'pointer'))};var Do=function(e,t,o,n){var a=this;this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=o,this.flushed=n,this.selectNode=o[Ao],this.allowDefault=o.shiftKey;var r,i;if(-1<t.inside)r=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);r=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var d=n?null:o.target,l=d?e.docView.nearestDesc(d,!0):null;this.target=l?l.dom:null,(r.type.spec.draggable&&!1!==r.type.spec.selectable||e.state.selection instanceof zt.NodeSelection&&i==e.state.selection.from)&&(this.mightDrag={node:r,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Vt.gecko&&!this.target.hasAttribute('contentEditable')}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){return a.target.setAttribute('contentEditable','false')},20),this.view.domObserver.start()),e.root.addEventListener('mouseup',this.up=this.up.bind(this)),e.root.addEventListener('mousemove',this.move=this.move.bind(this)),Ge(e,'pointer')};Do.prototype.done=function(){this.view.root.removeEventListener('mouseup',this.up),this.view.root.removeEventListener('mousemove',this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute('draggable'),this.mightDrag.setUneditable&&this.target.removeAttribute('contentEditable'),this.view.domObserver.start()),this.view.mouseDown=null},Do.prototype.up=function(e){if(this.done(),!!this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(tt(e))),this.allowDefault||!t?Ge(this.view,'pointer'):st(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||Vt.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Vt.chrome&&!(this.view.state.selection instanceof zt.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(at(this.view,zt.Selection.near(this.view.state.doc.resolve(t.pos)),'pointer'),e.preventDefault()):Ge(this.view,'pointer')}},Do.prototype.move=function(e){!this.allowDefault&&(4<Bt(this.event.x-e.clientX)||4<Bt(this.event.y-e.clientY))&&(this.allowDefault=!0),Ge(this.view,'pointer')},Po.touchdown=function(e){ct(e),Ge(e,'pointer')},Po.contextmenu=function(e){return ct(e)};var Io=Vt.android?5e3:-1;To.compositionstart=To.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,o=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!o.textOffset&&o.parentOffset&&o.nodeBefore.marks.some(function(e){return!1===e.type.spec.inclusive})))e.markCursor=e.state.storedMarks||o.marks(),ht(e,!0),e.markCursor=null;else if(ht(e),Vt.gecko&&t.selection.empty&&o.parentOffset&&!o.textOffset&&o.nodeBefore.marks.length)for(var n=e.root.getSelection(),a=n.focusNode,r=n.focusOffset,i;a&&1==a.nodeType&&0!=r&&(i=0>r?a.lastChild:a.childNodes[r-1],!!i);)if(3==i.nodeType){n.collapse(i,i.nodeValue.length);break}else a=i,r=-1;e.composing=!0}ft(e,Io)},To.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,ft(e,20))};var Eo=Vt.ie&&15>Vt.ie_version||Vt.ios&&604>Vt.webkit_version;Po.copy=To.cut=function(t,o){var e=t.state.selection,n='cut'==o.type;if(!e.empty){var a=Eo?null:o.clipboardData,r=e.content(),i=Re(t,r),s=i.dom,d=i.text;a?(o.preventDefault(),a.clearData(),a.setData('text/html',s.innerHTML),a.setData('text/plain',d)):gt(t,s),n&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta('uiEvent','cut'))}},To.paste=function(t,o){var e=Eo?null:o.clipboardData,n=e&&e.getData('text/html'),a=e&&e.getData('text/plain');e&&(n||a||e.files.length)?(vt(t,a,n,o),o.preventDefault()):bt(t,o)};var $o=function(e,t){this.slice=e,this.move=t},Ro=Vt.mac?'altKey':'ctrlKey';for(var Bo in Po.dragstart=function(t,o){var e=t.mouseDown;if(e&&e.done(),!!o.dataTransfer){var n=t.state.selection,a=n.empty?null:t.posAtCoords(tt(o));if(a&&a.pos>=n.from&&a.pos<=(n instanceof zt.NodeSelection?n.to-1:n.to));else if(e&&e.mightDrag)t.dispatch(t.state.tr.setSelection(zt.NodeSelection.create(t.state.doc,e.mightDrag.pos)));else if(o.target&&1==o.target.nodeType){var r=t.docView.nearestDesc(o.target,!0);if(!r||!r.node.type.spec.draggable||r==t.docView)return;t.dispatch(t.state.tr.setSelection(zt.NodeSelection.create(t.state.doc,r.posBefore)))}var i=t.state.selection.content(),s=Re(t,i),d=s.dom,l=s.text;o.dataTransfer.clearData(),o.dataTransfer.setData(Eo?'Text':'text/html',d.innerHTML),Eo||o.dataTransfer.setData('text/plain',l),t.dragging=new $o(i,!o[Ro])}},Po.dragend=function(e){window.setTimeout(function(){return e.dragging=null},50)},To.dragover=To.dragenter=function(t,o){return o.preventDefault()},To.drop=function(t,o){var e=t.dragging;if(t.dragging=null,!!o.dataTransfer){var n=t.posAtCoords(tt(o));if(n){var a=t.state.doc.resolve(n.pos);if(a){var r=e&&e.slice||Be(t,o.dataTransfer.getData(Eo?'Text':'text/plain'),Eo?null:o.dataTransfer.getData('text/html'),!1,a),i=e&&!o[Ro];if(t.someProp('handleDrop',function(e){return e(t,o,r||Ft.Slice.empty,i)}))return void o.preventDefault();if(r){o.preventDefault();var s=r?(0,Lt.dropPoint)(t.state.doc,a.pos,r):a.pos;null==s&&(s=a.pos);var d=t.state.tr;i&&d.deleteSelection();var l=d.mapping.map(s),p=0==r.openStart&&0==r.openEnd&&1==r.content.childCount,c=d.doc;if(p?d.replaceRangeWith(l,l,r.content.firstChild):d.replaceRange(l,l,r),!d.doc.eq(c)){var u=d.doc.resolve(l);if(p&&zt.NodeSelection.isSelectable(r.content.firstChild)&&u.nodeAfter&&u.nodeAfter.sameMarkup(r.content.firstChild))d.setSelection(new zt.NodeSelection(u));else{var f=d.mapping.map(s);d.mapping.maps[d.mapping.maps.length-1].forEach(function(e,t,o,n){return f=n}),d.setSelection(le(t,u,d.doc.resolve(f)))}t.focus(),t.dispatch(d.setMeta('uiEvent','drop'))}}}}}},Po.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add('ProseMirror-focused'),e.domObserver.start(),e.focused=!0,setTimeout(function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ee(e)},20))},Po.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove('ProseMirror-focused'),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Po.beforeinput=function(e,t){if(Vt.chrome&&Vt.android&&'deleteContentBackward'==t.inputType){var o=e.domChangeCount;setTimeout(function(){if(e.domChangeCount==o&&(e.dom.blur(),e.focus(),!e.someProp('handleKeyDown',function(t){return t(e,c(8,'Backspace'))}))){var t=e.state.selection,n=t.$cursor;n&&0<n.pos&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}},50)}},To)Po[Bo]=To[Bo];var zo=function(e,t){this.spec=t||Wo,this.side=this.spec.side||0,this.toDOM=e};zo.prototype.map=function(e,t,o,n){var a=e.mapResult(t.from+n,0>this.side?-1:1),r=a.pos,i=a.deleted;return i?null:new Vo(r-o,r-o,this)},zo.prototype.valid=function(){return!0},zo.prototype.eq=function(e){return this==e||e instanceof zo&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&kt(this.spec,e.spec))};var Fo=function(e,t){this.spec=t||Wo,this.attrs=e};Fo.prototype.map=function(e,t,o,n){var a=e.map(t.from+n,this.spec.inclusiveStart?-1:1)-o,r=e.map(t.to+n,this.spec.inclusiveEnd?1:-1)-o;return a>=r?null:new Vo(a,r,this)},Fo.prototype.valid=function(e,t){return t.from<t.to},Fo.prototype.eq=function(e){return this==e||e instanceof Fo&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)},Fo.is=function(e){return e.type instanceof Fo};var Lo=function(e,t){this.spec=t||Wo,this.attrs=e};Lo.prototype.map=function(e,t,o,n){var a=e.mapResult(t.from+n,1);if(a.deleted)return null;var r=e.mapResult(t.to+n,-1);return r.deleted||r.pos<=a.pos?null:new Vo(a.pos-o,r.pos-o,this)},Lo.prototype.valid=function(e,t){var o=e.content.findIndex(t.from),n=o.index,a=o.offset;return a==t.from&&a+e.child(n).nodeSize==t.to},Lo.prototype.eq=function(e){return this==e||e instanceof Lo&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)};var Vo=function(e,t,o){this.from=e,this.to=t,this.type=o};o.Decoration=Vo;var Ho={spec:{configurable:!0},inline:{configurable:!0}};Vo.prototype.copy=function(e,t){return new Vo(e,t,this.type)},Vo.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Vo.prototype.map=function(e,t,o){return this.type.map(e,this,t,o)},Vo.widget=function(e,t,o){return new Vo(e,e,new zo(t,o))},Vo.inline=function(e,t,o,n){return new Vo(e,t,new Fo(o,n))},Vo.node=function(e,t,o,n){return new Vo(e,t,new Lo(o,n))},Ho.spec.get=function(){return this.type.spec},Ho.inline.get=function(){return this.type instanceof Fo},Object.defineProperties(Vo.prototype,Ho);var jo=[],Wo={},qo=function(e,t){this.local=e&&e.length?e:jo,this.children=t&&t.length?t:jo};o.DecorationSet=qo,qo.create=function(e,t){return t.length?Mt(t,e,0,Wo):Ko},qo.prototype.find=function(e,t,o){var n=[];return this.findInner(null==e?0:e,null==t?1e9:t,n,0,o),n},qo.prototype.findInner=function(e,t,o,n,a){for(var r=0,i;r<this.local.length;r++)i=this.local[r],i.from<=t&&i.to>=e&&(!a||a(i.spec))&&o.push(i.copy(i.from+n,i.to+n));for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var d=this.children[s]+1;this.children[s+2].findInner(e-d,t-d,o,n+d,a)}},qo.prototype.map=function(e,t,o){return this==Ko||0==e.maps.length?this:this.mapInner(e,t,0,0,o||Wo)},qo.prototype.mapInner=function(e,t,o,n,a){for(var r=0,i,s;r<this.local.length;r++)s=this.local[r].map(e,o,n),s&&s.type.valid(t,s)?(i||(i=[])).push(s):a.onRemove&&a.onRemove(this.local[r].spec);return this.children.length?xt(this.children,i,e,t,o,n,a):i?new qo(i.sort(Ot)):Ko},qo.prototype.add=function(e,t){return t.length?this==Ko?qo.create(e,t):this.addInner(e,t,0):this},qo.prototype.addInner=function(e,t,o){var n=this,a=0,r;e.forEach(function(e,i){var s=i+o,d;if(d=Ct(t,e,s)){for(r||(r=n.children.slice());a<r.length&&r[a]<i;)a+=3;r[a]==i?r[a+2]=r[a+2].addInner(e,d,s+1):r.splice(a,0,i,i+e.nodeSize,Mt(d,e,s+1,Wo)),a+=3}});var i=St(a?_t(t):t,-o);return new qo(i.length?this.local.concat(i).sort(Ot):this.local,r||this.children)},qo.prototype.remove=function(e){return 0==e.length||this==Ko?this:this.removeInner(e,0)},qo.prototype.removeInner=function(e,t){for(var o=this.children,n=this.local,a=0;a<o.length;a+=3){for(var r=void 0,i=o[a]+t,s=o[a+1]+t,d=0,l=void 0;d<e.length;d++)(l=e[d])&&l.from>i&&l.to<s&&(e[d]=null,(r||(r=[])).push(l));if(r){o==this.children&&(o=this.children.slice());var p=o[a+2].removeInner(r,i+1);p==Ko?(o.splice(a,3),a-=3):o[a+2]=p}}if(n.length)for(var c=0,u=void 0;c<e.length;c++)if(u=e[c])for(var f=0;f<n.length;f++)n[f].eq(u,t)&&(n==this.local&&(n=this.local.slice()),n.splice(f--,1));return o==this.children&&n==this.local?this:n.length||o.length?new qo(n,o):Ko},qo.prototype.forChild=function(e,t){if(this==Ko)return this;if(t.isLeaf)return qo.empty;for(var o=0,n,a;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,d=i+t.content.size,l=0,p;l<this.local.length;l++)if(p=this.local[l],p.from<d&&p.to>i&&p.type instanceof Fo){var c=s(i,p.from)-i,u=r(d,p.to)-i;c<u&&(a||(a=[])).push(p.copy(c,u))}if(a){var f=new qo(a.sort(Ot));return n?new Jo([f,n]):f}return n||Ko},qo.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof qo)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var o=0;o<this.children.length;o+=3)if(this.children[o]!=e.children[o]||this.children[o+1]!=e.children[o+1]||!this.children[o+2].eq(e.children[o+2]))return!1;return!0},qo.prototype.locals=function(e){return Nt(this.localsInner(e))},qo.prototype.localsInner=function(e){if(this==Ko)return jo;if(e.inlineContent||!this.local.some(Fo.is))return this.local;for(var t=[],o=0;o<this.local.length;o++)this.local[o].type instanceof Fo||t.push(this.local[o]);return t};var Ko=new qo;qo.empty=Ko,qo.removeOverlap=Nt;var Jo=function(e){this.members=e};Jo.prototype.forChild=function(e,t){if(t.isLeaf)return qo.empty;for(var o=[],n=0,a;n<this.members.length;n++)(a=this.members[n].forChild(e,t),a!=Ko)&&(a instanceof Jo?o=o.concat(a.members):o.push(a));return Jo.from(o)},Jo.prototype.eq=function(e){if(!(e instanceof Jo)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Jo.prototype.locals=function(e){for(var t=!0,o=0,n,a;o<this.members.length;o++)if(a=this.members[o].localsInner(e),!!a.length)if(!n)n=a;else{t&&(n=n.slice(),t=!1);for(var r=0;r<a.length;r++)n.push(a[r])}return n?Nt(t?n:n.sort(Ot)):jo},Jo.from=function(e){switch(e.length){case 0:return Ko;case 1:return e[0];default:return new Jo(e);}};var Uo=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement('div'),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=It(this),this.markCursor=null,this.cursorWrapper=null,Dt(this),this.nodeViews=$t(this),this.docView=B(this.state.doc,At(this),Tt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Ue(this),this.pluginViews=[],this.updatePluginViews()};o.EditorView=Uo;var Go={props:{configurable:!0},root:{configurable:!0}};Go.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Uo.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ye(this),this._props=e,this.updateStateInner(e.state,!0)},Uo.prototype.setProps=function(e){var t={};for(var o in this._props)t[o]=this._props[o];for(var n in t.state=this.state,e)t[n]=e[n];this.update(t)},Uo.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Uo.prototype.updateStateInner=function(e,t){var o=this,n=this.state,a=!1,r=!1;if(e.storedMarks&&this.composing&&(mt(this),r=!0),this.state=e,t){var i=$t(this);Rt(i,this.nodeViews)&&(this.nodeViews=i,a=!0),Ye(this)}this.editable=It(this),Dt(this);var s=Tt(this),d=At(this),l=t?'reset':e.scrollToSelection>n.scrollToSelection?'to selection':'preserve',p=a||!this.docView.matchesNode(e.doc,d,s);(p||!e.selection.eq(n.selection))&&(r=!0);var c='preserve'==l&&r&&null==this.dom.style.overflowAnchor&&g(this);if(r){this.domObserver.stop();var u=p&&(Vt.ie||Vt.chrome)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&Et(n.selection,e.selection);if(p){var f=Vt.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(a||!this.docView.update(e.doc,d,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=B(e.doc,d,s,this.dom,this)),f&&!this.trackWrites&&(u=!0)}u||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&ue(this))?ee(this,u):(se(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),'reset'==l)this.dom.scrollTop=0;else if('to selection'==l){var m=this.root.getSelection().focusNode;if(this.someProp('handleScrollToSelection',function(e){return e(o)}));else e.selection instanceof zt.NodeSelection?h(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),m):h(this,this.coordsAtPos(e.selection.head),m)}else c&&y(c)},Uo.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Uo.prototype.updatePluginViews=function(e){if(!e||e.plugins!=this.state.plugins){this.destroyPluginViews();for(var t=0,o;t<this.state.plugins.length;t++)o=this.state.plugins[t],o.spec.view&&this.pluginViews.push(o.spec.view(this))}else for(var n=0,a;n<this.pluginViews.length;n++)a=this.pluginViews[n],a.update&&a.update(this,e)},Uo.prototype.someProp=function(e,t){var o=this._props&&this._props[e],n;if(null!=o&&(n=t?t(o):o))return n;var a=this.state.plugins;if(a)for(var r=0,i;r<a.length;r++)if(i=a[r].props[e],null!=i&&(n=t?t(i):i))return n},Uo.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Uo.prototype.focus=function(){this.domObserver.stop(),this.editable&&k(this.dom),ee(this),this.domObserver.start()},Go.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Uo.prototype.posAtCoords=function(e){return N(this,e)},Uo.prototype.coordsAtPos=function(e){return T(this,e)},Uo.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Uo.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Uo.prototype.posAtDOM=function(e,t,o){void 0===o&&(o=-1);var n=this.docView.posFromDOM(e,t,o);if(null==n)throw new RangeError('DOM position not inside the editor');return n},Uo.prototype.endOfTextblock=function(e,t){return R(this,t||this.state,e)},Uo.prototype.destroy=function(){this.docView&&(Xe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Tt(this),this),this.dom.textContent=''):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Uo.prototype.dispatchEvent=function(e){return et(this,e)},Uo.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Uo.prototype,Go)},"5a2b":function(e,t,o){'use strict';o.r(t);var n=o('b533'),a=o('9469');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"5d96":function(e,t,o){'use strict';o.r(t);var n=o('2668'),a=o('88ad');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"5dbe":function(e){'use strict';(function(){function o(e){for(var o=1,a=[].slice.call(arguments),r=0,i=e.length,n='',s=!1,d=!1,l=function(){return a[o++]},p=function(){for(var t='';/\d/.test(e[r]);)t+=e[r++],u=e[r];return 0<t.length?parseInt(t):null},u,c,f,m;r<i;++r)if(u=e[r],s)switch(s=!1,'.'==u?(d=!1,u=e[++r]):'0'==u&&'.'==e[r+1]?(d=!0,r+=2,u=e[r]):d=!0,m=p(),u){case'b':n+=parseInt(l(),10).toString(2);break;case'c':c=l(),n+='string'==typeof c||c instanceof String?c:t(parseInt(c,10));break;case'd':n+=parseInt(l(),10);break;case'f':f=parseFloat(l()).toFixed(m||6)+'',n+=d?f:f.replace(/^0/,'');break;case'j':n+=JSON.stringify(l());break;case'o':n+='0'+parseInt(l(),10).toString(8);break;case's':n+=l();break;case'x':n+='0x'+parseInt(l(),10).toString(16);break;case'X':n+='0x'+parseInt(l(),10).toString(16).toUpperCase();break;default:n+=u;}else'%'===u?s=!0:n+=u;return n}var n;n=e.exports=o,n.format=o,n.vsprintf=function(e,t){return o.apply(null,[e].concat(t))},'undefined'!=typeof console&&'function'==typeof console.log&&(n.printf=function(){console.log(o.apply(null,arguments))})})()},"5e43":function(e,t,o){'use strict';o.r(t);var n=o('5690'),a=o('f5b8');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"5f4e":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,n,a,r,i){try{var s=e[r](i),d=s.value}catch(e){return void o(e)}s.done?t(d):Promise.resolve(d).then(n,a)}function r(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){function i(e){a(d,n,r,i,s,'next',e)}function s(e){a(d,n,r,i,s,'throw',e)}var d=e.apply(t,o);i(void 0)})}}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var i=n(o('c8ef')),s=n(o('8f6b')),d={name:'InputMedia',components:{InputUpload:i.default,GalleryMosaic:s.default},props:{value:{type:[Array,String,Number],default:function(){return[]}}},fetch:function(){var e=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch('library/fetch');case 2:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),data:function(){return{state:{loading:!1}}},computed:{items:function(){return this.$store.getters['library/find']()}},methods:{onUpload:function(){var e=r(regeneratorRuntime.mark(function e(t){var o,n,a,r,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.$data.state.loading=!0,o=!0,n=!1,a=void 0,e.prev=4,r=t[Symbol.iterator]();case 6:if(o=(i=r.next()).done){e.next=14;break}return s=i.value,e.next=10,this.$store.dispatch('library/create',{file:s.raw});case 10:e.sent;case 11:o=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e['catch'](4),n=!0,a=e.t0;case 20:e.prev=20,e.prev=21,o||null==r.return||r.return();case 23:if(e.prev=23,!n){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(20);case 28:this.$data.state.loading=!1;case 29:case'end':return e.stop();}},e,this,[[4,16,20,28],[21,,23,27]])}));return function(){return e.apply(this,arguments)}}(),onInput:function(e){var t=this.items.find(function(t){return t._id==e});this.$emit('input',t)}}};t.default=d},6174:function(e,t,o){'use strict';o.r(t);var n=o('dcfc'),a=o('c740');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},6388:function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'StyledBlockExtension',{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,'StyledBlockMenu',{enumerable:!0,get:function(){return r.default}});var a=n(o('23c9')),r=n(o('4965'))},"650f":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={props:{modifiers:{type:Array,default:function(){return[]}}},computed:{$modifiers:function(){var e=this,t={};return this.$props.modifiers&&this.$props.modifiers.forEach(function(o){o&&(t[e.$options.name+'--'+o]=!0)}),t}}};t.default=o},"665f":function(e,t,o){'use strict';function n(e,t){var o={};for(var n in e)o[n]=e[n];for(var a in t)o[a]=t[a];return o}function a(t,o,n,a,r){for(var d=l.Fragment.empty,p=n.length-1;0<=p;p--)d=l.Fragment.from(n[p].type.create(n[p].attrs,d));t.step(new s.ReplaceAroundStep(o.start-(a?2:0),o.end,o.start,o.end,new l.Slice(d,0,0),n.length,!0));for(var i=0,c=0;c<n.length;c++)n[c].type==r&&(i=c+1);for(var u=n.length-i,f=o.start+n.length-(a?2:0),m=o.parent,h=o.startIndex,g=o.endIndex,e=!0;h<g;h++,e=!1)!e&&(0,s.canSplit)(t.doc,f,u)&&(t.split(f,u),f+=2*u),f+=m.child(h).nodeSize;return t}function r(e,t,o,n){var a=e.tr,r=n.end,i=n.$to.end(n.depth);return r<i&&(a.step(new s.ReplaceAroundStep(r-1,i,r,i,new l.Slice(l.Fragment.from(o.create(null,n.parent.copy())),1,0),1,!0)),n=new l.NodeRange(a.doc.resolve(n.$from.pos),a.doc.resolve(i),n.depth)),t(a.lift(n,(0,s.liftTarget)(n)).scrollIntoView()),!0}function i(t,o,n){for(var a=t.tr,r=n.parent,d=n.end,p=n.endIndex-1,i=n.startIndex;p>i;p--)d-=r.child(p).nodeSize,a.delete(d-1,d+1);var e=a.doc.resolve(n.start),c=e.nodeAfter,u=0==n.startIndex,f=n.endIndex==r.childCount,m=e.node(-1),h=e.index(-1);if(!m.canReplace(h+(u?0:1),h+1,c.content.append(f?l.Fragment.empty:l.Fragment.from(r))))return!1;var g=e.pos,y=g+c.nodeSize;return a.step(new s.ReplaceAroundStep(g-(u?1:0),y+(f?1:0),g+1,y-1,new l.Slice((u?l.Fragment.empty:l.Fragment.from(r.copy(l.Fragment.empty))).append(f?l.Fragment.empty:l.Fragment.from(r.copy(l.Fragment.empty))),u?0:1,f?0:1),u?0:1)),o(a.scrollIntoView()),!0}Object.defineProperty(t,'__esModule',{value:!0}),t.addListNodes=function(e,t,o){return e.append({ordered_list:n(u,{content:'list_item+',group:o}),bullet_list:n(f,{content:'list_item+',group:o}),list_item:n(m,{content:t})})},t.liftListItem=function(e){return function(t,o){var n=t.selection,a=n.$from,s=n.$to,d=a.blockRange(s,function(t){return t.childCount&&t.firstChild.type==e});return!!d&&(!o||(a.node(d.depth-1).type==e?r(t,o,e,d):i(t,o,d)))}},t.sinkListItem=function(e){return function(t,o){var n=t.selection,a=n.$from,r=n.$to,i=a.blockRange(r,function(t){return t.childCount&&t.firstChild.type==e});if(!i)return!1;var d=i.startIndex;if(0==d)return!1;var p=i.parent,c=p.child(d-1);if(c.type!=e)return!1;if(o){var u=c.lastChild&&c.lastChild.type==p.type,f=l.Fragment.from(u?e.create():null),m=new l.Slice(l.Fragment.from(e.create(null,l.Fragment.from(p.type.create(null,f)))),u?3:1,0),h=i.start,g=i.end;o(t.tr.step(new s.ReplaceAroundStep(h-(u?3:1),g,h,g,m,1,!0)).scrollIntoView())}return!0}},t.splitListItem=function(e){return function(t,o){var n=t.selection,a=n.$from,r=n.$to,i=n.node;if(i&&i.isBlock||2>a.depth||!a.sameParent(r))return!1;var p=a.node(-1);if(p.type!=e)return!1;if(0==a.parent.content.size&&a.node(-1).childCount==a.indexAfter(-1)){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(o){for(var c=l.Fragment.empty,u=0<a.index(-1),f=a.depth-(u?1:2);f>=a.depth-3;f--)c=l.Fragment.from(a.node(f).copy(c));c=c.append(l.Fragment.from(e.createAndFill()));var d=t.tr.replace(a.before(u?null:-1),a.after(-3),new l.Slice(c,u?3:2,2));d.setSelection(t.selection.constructor.near(d.doc.resolve(a.pos+(u?3:2)))),o(d.scrollIntoView())}return!0}var m=r.pos==a.end()?p.contentMatchAt(0).defaultType:null,h=t.tr.delete(a.pos,r.pos),g=m&&[null,{type:m}];return!!(0,s.canSplit)(h.doc,a.pos,2,g)&&(o&&o(h.split(a.pos,2,g).scrollIntoView()),!0)}},t.wrapInList=function(e,t){return function(o,n){var r=o.selection,i=r.$from,d=r.$to,p=i.blockRange(d),c=!1,u=p;if(!p)return!1;if(2<=p.depth&&i.node(p.depth-1).type.compatibleContent(e)&&0==p.startIndex){if(0==i.index(p.depth-1))return!1;var f=o.doc.resolve(p.start-2);u=new l.NodeRange(f,f,p.depth),p.endIndex<p.parent.childCount&&(p=new l.NodeRange(i,o.doc.resolve(d.end(p.depth)),p.depth)),c=!0}var m=(0,s.findWrapping)(u,e,t,p);return!!m&&(n&&n(a(o.tr,p,m,c,e).scrollIntoView()),!0)}},t.orderedList=t.listItem=t.bulletList=void 0;var s=o('0ac0'),l=o('304a'),d=['ol',0],p=['ul',0],c=['li',0],u={attrs:{order:{default:1}},parseDOM:[{tag:'ol',getAttrs:function(e){return{order:e.hasAttribute('start')?+e.getAttribute('start'):1}}}],toDOM:function(e){return 1==e.attrs.order?d:['ol',{start:e.attrs.order},0]}};t.orderedList=u;var f={parseDOM:[{tag:'ul'}],toDOM:function(){return p}};t.bulletList=f;var m={parseDOM:[{tag:'li'}],toDOM:function(){return c},defining:!0};t.listItem=m},"66f5":function(e,t,o){'use strict';o.r(t);var n=o('a3c4'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"679f":function(e,t,o){'use strict';o.r(t);var n=o('539d'),a=o('3e7f');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"6f98":function(e,t,o){'use strict';o.r(t);var n=o('d2ed'),a=o('0353');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"703b":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;t.default={modifiers:['s','light'],default:{text:'Order one expresso'}}},"727d":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'ImageExtension',{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,'ImageMenu',{enumerable:!0,get:function(){return r.default}});var a=n(o('fcf3')),r=n(o('947e'))},"72e2":function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'LinkExtension',{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,'LinkMenu',{enumerable:!0,get:function(){return r.default}});var a=n(o('e3b8')),r=n(o('b87d'))},7680:function(e,t,o){'use strict';o.r(t);var n=o('b381'),a=o('9280');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"7aee":function(e,t,o){'use strict';o.r(t);var n=o('47ca'),a=o('50ab');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"7ca4":function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n=o('cd42'),a=function(e){return e&&e.__esModule?e:{default:e}}(o('c53b')),r={name:'PaperView',components:{EditorContent:n.EditorContent},props:{editor:{default:null},editable:{type:Boolean,default:!1},value:{type:String,default:''}},data:function(){return{initEditor:null}},watch:{editor:{immediate:!0,handler:function(e){this.$data.initEditor=e}}},mounted:function(){this.$props.editable||(this.$data.initEditor=new n.Editor({extensions:a.default.plugins(),content:this.$props.value}))}};t.default=r},"7cc0":function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o('650f')),a={name:'TooltipBase',mixins:[n.default],props:{tag:{type:String,default:'span'},top:{type:Number,default:10},left:{type:Number,default:0}}};t.default=a},"7f06":function(e,t,o){'use strict';function n(e){var t=e.split(/-(?!$)/),o=t[t.length-1];'Space'==o&&(o=' ');for(var n=0,a,r,i,s,d;n<t.length-1;n++)if(d=t[n],/^(cmd|meta|m)$/i.test(d))s=!0;else if(/^a(lt)?$/i.test(d))a=!0;else if(/^(c|ctrl|control)$/i.test(d))r=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))l?s=!0:r=!0;else throw new Error('Unrecognized modifier name: '+d);return a&&(o='Alt-'+o),r&&(o='Ctrl-'+o),s&&(o='Meta-'+o),i&&(o='Shift-'+o),o}function a(e){var t=Object.create(null);for(var o in e)t[n(o)]=e[o];return t}function r(e,t,o){return t.altKey&&(e='Alt-'+e),t.ctrlKey&&(e='Ctrl-'+e),t.metaKey&&(e='Meta-'+e),!1!==o&&t.shiftKey&&(e='Shift-'+e),e}function i(e){var t=a(e);return function(e,o){var n=(0,s.keyName)(o),a=1==n.length&&' '!=n,i=t[r(n,o,!a)],d;if(i&&i(e.state,e.dispatch,e))return!0;if(a&&(o.shiftKey||o.altKey||o.metaKey||127<n.charCodeAt(0))&&(d=s.base[o.keyCode])&&d!=n){var l=t[r(d,o,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(a&&o.shiftKey){var p=t[r(n,o,!0)];if(p&&p(e.state,e.dispatch,e))return!0}return!1}}Object.defineProperty(t,'__esModule',{value:!0}),t.keydownHandler=i,t.keymap=function(e){return new d.Plugin({props:{handleKeyDown:i(e)}})};var s=o('9ea7'),d=o('5313'),l='undefined'!=typeof navigator&&/Mac/.test(navigator.platform)},8558:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'GalleryMosaic',class:{"is-no-selection":0>=e.selected.length}},e._l(e.imageRows,function(t,n){return o('div',{key:n,staticClass:'GalleryMosaic_row'},e._l(t.images,function(t){return o('div',{key:t._id,staticClass:'GalleryMosaic_imageContainer ActionMenu_hover',class:{"is-active":e.selected.includes(t._id)},style:{"--width":t.width+'px',"--height":t.height+'px'},on:{click:function(){return e.$emit('input',t._id)}}},[o('img',{staticClass:'GalleryMosaic_image',attrs:{width:r(.8*t.original.width,t.width),height:r(.8*t.original.height,t.height),src:t.src}}),e.selectable?o('div',{staticClass:'GalleryMosaic_selector'},[o('i',{staticClass:'fal fa-check'})]):e._e()])}),0)}),0)},a=[]},"86b6":function(e,t,o){'use strict';o.r(t);var n=o('b6b1'),a=o('bbf9');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},8726:function(e,t,o){'use strict';function n(e,t){var o;return e.forEach(function(e,n){if(e.selection&&0==t--)return o=n,!1}),e.slice(o)}function a(e,t,o,n){var a=o.getMeta(x),r;if(a)return a.historyState;o.getMeta(S)&&(e=new y(e.done,e.undone,null,0));var s=o.getMeta('appendedTransaction');if(0==o.steps.length)return e;if(s&&s.getMeta(x))return s.getMeta(x).redo?new y(e.done.addTransform(o,null,n,c(t)),e.undone,d(o.mapping.maps[o.steps.length-1]),e.prevTime):new y(e.done,e.undone.addTransform(o,null,n,c(t)),null,e.prevTime);if(!1!==o.getMeta('addToHistory')&&!(s&&!1===s.getMeta('addToHistory'))){var p=0==e.prevTime||!s&&(e.prevTime<(o.time||0)-n.newGroupDelay||!i(o,e.prevRanges)),u=s?l(e.prevRanges,o.mapping):d(o.mapping.maps[o.steps.length-1]);return new y(e.done.addTransform(o,p?t.selection.getBookmark():null,n,c(t)),h.empty,u,o.time)}return(r=o.getMeta('rebased'))?new y(e.done.rebased(o,r),e.undone.rebased(o,r),l(e.prevRanges,o.mapping),e.prevTime):new y(e.done.addMaps(o.mapping.maps),e.undone.addMaps(o.mapping.maps),l(e.prevRanges,o.mapping),e.prevTime)}function i(e,t){if(!t)return!1;if(!e.docChanged)return!0;var o=!1;return e.mapping.maps[0].forEach(function(e,n){for(var a=0;a<t.length;a+=2)e<=t[a+1]&&n>=t[a]&&(o=!0)}),o}function d(e){var t=[];return e.forEach(function(e,o,n,a){return t.push(n,a)}),t}function l(e,t){if(!e)return null;for(var o=[],n=0;n<e.length;n+=2){var a=t.map(e[n],1),r=t.map(e[n+1],-1);a<=r&&o.push(a,r)}return o}function p(e,t,o,n){var a=c(t),r=x.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,a);if(i){var s=i.selection.resolve(i.transform.doc),d=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),r,a),l=new y(n?d:i.remaining,n?i.remaining:d,null,0);o(i.transform.setSelection(s).setMeta(x,{redo:n,historyState:l}).scrollIntoView())}}function c(e){var t=e.plugins;if(k!=t){v=!1,k=t;for(var o=0;o<t.length;o++)if(t[o].spec.historyPreserveItems){v=!0;break}}return v}Object.defineProperty(t,'__esModule',{value:!0}),t.closeHistory=function(e){return e.setMeta(S,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new m.Plugin({key:x,state:{init:function(){return new y(h.empty,h.empty,null,0)},apply:function(t,o,n){return a(o,n,t,e)}},config:e})},t.redo=function(e,t){var o=x.getState(e);return!!(o&&0!=o.undone.eventCount)&&(t&&p(o,e,t,!0),!0)},t.redoDepth=function(e){var t=x.getState(e);return t?t.undone.eventCount:0},t.undo=function(e,t){var o=x.getState(e);return!!(o&&0!=o.done.eventCount)&&(t&&p(o,e,t,!1),!0)},t.undoDepth=function(e){var t=x.getState(e);return t?t.done.eventCount:0},t.HistoryState=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(o('c21e')),f=o('0ac0'),m=o('5313'),h=function(e,t){this.items=e,this.eventCount=t};h.prototype.popEvent=function(e,t){var o=this;if(0==this.eventCount)return null;for(var n=this.items.length,a;;n--)if(a=this.items.get(n-1),a.selection){--n;break}var r,s;t&&(r=this.remapping(n,this.items.length),s=r.maps.length);var d=e.tr,l=[],p=[],c,u;return this.items.forEach(function(e,t){if(!e.step)return r||(r=o.remapping(n,t+1),s=r.maps.length),s--,void p.push(e);if(r){p.push(new g(e.map));var a=e.step.map(r.slice(s)),i;a&&d.maybeStep(a).doc&&(i=d.mapping.maps[d.mapping.maps.length-1],l.push(new g(i,null,null,l.length+p.length))),s--,i&&r.appendMap(i,s)}else d.maybeStep(e.step);return e.selection?(c=r?e.selection.map(r.slice(s)):e.selection,u=new h(o.items.slice(0,n).append(p.reverse().concat(l)),o.eventCount-1),!1):void 0},this.items.length,0),{remaining:u,transform:d,selection:c}},h.prototype.addTransform=function(e,t,o,a){for(var r=[],s=this.eventCount,d=this.items,l=!a&&d.length?d.get(d.length-1):null,p=0;p<e.steps.length;p++){var i=e.steps[p].invert(e.docs[p]),c=new g(e.mapping.maps[p],i,t),u=void 0;(u=l&&l.merge(c))&&(c=u,p?r.pop():d=d.slice(0,d.length-1)),r.push(c),t&&(s++,t=null),a||(l=c)}var f=s-o.depth;return f>b&&(d=n(d,f),s-=f),new h(d.append(r),s)},h.prototype.remapping=function(e,t){var o=new f.Mapping;return this.items.forEach(function(t,n){var a=null!=t.mirrorOffset&&n-t.mirrorOffset>=e?o.maps.length-t.mirrorOffset:null;o.appendMap(t.map,a)},e,t),o},h.prototype.addMaps=function(e){return 0==this.eventCount?this:new h(this.items.append(e.map(function(e){return new g(e)})),this.eventCount)},h.prototype.rebased=function(e,t){if(!this.eventCount)return this;var o=[],n=s(0,this.items.length-t),a=e.mapping,d=e.steps.length,l=this.eventCount;this.items.forEach(function(e){e.selection&&l--},n);var p=t;this.items.forEach(function(t){var n=a.getMirror(--p);if(null!=n){d=r(d,n);var i=a.maps[n];if(t.step){var s=e.steps[n].invert(e.docs[n]),c=t.selection&&t.selection.map(a.slice(p+1,n));c&&l++,o.push(new g(i,s,c))}else o.push(new g(i))}},n);for(var c=[],u=t;u<d;u++)c.push(new g(a.maps[u]));var i=this.items.slice(0,n).append(c).append(o),f=new h(i,l);return f.emptyItemCount()>500&&(f=f.compress(this.items.length-o.length)),f},h.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(t){t.step||e++}),e},h.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),o=t.maps.length,n=[],a=0;return this.items.forEach(function(r,s){if(s>=e)n.push(r),r.selection&&a++;else if(r.step){var i=r.step.map(t.slice(o)),d=i&&i.getMap();if(o--,d&&t.appendMap(d,o),i){var l=r.selection&&r.selection.map(t.slice(o));l&&a++;var p=new g(d.invert(),i,l),c=n.length-1,u;(u=n.length&&n[c].merge(p))?n[c]=u:n.push(p)}}else r.map&&o--},this.items.length,0),new h(u.default.from(n.reverse()),a)},h.empty=new h(u.default.empty,0);var g=function(e,t,o,n){this.map=e,this.step=t,this.selection=o,this.mirrorOffset=n};g.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new g(t.getMap().invert(),t,this.selection)}};var y=function(e,t,o,n){this.done=e,this.undone=t,this.prevRanges=o,this.prevTime=n};t.HistoryState=y;var b=20,v=!1,k=null,x=new m.PluginKey('history'),S=new m.PluginKey('closeHistory')},8846:function(e,t,o){'use strict';o.r(t);var n=o('8ae2'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"884c":function(e,t){'use strict';function o(e){this.content=e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0,o.prototype={constructor:o,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var a=n&&n!=e?this.remove(n):this,r=a.find(e),i=a.content.slice();return-1==r?i.push(n||e,t):(i[r+1]=t,n&&(i[r]=n)),new o(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new o(n)},addToStart:function(e,t){return new o([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new o(n)},addBefore:function(e,t,n){var a=this.remove(t),r=a.content.slice(),i=a.find(e);return r.splice(-1==i?r.length:i,0,t,n),new o(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=o.from(e),e.size?new o(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=o.from(e),e.size?new o(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=o.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},o.from=function(e){if(e instanceof o)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new o(t)};t.default=o},8875:function(e,t){'use strict';function o(e){'@babel/helpers - typeof';return o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},o(e)}var n,a,r;(function(o,i){a=[],n=i,r='function'==typeof n?n.apply(t,a):n,!(void 0!==r&&(e.exports=r))})('undefined'==typeof self?void 0:self,function(){function e(){var t=Object.getOwnPropertyDescriptor(document,'currentScript');if(!t&&'currentScript'in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var o=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,n=/@([^@]*):(\d+):(\d+)\s*$/ig,a=o.exec(e.stack)||n.exec(e.stack),r=a&&a[1]||!1,s=a&&a[2]||!1,d=document.location.href.replace(document.location.hash,''),l=document.getElementsByTagName('script'),p,c,u;r===d&&(p=document.documentElement.outerHTML,c=new RegExp('(?:[^\\n]+?\\n){0,'+(s-2)+'}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*','i'),u=p.replace(c,'$1').trim());for(var f=0;f<l.length;f++){if('interactive'===l[f].readyState)return l[f];if(l[f].src===r)return l[f];if(r===d&&l[f].innerHTML&&l[f].innerHTML.trim()===u)return l[f]}return null}}return e})},"88ad":function(e,t,o){'use strict';o.r(t);var n=o('7ca4'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"8ae2":function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o('5a2b')),a={name:'PaperSelect',components:{SelectBase:n.default},props:{items:{type:Array,default:function(){return[]}},currentNode:{type:Object,default:function(){return[]}}},computed:{selectedId:function(){var e=this,t=this.$props.items.find(function(t){return JSON.stringify(t.value)==JSON.stringify(e.$props.currentNode)});return!!t&&t.id}},methods:{onInput:function(e){this.$emit('input',this.$props.items.find(function(t){return t.id==e}).value)}}};t.default=a},"8bbf":function(t){t.exports=e},"8f6b":function(e,t,o){'use strict';o.r(t);var n=o('8558'),a=o('cb2f');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},"900e":function(e,t,o){'use strict';o.r(t);var n=o('c92d'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},9280:function(e,t,o){'use strict';o.r(t);var n=o('2ca1'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},9469:function(e,t,o){'use strict';o.r(t);var n=o('d2e6'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"947e":function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){return{id:'image',icon:'image',isNode:!0,popin:{form:{src:{is:'input-media',value:{},transformer:{get:function(e){return e._id||''},set:function(e){return e.sizes.s.src||''}}}},attrs:{modifiers:['panel']}}}}},"986d":function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}Object.defineProperty(t,'__esModule',{value:!0});var a=o('5313'),i=o('304a'),d=o('55be'),l=function(e,t){return function(o){Array.isArray(e)||(e=[e]);for(var n=0,a=e.length,r;n<a;n++)if(r=F(e[n])(o.selection),r){var i=v(r.pos,t)(o);if(i!==o)return i}return o}},p=function(e){return function(t){if(g(t.selection)){var o=t.selection,n=o.$from,r=o.$to;if(e instanceof i.Fragment&&n.parent.canReplace(n.index(),n.indexAfter(),e)||n.parent.canReplaceWith(n.index(),n.indexAfter(),e.type))return b(t.replaceWith(n.pos,r.pos,e).setSelection(new a.NodeSelection(t.doc.resolve(n.pos))))}return t}},c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return function(o){var n=a.Selection.findFrom(o.doc.resolve(e),t,!0);return n?o.setSelection(n):o}},u=function(e){return e.type&&e.type.spec.selectable},f=function(e){return u(e)&&e.type.isLeaf},m=function(e,t,o){return f(e)?o.setSelection(new a.NodeSelection(o.doc.resolve(t))):c(t)(o)},h=function(e,t,o){return function(n){var a='number'==typeof t,r=n.selection.$from,s=a?n.doc.resolve(t):g(n.selection)?n.doc.resolve(r.pos+1):r,d=s.parent;if(g(n.selection)&&o){var c=n;if(n=p(e)(n),c!==n)return n}if(C(d)){var f=n;if(n=l(d.type,e)(n),f!==n){var h=u(e)?s.before(s.depth):s.pos;return m(e,h,n)}}if(w(s,e)){n.insert(s.pos,e);var y=a?s.pos:u(e)?n.selection.$anchor.pos-1:n.selection.$anchor.pos;return b(m(e,y,n))}for(var v=s.depth;0<v;v--){var i=s.after(v),k=n.doc.resolve(i);if(w(k,e))return n.insert(i,e),b(m(e,i,n))}return n}},g=function(e){return e instanceof a.NodeSelection},y=function(e,t){return Array.isArray(e)&&-1<e.indexOf(t.type)||t.type===e},b=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},v=function(e,t){return function(o){var n=o.doc.nodeAt(e),a=o.doc.resolve(e);if(k(a,t)){o=o.replaceWith(e,e+n.nodeSize,t);var r=o.selection.$from.pos-1;return o=c(s(r,0),-1)(o),o=c(o.selection.$from.start())(o),b(o)}return o}},k=function(e,t){var o=e.node(e.depth);return o&&o.type.validContent(t instanceof i.Fragment?t:i.Fragment.from(t))},x=function(e){return function(t){var o=t.doc.nodeAt(e);return b(t.delete(e,e+o.nodeSize))}},S=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach(function(o){var n=e.nodes[o];n.spec.tableRole&&(t[n.spec.tableRole]=n)}),e.cached.tableNodeTypes=t,t},w=function(e,t){var o=e.index();return t instanceof i.Fragment?e.parent.canReplace(o,o,t):!!(t instanceof i.Node)&&e.parent.canReplaceWith(o,o,t.type)},C=function(e){return!e||'paragraph'===e.type.name&&2===e.nodeSize},_=function(e){return R(e,function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)})},M=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},O=function(e){return function(t){for(var o=d.TableMap.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),a=o.cellsInRect(e),r=o.cellsInRect(o.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n)),s=0,i=a.length;s<i;s++)if(-1===r.indexOf(a[s]))return!1;return!0}},N=function(e){return e[0].map(function(t,o){return e.map(function(e){return e[o]})})},P=function(e){for(var t=d.TableMap.get(e),o=[],n=0;n<t.height;n++){for(var a=[],r={},i=0;i<t.width;i++){var s=t.map[n*t.width+i],l=e.nodeAt(s),p=t.findCell(s);if(r[s]||p.top!==n){a.push(null);continue}r[s]=!0,a.push(l)}o.push(a)}return o},T=function(e,t){for(var o=[],n=d.TableMap.get(e),a=0;a<n.height;a++){for(var r=e.child(a),i=[],s=0;s<n.width;s++)if(t[a][s]){var l=n.map[a*n.width+s],p=t[a][s],c=e.nodeAt(l),u=c.type.createChecked(Object.assign({},p.attrs),p.content,p.marks);i.push(u)}o.push(r.type.createChecked(r.attrs,i,r.marks))}var f=e.type.createChecked(e.attrs,o,e.marks);return f},A=function(e,t,o,n){var a=N(P(e.node));return a=I(a,t,o,n),a=N(a),T(e.node,a)},D=function(e,t,o,n){var a=P(e.node);return a=I(a,t,o,n),T(e.node,a)},I=function(e,t,o,n){var a=t[0]>o[0]?-1:1,r=e.splice(t[0],t.length),i=0==r.length%2?1:0,s=void 0;return s=-1===n&&1==a?o[0]-1:1===n&&-1==a?o[o.length-1]-i+1:-1==a?o[0]:o[o.length-1]-i,e.splice.apply(e,[s,0].concat(r)),e},E=function(e,t,o,n){var a=e>t?-1:1,r='Target position is invalid, you can\'t move the '+n+' '+e+' to '+t+', the target can\'t be split. You could use tryToFit option.';if(1==a){if(-1!==o.slice(0,o.length-1).indexOf(t))throw new Error(r);}else if(-1!==o.slice(1).indexOf(t))throw new Error(r);return!0},$=function(e){return function(t){var o=t.$from;return R(o,e)}},R=function(e,t){for(var o=e.depth,n;0<o;o--)if(n=e.node(o),t(n))return{pos:0<o?e.before(o):0,start:e.start(o),depth:o,node:n}},B=function(e,t){return function(o){var n=$(e)(o);if(n)return V(n.pos,t)}},z=function(e){return function(t){return!!$(e)(t)}},F=function(e){return function(t){return $(function(t){return y(e,t)})(t)}},L=function(e){var t=e.$from.nodeBefore,o=a.Selection.findFrom(e.$from,-1);if(o&&t){var n=F(t.type)(o);return n?n.pos:o.$from.pos}},V=function(e,t){var o=t(e),n=o.node.childNodes[o.offset];return o.node.nodeType===Node.TEXT_NODE?o.node.parentNode:n&&n.nodeType!==Node.TEXT_NODE?n:o.node},H=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var o=[];return e.descendants(function(e,n){if(o.push({node:e,pos:n}),!t)return!1}),o},j=function(e,t,o){if(!e)throw new Error('Invalid "node" parameter');else if(!t)throw new Error('Invalid "predicate" parameter');return H(e,o).filter(function(e){return t(e.node)})},W=function(e,t,o){return j(e,function(e){return e.type===t},o)},q=function(e){return $(function(e){return e.type.spec.tableRole&&'table'===e.type.spec.tableRole})(e)},K=function(e){return e instanceof d.CellSelection},J=function(e){if(K(e)){var t=d.TableMap.get(e.$anchorCell.node(-1));return O({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},U=function(e){return function(t){var o=q(t);if(o){var n=d.TableMap.get(o.node),a=Array.isArray(e)?e:Array.from([e]);return a.reduce(function(e,t){if(0<=t&&t<=n.width-1){var a=n.cellsInRect({left:t,right:t+1,top:0,bottom:n.height});return e.concat(a.map(function(e){var t=o.node.nodeAt(e),n=e+o.start;return{pos:n,start:n+1,node:t}}))}},[])}}},G=function(e){return function(t){var o=q(t);if(o){var n=d.TableMap.get(o.node),a=Array.isArray(e)?e:Array.from([e]);return a.reduce(function(e,t){if(0<=t&&t<=n.height-1){var a=n.cellsInRect({left:0,right:n.width,top:t,bottom:t+1});return e.concat(a.map(function(e){var t=o.node.nodeAt(e),n=e+o.start;return{pos:n,start:n+1,node:t}}))}},[])}}},X=function(e){return function(t,o){return function(n){var a=q(n.selection),i='row'===e;if(a){var l=d.TableMap.get(a.node);if(0<=t&&t<(i?l.height:l.width)){var p=i?0:t,c=i?t:0,u=i?l.width:t+1,f=i?t+1:l.height;if(o){var m=ae(n.selection.$from);if(!m)return n;var h=l.findCell(m.pos-a.start);i?(c=r(c,h.top),f=s(f,h.bottom)):(p=r(p,h.left),u=s(u,h.right))}var g=l.cellsInRect({left:p,top:c,right:i?u:p+1,bottom:i?c+1:f}),y=1==f-c?g:l.cellsInRect({left:i?p:u-1,top:i?f-1:c,right:u,bottom:f}),v=a.start+g[0],k=a.start+y[y.length-1],x=n.doc.resolve(v),S=n.doc.resolve(k);return b(n.setSelection(new d.CellSelection(S,x)))}}return n}}},Y=X('column'),Q=X('row'),Z=function(e){return function(t){var o=q(t.selection);if(o){var a=d.TableMap.get(o.node);if(0<=e&&e<=a.height){for(var r=o.node,s=S(r.type.schema),l=o.start,p=0;p<e+1;p++)l+=r.child(p).nodeSize;var i=r.child(e),c=[],u=0;if(i.forEach(function(e){1===e.attrs.rowspan&&(u+=e.attrs.colspan,c.push(s[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))}),u<a.width){for(var f=[],m=function(o){var a=ie(o,function(t){var n=t.node.attrs.rowspan;return 1<n&&o+n>e})(t);f.push.apply(f,n(a))},g=e;0<=g;g--)m(g);f.length&&f.forEach(function(e){t=ne(e,{rowspan:e.node.attrs.rowspan+1})(t)})}return h(s.row.create(i.attrs,c),l)(t)}}return t}},ee=function(e){return function(t){var o=q(t.selection);if(o){var n=d.TableMap.get(o.node);if(0===e&&1===n.width)return oe(t);if(0<=e&&e<=n.width)return d.removeColumn(t,{map:n,tableStart:o.start,table:o.node},e),b(t)}return t}},te=function(e){return function(t){var o=q(t.selection);if(o){var n=d.TableMap.get(o.node);if(0===e&&1===n.height)return oe(t);if(0<=e&&e<=n.height)return d.removeRow(t,{map:n,tableStart:o.start,table:o.node},e),b(t)}return t}},oe=function(e){for(var t=e.selection.$from,o=t.depth,n;0<o;o--)if(n=t.node(o),'table'===n.type.spec.tableRole)return b(e.delete(t.before(o),t.after(o)));return e},ne=function(e,t){return function(o){return e?(o.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),b(o)):o}},ae=function(e){return R(e,function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)})},re=function(e){var t=ae(e);if(t){var o=_(e),n=d.TableMap.get(o.node),a=t.pos-o.start;return n.rectBetween(a,a)}},ie=function(e,t){return function(o){var n=[],a=G(e)(o.selection);if(a)for(var r=a.length-1;0<=r;r--)t(a[r],o)&&n.push(a[r]);return n}},se=function(e){return function(t){for(var o=e,n=e,a=function(e){var a=U(e)(t.selection);a&&a.forEach(function(t){var a=t.node.attrs.colspan+e-1;a>=o&&(o=e),a>n&&(n=a)})},r=e;0<=r;r--)a(r);for(var i=function(e){var o=U(e)(t.selection);o&&o.forEach(function(t){var o=t.node.attrs.colspan+e-1;1<t.node.attrs.colspan&&o>n&&(n=o)})},r=e;r<=n;r++)i(r);for(var s=[],r=o,d;r<=n;r++)d=U(r)(t.selection),d&&d.length&&s.push(r);o=s[0],n=s[s.length-1];for(var l=U(o)(t.selection),p=G(0)(t.selection),c=t.doc.resolve(l[l.length-1].pos),u=void 0,f=n,m;f>=o;f--)if(m=U(f)(t.selection),m&&m.length){for(var h=p.length-1;0<=h;h--)if(p[h].pos===m[0].pos){u=m[0];break}if(u)break}var g=t.doc.resolve(u.pos);return{$anchor:c,$head:g,indexes:s}}},de=function(e){return function(t){for(var o=e,n=e,a=function(e){var a=G(e)(t.selection);a.forEach(function(t){var a=t.node.attrs.rowspan+e-1;a>=o&&(o=e),a>n&&(n=a)})},r=e;0<=r;r--)a(r);for(var i=function(e){var o=G(e)(t.selection);o.forEach(function(t){var o=t.node.attrs.rowspan+e-1;1<t.node.attrs.rowspan&&o>n&&(n=o)})},r=e;r<=n;r++)i(r);for(var s=[],r=o,d;r<=n;r++)d=G(r)(t.selection),d&&d.length&&s.push(r);o=s[0],n=s[s.length-1];for(var l=G(o)(t.selection),p=U(0)(t.selection),c=t.doc.resolve(l[l.length-1].pos),u=void 0,f=n,m;f>=o;f--)if(m=G(f)(t.selection),m&&m.length){for(var h=p.length-1;0<=h;h--)if(p[h].pos===m[0].pos){u=m[0];break}if(u)break}var g=t.doc.resolve(u.pos);return{$anchor:c,$head:g,indexes:s}}};t.isNodeSelection=g,t.canInsert=w,t.convertTableNodeToArrayOfRows=P,t.convertArrayOfRowsToTableNode=T,t.findParentNode=$,t.findParentNodeClosestToPos=R,t.findParentDomRef=B,t.hasParentNode=z,t.findParentNodeOfType=F,t.findParentNodeOfTypeClosestToPos=function(e,t){return R(e,function(e){return y(t,e)})},t.hasParentNodeOfType=function(e){return function(t){return z(function(t){return y(e,t)})(t)}},t.findParentDomRefOfType=function(e,t){return function(o){return B(function(t){return y(e,t)},t)(o)}},t.findSelectedNodeOfType=function(e){return function(t){if(g(t)){var o=t.node,n=t.$from;if(y(e,o))return{node:o,pos:n.pos,depth:n.depth}}}},t.findPositionOfNodeBefore=L,t.findDomRefAtPos=V,t.flatten=H,t.findChildren=j,t.findTextNodes=function(e,t){return j(e,function(e){return e.isText},t)},t.findInlineNodes=function(e,t){return j(e,function(e){return e.isInline},t)},t.findBlockNodes=function(e,t){return j(e,function(e){return e.isBlock},t)},t.findChildrenByAttr=function(e,t,o){return j(e,function(e){return!!t(e.attrs)},o)},t.findChildrenByType=W,t.findChildrenByMark=function(e,t,o){return j(e,function(e){return t.isInSet(e.marks)},o)},t.contains=function(e,t){return!!W(e,t).length},t.findTable=q,t.isCellSelection=K,t.getSelectionRect=function(e){if(K(e)){var t=e.$anchorCell.start(-1),o=d.TableMap.get(e.$anchorCell.node(-1));return o.rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(K(t)){var o=d.TableMap.get(t.$anchorCell.node(-1));return O({left:e,right:e+1,top:0,bottom:o.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(K(t)){var o=d.TableMap.get(t.$anchorCell.node(-1));return O({left:0,right:o.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=J,t.getCellsInColumn=U,t.getCellsInRow=G,t.getCellsInTable=function(e){var t=q(e);if(t){var o=d.TableMap.get(t.node),n=o.cellsInRect({left:0,right:o.width,top:0,bottom:o.height});return n.map(function(e){var o=t.node.nodeAt(e),n=e+t.start;return{pos:n,start:n+1,node:o}})}},t.selectColumn=Y,t.selectRow=Q,t.selectTable=function(e){var t=q(e.selection);if(t){var o=d.TableMap.get(t.node),n=o.map;if(n&&n.length){var a=t.start+n[0],r=t.start+n[n.length-1],i=e.doc.resolve(a),s=e.doc.resolve(r);return b(e.setSelection(new d.CellSelection(s,i)))}}return e},t.emptyCell=function(e,t){return function(o){if(e){var n=S(t).cell.createAndFill(),a=n.content;if(!e.node.content.eq(a))return o.replaceWith(e.pos+1,e.pos+e.node.nodeSize,a),b(o)}return o}},t.addColumnAt=function(e){return function(t){var o=q(t.selection);if(o){var n=d.TableMap.get(o.node);if(0<=e&&e<=n.width)return b(d.addColumn(t,{map:n,tableStart:o.start,table:o.node},e))}return t}},t.moveRow=function(e,t,o){return function(n){var a=Object.assign({tryToFit:!1,direction:0},o),r=q(n.selection);if(!r)return n;var i=de(e)(n),s=i.indexes,d=de(t)(n),l=d.indexes;if(-1<s.indexOf(t))return n;!a.tryToFit&&1<l.length&&E(e,t,l,'row');var p=D(r,s,l,a.direction);return b(n).replaceWith(r.pos,r.pos+r.node.nodeSize,p)}},t.moveColumn=function(e,t,o){return function(n){var a=Object.assign({tryToFit:!1,direction:0},o),r=q(n.selection);if(!r)return n;var i=se(e)(n),s=i.indexes,d=se(t)(n),l=d.indexes;if(-1<s.indexOf(t))return n;!a.tryToFit&&1<l.length&&E(e,t,l,'column');var p=A(r,s,l,a.direction);return b(n).replaceWith(r.pos,r.pos+r.node.nodeSize,p)}},t.addRowAt=function(e,t){return function(o){var n=q(o.selection);if(n){var a=d.TableMap.get(n.node),r=e-1;if(t&&0<=r)return b(Z(r)(o));if(0<=e&&e<=a.height)return b(d.addRow(o,{map:a,tableStart:n.start,table:n.node},e))}return o}},t.cloneRowAt=Z,t.removeColumnAt=ee,t.removeRowAt=te,t.removeTable=oe,t.removeSelectedColumns=function(e){var t=e.selection;if(J(t))return oe(e);if(K(t)){var o=q(t);if(o){var n=d.TableMap.get(o.node),a=n.rectBetween(t.$anchorCell.pos-o.start,t.$headCell.pos-o.start);if(0==a.left&&a.right==n.width)return!1;for(var r=Object.assign({},a,{map:n,table:o.node,tableStart:o.start}),s=r.right-1;;s--){if(d.removeColumn(e,r,s),s===r.left)break;r.table=r.tableStart?e.doc.nodeAt(r.tableStart-1):e.doc,r.map=d.TableMap.get(r.table)}return b(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(J(t))return oe(e);if(K(t)){var o=q(t);if(o){var n=d.TableMap.get(o.node),a=n.rectBetween(t.$anchorCell.pos-o.start,t.$headCell.pos-o.start);if(0==a.top&&a.bottom==n.height)return!1;for(var r=Object.assign({},a,{map:n,table:o.node,tableStart:o.start}),s=r.bottom-1;;s--){if(d.removeRow(e,r,s),s===r.top)break;r.table=r.tableStart?e.doc.nodeAt(r.tableStart-1):e.doc,r.map=d.TableMap.get(r.table)}return b(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var o=re(e);return o?ee(o.left)(c(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var o=re(e);return o?te(o.top)(c(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,o){return function(n){var r=U(e)(n.selection);if(r){for(var s=r.length-1;0<=s;s--)n=t(r[s],n);if(o){var i=n.doc.resolve(n.mapping.map(r[r.length-1].pos));n.setSelection(a.Selection.near(i))}return b(n)}return n}},t.forEachCellInRow=function(e,t,o){return function(n){var r=G(e)(n.selection);if(r){for(var s=r.length-1;0<=s;s--)n=t(r[s],n);if(o){var i=n.doc.resolve(n.mapping.map(r[r.length-1].pos));n.setSelection(a.Selection.near(i))}}return n}},t.setCellAttrs=ne,t.createTable=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,r=S(e),s=r.cell,d=r.header_cell,l=r.row,p=r.table,c=[],u=[],f=0;f<o;f++)c.push(M(s,a)),n&&u.push(M(d,a));for(var i=[],m=0;m<t;m++)i.push(l.createChecked(null,n&&0===m?u:c));return p.createChecked(null,i)},t.findCellClosestToPos=ae,t.findCellRectClosestToPos=re,t.getSelectionRangeInColumn=se,t.getSelectionRangeInRow=de,t.removeParentNodeOfType=function(e){return function(t){var o=F(e)(t.selection);return o?x(o.pos)(t):t}},t.replaceParentNodeOfType=l,t.removeSelectedNode=function(e){if(g(e.selection)){var t=e.selection.$from.pos,o=e.selection.$to.pos;return b(e.delete(t,o))}return e},t.replaceSelectedNode=p,t.setTextSelection=c,t.safeInsert=h,t.setParentNodeMarkup=function(e,t,o,n){return function(a){var r=F(e)(a.selection);return r?b(a.setNodeMarkup(r.pos,t,Object.assign({},r.node.attrs,o),n)):a}},t.selectParentNodeOfType=function(e){return function(t){if(!g(t.selection)){var o=F(e)(t.selection);if(o)return b(t.setSelection(a.NodeSelection.create(t.doc,o.pos)))}return t}},t.removeNodeBefore=function(e){var t=L(e.selection);return'number'==typeof t?x(t)(e):e}},"989c":function(e,t,o){'use strict';o.r(t);var n=o('aaf4'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},"9ea7":function(e,o){'use strict';Object.defineProperty(o,'__esModule',{value:!0}),o.keyName=function(e){var t=c&&(e.ctrlKey||e.altKey||e.metaKey)||(s||p)&&e.shiftKey&&e.key&&1==e.key.length,o=!t&&e.key||(e.shiftKey?a:n)[e.keyCode]||e.key||'Unidentified';return'Esc'==o&&(o='Escape'),'Del'==o&&(o='Delete'),'Left'==o&&(o='ArrowLeft'),'Up'==o&&(o='ArrowUp'),'Right'==o&&(o='ArrowRight'),'Down'==o&&(o='ArrowDown'),o},o.shift=o.base=void 0;var n={8:'Backspace',9:'Tab',10:'Enter',12:'NumLock',13:'Enter',16:'Shift',17:'Control',18:'Alt',20:'CapsLock',27:'Escape',32:' ',33:'PageUp',34:'PageDown',35:'End',36:'Home',37:'ArrowLeft',38:'ArrowUp',39:'ArrowRight',40:'ArrowDown',44:'PrintScreen',45:'Insert',46:'Delete',59:';',61:'=',91:'Meta',92:'Meta',106:'*',107:'+',108:',',109:'-',110:'.',111:'/',144:'NumLock',145:'ScrollLock',160:'Shift',161:'Shift',162:'Control',163:'Control',164:'Alt',165:'Alt',173:'-',186:';',187:'=',188:',',189:'-',190:'.',191:'/',192:'`',219:'[',220:'\\',221:']',222:'\'',229:'q'};o.base=n;var a={48:')',49:'!',50:'@',51:'#',52:'$',53:'%',54:'^',55:'&',56:'*',57:'(',59:':',61:'+',173:'_',186:':',187:'+',188:'<',189:'_',190:'>',191:'?',192:'~',219:'{',220:'|',221:'}',222:'"',229:'Q'};o.shift=a;for(var r='undefined'!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s='undefined'!=typeof navigator&&/Apple Computer/.test(navigator.vendor),d='undefined'!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l='undefined'!=typeof navigator&&/Mac/.test(navigator.platform),p='undefined'!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=r&&(l||57>+r[1])||d&&l,u=0;10>u;u++)n[48+u]=n[96+u]=u+'';for(var u=1;24>=u;u++)n[u+111]='F'+u;for(var u=65;90>=u;u++)n[u]=t(u+32),a[u]=t(u);for(var i in n)a.hasOwnProperty(i)||(a[i]=n[i])},a15f:function(e,t,o){'use strict';function n(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function a(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?n(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e){return p(e)||l(e)||d(e)||s()}function s(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function d(e,t){if(e){if('string'==typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}function l(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function p(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}Object.defineProperty(t,'__esModule',{value:!0}),t.getMarkAttrs=function(e,t){var o=e.selection,n=o.from,a=o.to,r=[];e.doc.nodesBetween(n,a,function(e){r=[].concat(i(r),i(e.marks))});var s=r.find(function(e){return e.type.name===t.name});return s?s.attrs:{}},t.getMarkRange=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!e||!t)return!1;var o=e.parent.childAfter(e.parentOffset);if(!o.node)return!1;var n=o.node.marks.find(function(e){return e.type===t});if(!n)return!1;for(var a=e.index(),r=e.start()+o.offset,i=a+1,s=r+o.node.nodeSize;0<a&&n.isInSet(e.parent.child(a-1).marks);)a-=1,r-=e.parent.child(a).nodeSize;for(;i<e.parent.childCount&&n.isInSet(e.parent.child(i).marks);)s+=e.parent.child(i).nodeSize,i+=1;return{from:r,to:s}},t.getNodeAttrs=function(e,t){var o=e.selection,n=o.from,a=o.to,r=[];e.doc.nodesBetween(n,a,function(e){r=[].concat(i(r),[e])});var s=r.reverse().find(function(e){return e.type.name===t.name});return s?s.attrs:{}},t.markIsActive=function(e,t){var o=e.selection,n=o.from,a=o.$from,r=o.to,i=o.empty;return i?!!t.isInSet(e.storedMarks||a.marks()):!!e.doc.rangeHasMark(n,r,t)},t.nodeEqualsType=function(e){var t=e.types,o=e.node;return Array.isArray(t)&&t.includes(o.type)||o.type===t},t.nodeIsActive=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=(0,u.findSelectedNodeOfType)(t)(e.selection)||(0,u.findParentNode)(function(e){return e.type===t})(e.selection);return Object.keys(o).length&&n?n.node.hasMarkup(t,a(a({},n.node.attrs),o)):!!n};var u=o('986d')},a32a:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('label',e._b({staticClass:'Toggle'},'label',e.attrs,!1),[o('input',{staticClass:'Toggle_checkbox',attrs:{type:'checkbox'},domProps:{checked:e.transformedValue},on:{click:function(){return e.onInput(!e.transformedValue)}}}),o('div',{staticClass:'Toggle_container'}),e.label?o('p',{staticClass:'Toggle_label'},[e._v(e._s(e.label))]):e._e()])},a=[]},a3c4:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={name:'ToggleBase',props:{value:{type:[Boolean,String],default:!1},label:{type:String,default:''},transformer:{type:[Object,Boolean],default:!1},attrs:{type:Object,default:function(){}}},computed:{transformedValue:function(){return this.$props.transformer?this.$props.transformer.get(this.$props.value):this.$props.value}},methods:{onInput:function(e){this.$emit('input',this.$props.transformer?this.$props.transformer.set(e):e)}}};t.default=o},a9de:function(e,t,o){'use strict';function n(e){return s(e)||i(e)||r(e)||a()}function a(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function r(e,t){if(e){if('string'==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function i(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function s(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function l(e,t,o){var a=[];return o.doc.nodesBetween(e,t,function(e,t){a=[].concat(n(a),n(e.marks.map(function(o){return{start:t,end:t+e.nodeSize,mark:o}})))}),a}function p(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length?arguments[3]:void 0,a=e.resolve(t),r=a.depth-o,s=n&&n[n.length-1]||a.parent;if(0>r||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!s.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(var l=a.depth-1,d=o-2;l>r;l--,d--){var i=a.node(l),p=a.index(l);if(i.type.spec.isolating)return!1;var c=i.content.cutByIndex(p,i.childCount),u=n&&n[d]||i;if(u!=i&&(c=c.replaceChild(0,u.type.create(u.attrs))),!i.canReplace(p+1,i.childCount))return!1}var f=a.indexAfter(r),m=n&&n[0];return a.node(r).canReplaceWith(f,f,m?m.type:a.node(r+1).type)}function c(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}Object.defineProperty(t,'__esModule',{value:!0}),t.insertText=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'';return function(t,o){var n=t.selection.$from,a=n.pos.pos;return o(t.tr.insertText(e,a)),!0}},t.markInputRule=function(e,t,o){return new m.InputRule(e,function(e,n,a,r){var i=o instanceof Function?o(n):o,s=e.tr,d=n.length-1,p=r,c=a;if(n[d]){var u=a+n[0].indexOf(n[d-1]),f=u+n[d-1].length-1,m=u+n[d-1].lastIndexOf(n[d]),h=m+n[d].length,g=l(a,r,e).filter(function(e){var o=e.mark.type.excluded;return o.find(function(e){return e.name===t.name})}).filter(function(e){return e.end>u});if(g.length)return!1;h<f&&s.delete(h,f),m>u&&s.delete(u,m),c=u,p=c+n[d].length}return s.addMark(c,p,t.create(i)),s.removeStoredMark(t),s})},t.markPasteRule=function(e,t,o){var n=function n(a,r){var i=[];return a.forEach(function(a){if(a.isText){for(var s=a.text,d=a.marks,l=0,p=!!d.filter(function(e){return'link'===e.type.name})[0],c;!p&&null!==(c=e.exec(s));)if(r&&r.type.allowsMarkType(t)&&c[1]){var u=c.index,f=u+c[0].length,m=u+c[0].indexOf(c[1]),h=m+c[1].length,g=o instanceof Function?o(c):o;0<u&&i.push(a.cut(l,u)),i.push(a.cut(m,h).mark(t.create(g).addToSet(a.marks))),l=f}l<s.length&&i.push(a.cut(l))}else i.push(a.copy(n(a.content,a)))}),g.Fragment.fromArray(i)};return new h.Plugin({props:{transformPasted:function(e){return new g.Slice(n(e.content),e.openStart,e.openEnd)}}})},t.nodeInputRule=function(e,t,o){return new m.InputRule(e,function(e,n,a,r){var i=o instanceof Function?o(n):o,s=e.tr;return n[0]&&s.replaceWith(a-1,r,t.create(i)),s})},t.pasteRule=function(e,t,o){var n=function n(a){var r=[];return a.forEach(function(a){if(a.isText){var i=a.text,s=0,d;do if(d=e.exec(i),d){var l=d.index,p=l+d[0].length,c=o instanceof Function?o(d[0]):o;0<l&&r.push(a.cut(s,l)),r.push(a.cut(l,p).mark(t.create(c).addToSet(a.marks))),s=p}while(d);s<i.length&&r.push(a.cut(s))}else r.push(a.copy(n(a.content)))}),g.Fragment.fromArray(r)};return new h.Plugin({props:{transformPasted:function(e){return new g.Slice(n(e.content),e.openStart,e.openEnd)}}})},t.removeMark=function(e){return function(t,o){var n=t.tr,a=t.selection,r=a.from,i=a.to,s=a.$from,d=a.empty;if(d){var l=(0,y.getMarkRange)(s,e);r=l.from,i=l.to}return n.removeMark(r,i,e),o(n)}},t.replaceText=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(n,a){var r=n.selection,i=r.$from,s=r.$to,d=i.index(),l=e?e.from:i.pos,p=e?e.to:s.pos;return!!i.parent.canReplaceWith(d,d,t)&&(a&&a(n.tr.replaceWith(l,p,t.create(o))),!0)}},t.setInlineBlockType=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(o,n){var a=o.selection.$from,r=a.index();return!!a.parent.canReplaceWith(r,r,e)&&(n&&n(o.tr.replaceSelectionWith(e.create(t))),!0)}},t.splitToDefaultListItem=function(e){return function(t,o){var n=t.selection,a=n.$from,r=n.$to,i=n.node;if(i&&i.isBlock||2>a.depth||!a.sameParent(r))return!1;var s=a.node(-1);if(s.type!=e)return!1;if(0==a.parent.content.size){if(2==a.depth||a.node(-3).type!=e||a.index(-2)!=a.node(-2).childCount-1)return!1;if(o){for(var l=g.Fragment.empty,c=0<a.index(-1),u=a.depth-(c?1:2);u>=a.depth-3;u--)l=g.Fragment.from(a.node(u).copy(l));l=l.append(g.Fragment.from(e.createAndFill()));var d=t.tr.replace(a.before(c?null:-1),a.after(-3),new g.Slice(l,c?3:2,2));d.setSelection(t.selection.constructor.near(d.doc.resolve(a.pos+(c?3:2)))),o(d.scrollIntoView())}return!0}var f=r.pos==a.end()?s.contentMatchAt(a.indexAfter(-1)).defaultType:null,m=t.tr.delete(a.pos,r.pos),h=f&&[{type:e},{type:f}];return(h||(h=[{type:e},null]),!!p(m.doc,a.pos,2,h))&&(o&&o(m.split(a.pos,2,h).scrollIntoView()),!0)}},t.toggleBlockType=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(n,a,r){var i=(0,y.nodeIsActive)(n,e,o);return i?(0,u.setBlockType)(t)(n,a,r):(0,u.setBlockType)(e,o)(n,a,r)}},t.toggleList=function(e,t){return function(o,n,a){var r=o.schema,i=o.selection,s=i.$from,d=i.$to,l=s.blockRange(d);if(!l)return!1;var p=(0,b.findParentNode)(function(e){return c(e,r)})(i);if(1<=l.depth&&p&&1>=l.depth-p.depth){if(p.node.type===e)return(0,f.liftListItem)(t)(o,n,a);if(c(p.node,r)&&e.validContent(p.node.content)){var u=o.tr;return u.setNodeMarkup(p.pos,e),n&&n(u),!1}}return(0,f.wrapInList)(e)(o,n,a)}},t.toggleWrap=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(o,n,a){var r=(0,y.nodeIsActive)(o,e,t);return r?(0,u.lift)(o,n):(0,u.wrapIn)(e,t)(o,n,a)}},t.updateMark=function(e,t){return function(o,n){var a=o.tr,r=o.selection,i=o.doc,s=r.ranges,d=r.empty;if(d){var l=(0,y.getMarkRange)(r.$from,e),p=l.from,c=l.to;i.rangeHasMark(p,c,e)&&a.removeMark(p,c,e),a.addMark(p,c,e.create(t))}else s.forEach(function(o){var n=o.$to,r=o.$from;i.rangeHasMark(r.pos,n.pos,e)&&a.removeMark(r.pos,n.pos,e),a.addMark(r.pos,n.pos,e.create(t))});return n(a)}},Object.defineProperty(t,'autoJoin',{enumerable:!0,get:function(){return u.autoJoin}}),Object.defineProperty(t,'baseKeymap',{enumerable:!0,get:function(){return u.baseKeymap}}),Object.defineProperty(t,'chainCommands',{enumerable:!0,get:function(){return u.chainCommands}}),Object.defineProperty(t,'createParagraphNear',{enumerable:!0,get:function(){return u.createParagraphNear}}),Object.defineProperty(t,'deleteSelection',{enumerable:!0,get:function(){return u.deleteSelection}}),Object.defineProperty(t,'exitCode',{enumerable:!0,get:function(){return u.exitCode}}),Object.defineProperty(t,'joinBackward',{enumerable:!0,get:function(){return u.joinBackward}}),Object.defineProperty(t,'joinDown',{enumerable:!0,get:function(){return u.joinDown}}),Object.defineProperty(t,'joinForward',{enumerable:!0,get:function(){return u.joinForward}}),Object.defineProperty(t,'joinUp',{enumerable:!0,get:function(){return u.joinUp}}),Object.defineProperty(t,'lift',{enumerable:!0,get:function(){return u.lift}}),Object.defineProperty(t,'liftEmptyBlock',{enumerable:!0,get:function(){return u.liftEmptyBlock}}),Object.defineProperty(t,'macBaseKeymap',{enumerable:!0,get:function(){return u.macBaseKeymap}}),Object.defineProperty(t,'newlineInCode',{enumerable:!0,get:function(){return u.newlineInCode}}),Object.defineProperty(t,'pcBaseKeymap',{enumerable:!0,get:function(){return u.pcBaseKeymap}}),Object.defineProperty(t,'selectAll',{enumerable:!0,get:function(){return u.selectAll}}),Object.defineProperty(t,'selectNodeBackward',{enumerable:!0,get:function(){return u.selectNodeBackward}}),Object.defineProperty(t,'selectNodeForward',{enumerable:!0,get:function(){return u.selectNodeForward}}),Object.defineProperty(t,'selectParentNode',{enumerable:!0,get:function(){return u.selectParentNode}}),Object.defineProperty(t,'setBlockType',{enumerable:!0,get:function(){return u.setBlockType}}),Object.defineProperty(t,'splitBlock',{enumerable:!0,get:function(){return u.splitBlock}}),Object.defineProperty(t,'splitBlockKeepMarks',{enumerable:!0,get:function(){return u.splitBlockKeepMarks}}),Object.defineProperty(t,'toggleMark',{enumerable:!0,get:function(){return u.toggleMark}}),Object.defineProperty(t,'wrapIn',{enumerable:!0,get:function(){return u.wrapIn}}),Object.defineProperty(t,'addListNodes',{enumerable:!0,get:function(){return f.addListNodes}}),Object.defineProperty(t,'liftListItem',{enumerable:!0,get:function(){return f.liftListItem}}),Object.defineProperty(t,'sinkListItem',{enumerable:!0,get:function(){return f.sinkListItem}}),Object.defineProperty(t,'splitListItem',{enumerable:!0,get:function(){return f.splitListItem}}),Object.defineProperty(t,'wrapInList',{enumerable:!0,get:function(){return f.wrapInList}}),Object.defineProperty(t,'textblockTypeInputRule',{enumerable:!0,get:function(){return m.textblockTypeInputRule}}),Object.defineProperty(t,'wrappingInputRule',{enumerable:!0,get:function(){return m.wrappingInputRule}});var u=o('0010'),f=o('665f'),m=o('f95e'),h=o('5313'),g=o('304a'),y=o('a15f'),b=o('986d')},aaf4:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={name:'PaperButton',props:{subMenu:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},icon:{type:[String,Boolean],default:!1},currentNode:{type:Object,default:function(){}}}};t.default=o},adea:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'PaperEditor_popin'},[o('popin-base',e._b({attrs:{"is-active":e.isActive},on:{close:function(){return e.$emit('close')}}},'popin-base',e.attrs,!1),[o('template',{slot:'content'},[o('div',{staticClass:'p-30'},[e._v(' '+e._s(e.content)+' '),e._l(e.form,function(t,n){return o('div',{key:n,staticClass:'mv-20'},[o(t.is?t.is:'input-base',e._b({tag:'component',attrs:{value:t.transformer&&t.transformer.get?t.transformer.get(e.value[n]):e.value[n]},on:{input:function(t){return e.value[n]=t}}},'component',t,!1))],1)})],2)]),o('template',{slot:'footer'},[o('div'),o('button-base',{on:{click:e.onInput}},[e._v(' Valider ')])],1)],2)],1)},a=[]},b381:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'InputBase_errors',class:{"is-active":e.isActive}},[o('i',{directives:[{name:'show',rawName:'v-show',value:e.isValid,expression:'isValid'}],staticClass:'InputBase_errorValid fal fa-check'}),o('i',{directives:[{name:'show',rawName:'v-show',value:!e.isValid,expression:'!isValid'}],staticClass:'InputBase_errorInvalid fal fa-times'}),o('div',{staticClass:'InputBase_errorPopin'},[e._l(e.errors,function(t){return[e._v(' '+e._s(t)+' ')]})],2)])},a=[]},b459:function(e,t,o){'use strict';o.r(t);var n=o('cdd3'),a=o('0e51');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},b533:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o('div',{staticClass:'SelectBase',class:{"is-active":t.state.isActive},on:{click:function(){t.state.isActive=!0}}},[t.label?o('label',{staticClass:'SelectBase_label'},[t._v(' '+t._s(t.label)+' ')]):t._e(),o('input',{ref:'search',staticClass:'SelectBase_value',attrs:{type:'text',placeholder:t.placeholder,disabled:!t.enableSearch},on:{focus:function(){return t.onFocus(!0)},blur:function(){return t.onFocus(!1)},input:function(o){return t.search=o.target.value}}}),t._m(0),o('div',{staticClass:'SelectBase_options'},[t._l(t.displayOptions,function(e){return o('div',{key:e.id,staticClass:'SelectBase_option',class:{"is-selected":t.selectedOptions.includes(e)},on:{click:function(o){o.stopPropagation(),t.onSelect(e.id,t.selectedOptions.includes(e))}}},[t._v(' '+t._s(e.label)+' '),t.enableMultiple?o('i',{staticClass:'SelectBase_optionCheck fal fa-check'}):t._e(),t.enableMultiple?o('i',{staticClass:'SelectBase_optionRemove fal fa-times'}):t._e()])}),t.enableAdd&&t.search&&!t.searchExists?o('div',{staticClass:'SelectBase_option SelectBase_option--add',on:{click:function(){return t.$emit('add',t.search)}}},[o('span',[o('i',{staticClass:'fal fa-plus mr-10'}),t._v(' '+t._s(t.$t('component.selectBase.add',{value:t.search}))+' ')])]):t._e(),0>=t.displayOptions.length&&!t.enableAdd&&t.enableSearch?o('div',{staticClass:'SelectBase_option SelectBase_option--no-results'},[o('span',[o('i',{staticClass:'fal fa-times mr-10'}),t._v(' '+t._s(t.$t('component.selectBase.noResults'))+' ')])]):t._e()],2)])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'Inputbase_helpers'},[o('div',{staticClass:'Inputbase_helper'},[o('i',{staticClass:'fal fa-angle-down'})])])}]},b6b1:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',e._l(e.tooltips,function(t){return o('tooltip',e._b({key:t.id},'tooltip',t,!1),[e._v(' '+e._s(t.content)+' ')])}),1)},a=[]},b80c:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;t.default={classes:['width-100']}},b87d:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=function(){return{id:'link',icon:'link',isMark:!0,popin:{form:{href:{label:'Lien',type:'text',value:''},target:{label:'Ouvrir dans un nouvel onglet',is:'toggle-base',value:'_self',transformer:{get:function(e){return'_blank'==e},set:function(e){return e?'_blank':'_self'}}}},attrs:{modifiers:['s','absolute-header']}}}}},b95c:function(e,t,o){'use strict';o.r(t);var n=o('1b97'),a=o('8846');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},ba5a:function(e,t,o){'use strict';o.r(t);var n=o('ea88'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},bbf9:function(e,t,o){'use strict';o.r(t);var n=o('214d'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},bc2d:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'InputUpload'},[o('div',{staticClass:'InputUpload_body'},[o('div',{staticClass:'InputUpload_input'},[o('input-base',{staticClass:'InputUpload_element',attrs:{modifiers:['file-upload'],type:'file',attrs:{multiple:!0}},on:{input:e.addFiles}}),e._m(0)],1),o('div',{directives:[{name:'show',rawName:'v-show',value:0<e.files.length,expression:'files.length > 0'}],staticClass:'InputUpload_upload',class:{"is-active":0<e.files.length}},e._l(e.files,function(t,n){return o('div',{key:n,staticClass:'InputUpload_file',class:{"is-loaded":t.loaded,"is-loading":t.loading}},[o('div',{staticClass:'InputUpload_title'},[o('span',{staticClass:'ft-l mr-10'},[o('i',{staticClass:'fal',class:[e.getTypeIcon(t.raw.type)]})]),e._v(' '+e._s(t.name)+' ')]),o('div',{staticClass:'InputUpload_status'},[t.loading||t.loaded||e.isLoading?e._e():o('i',{staticClass:'fal fa-times color-ft-weak',on:{click:function(o){return o.stopPropagation(),e.deleteFile(t.name)}}}),t.loading&&!t.loaded?o('i',{staticClass:'fal fa-spinner-third spin color-ft-weak'}):e._e(),t.loaded&&!t.error?o('i',{staticClass:'fal fa-check color-blueberry'}):e._e(),t.error?o('i',{staticClass:'fal fa-times color-error'}):e._e()])])}),0)]),o('div',{staticClass:'InputUpload_actions',class:{"is-active":0<e.queuedFiles.length&&!e.isLoading}},[o('div',[o('div',{staticClass:'ft-s color-ft-weak p-5',on:{click:function(){e.files=[]}}},[e._v('R\xE9initialiser')])]),o('button-base',{attrs:{modifiers:['s']},on:{click:function(t){return t.stopPropagation(),e.upload(t)}}},[e._v(' Uploader '+e._s(e.queuedFiles.length)+' fichier(s) ')])],1),o('div',{staticClass:'InputUpload_actions',class:{"is-active":!e.isLoading&&0<e.loadedFiles.length&&e.loadedFiles.length==e.files.length}},['success'==e.status?o('div',{staticClass:'text-center ft-s fx-grow color-blueberry ph-20'},[o('i',{staticClass:'fal fa-check mr-5'}),e._v(' Les fichiers ont \xE9t\xE9 charg\xE9s avec succ\xE8s. Ils se trouvent dans la Biblioth\xE8que de m\xE9dias. ')]):'partial'==e.status?o('div',{staticClass:'text-center ft-s fx-grow color-error ph-20'},[o('i',{staticClass:'fal fa-exclamation-triangle mr-5'}),e._v(' Certains fichiers n\'ont pas pu \xEAtre charg\xE9s, veuillez r\xE9essayer. ')]):'fail'==e.status?o('div',{staticClass:'text-center ft-s fx-grow color-error ph-20'},[o('i',{staticClass:'fal fa-times mr-5'}),e._v(' Les fichiers n\'ont pas pu \xEAtre charg\xE9s, veuillez r\xE9essayer. ')]):e._e()])])},a=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',[o('p',{staticClass:'ft-3xl'},[o('i',{staticClass:'fal fa-cloud-upload color-ft-weak fa-2x mb-10'})]),e._v(' Choisir des fichiers ou les faire glisser ')])}]},c12c:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o('div',{staticClass:'InputBase',class:[t.$modifiers].concat(t.classes)},[t.label?o('label',{staticClass:'InputBase_label'},[t._v(' '+t._s(t.label)+' ')]):t._e(),'file'==t.type?[o('button-base',{staticClass:'InputBase_fileSelect'},[t._v(' '+t._s(t.label||'Choisir un fichier')+' ')]),o('label',{staticClass:'InputBase_fileLabel'},[t._v(' '+t._s(0<t.value.length?1==t.value.length?t.value[0].name:t.value.length+' fichiers s\xE9lectionn\xE9s':'Aucun fichier s\xE9lectionn\xE9')+' ')]),o('input',t._b({staticClass:'InputBase_element',attrs:{type:t.type},on:{input:function(o){return t.onInput(Object.keys(o.target.files).map(function(e){return o.target.files[e]}))}}},'input',t.attrs,!1))]:[o('input',t._b({staticClass:'InputBase_element',attrs:{type:t.computedType},domProps:{value:t.value},on:{focus:function(){t.state.isFocused=!0},blur:function(){t.state.isFocused=!1},input:function(o){return t.onInput(o.target.value)}}},'input',t.attrs,!1))],0<t.helpers.length||0<Object.keys(t.constraints).length||t.suffix||t.$slots.default?o('div',{staticClass:'Inputbase_helpers'},[t._t('default'),t.helpers.includes('number')?o('helper-number',{staticClass:'Inputbase_helper',on:{increment:function(){return t.increment(1)},decrement:function(){return t.increment(-1)}}}):t._e(),t.helpers.includes('reset')?o('helper-reset',{staticClass:'Inputbase_helper',attrs:{"is-active":t.state.isValue},on:{click:t.reset}}):t._e(),t.helpers.includes('reveal')?o('helper-reveal',{staticClass:'Inputbase_helper',attrs:{"is-revealed":t.reveal},nativeOn:{click:function(){t.reveal=!t.reveal}}}):t._e(),t.suffix?o('div',{staticClass:'Inputbase_helper'},[t._v(' '+t._s(t.suffix)+' ')]):t._e(),0<Object.keys(t.constraints).length?o('helper-errors',{directives:[{name:'show',rawName:'v-show',value:t.state.isValue,expression:'state.isValue'}],staticClass:'Inputbase_helper',attrs:{errors:t.errors,"is-valid":t.state.isValid,"is-active":0<t.errors.length&&t.state.isFocused}}):t._e()],2):t._e()],2)},a=[]},c147:function(e,t){'use strict';function o(e){'@babel/helpers - typeof';return o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},o(e)}function n(e){return s(e)||i(e)||r(e)||a()}function a(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function r(e,t){if(e){if('string'==typeof e)return d(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}function i(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function s(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function p(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?l(Object(o),!0).forEach(function(t){c(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.validateWithConstraints=void 0;t.validateWithConstraints=function(e,t){var o=[];if(t=p({},t),t.boundsNumber){var a=u(e,t.boundsNumber);0<a.length&&(o=[].concat(n(o),n(a)))}return{valid:0==o.length,errors:o}};var u=function(e,t){var n=[];return e=parseInt(e),void 0!==o(t.value[0])&&e<t.value[0]&&n.push('boundsNumber.small'),void 0!==o(t.value[1])&&e>t.value[1]&&n.push('boundsNumber.big'),n}},c21e:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o=200,n=function(){};n.prototype.append=function(e){return e.length?(e=n.from(e),!this.length&&e||e.length<o&&this.leafAppend(e)||this.length<o&&e.leafPrepend(this)||this.appendInner(e)):this},n.prototype.prepend=function(e){return e.length?n.from(e).append(this):this},n.prototype.appendInner=function(e){return new i(this,e)},n.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?n.empty:this.sliceInner(s(0,e),r(this.length,t))},n.prototype.get=function(e){return 0>e||e>=this.length?void 0:this.getInner(e)},n.prototype.forEach=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=this.length),t<=o?this.forEachInner(e,t,o,0):this.forEachInvertedInner(e,t,o,0)},n.prototype.map=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=this.length);var n=[];return this.forEach(function(t,o){return n.push(e(t,o))},t,o),n},n.from=function(e){return e instanceof n?e:e&&e.length?new a(e):n.empty};var a=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,o){return 0==e&&o==this.length?this:new t(this.values.slice(e,o))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,o,n){for(var a=t;a<o;a++)if(!1===e(this.values[a],n+a))return!1},t.prototype.forEachInvertedInner=function(e,t,o,n){for(var a=t-1;a>=o;a--)if(!1===e(this.values[a],n+a))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=o)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=o)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(n);n.empty=new a([]);var i=function(e){function t(t,o){e.call(this),this.left=t,this.right=o,this.length=t.length+o.length,this.depth=s(t.depth,o.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,o,n){var a=this.left.length;return!(t<a&&!1===this.left.forEachInner(e,t,r(o,a),n))&&!(o>a&&!1===this.right.forEachInner(e,s(t-a,0),r(this.length,o)-a,n+a))&&void 0},t.prototype.forEachInvertedInner=function(e,t,o,n){var a=this.left.length;return!(t>a&&!1===this.right.forEachInvertedInner(e,t-a,s(o,a)-a,n+a))&&!(o<a&&!1===this.left.forEachInvertedInner(e,r(t,a),o,n))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var o=this.left.length;return t<=o?this.left.slice(e,t):e>=o?this.right.slice(e-o,t-o):this.left.slice(e,o).append(this.right.slice(0,t-o))},t.prototype.leafAppend=function(e){var o=this.right.leafAppend(e);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(e){var o=this.left.leafPrepend(e);if(o)return new t(o,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=s(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(n);t.default=n},c28e:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(e.tag,e._g(e._b({tag:'component',staticClass:'ButtonBase',class:[e.$modifiers,e.node?e.node.attrs.class:[]]},'component',e.computedAttrs,!1),e.$listeners),[o('div',{staticClass:'ButtonBase_content'},[e.iconBefore?o('span',{staticClass:'ButtonBase_iconBefore'},[o('i',{staticClass:'fal',class:['fa-'+e.iconBefore]})]):e._e(),e.$slots.before?o('span',{staticClass:'ButtonBase_before'},[e._t('before')],2):e._e(),o('span',{staticClass:'ButtonBase_text'},[e._v(' '+e._s(e.text?e.text:'')+' '),e._t('default')],2),e.$slots.after?o('span',{staticClass:'ButtonBase_after'},[e._t('after')],2):e._e(),e.iconAfter?o('span',{staticClass:'ButtonBase_iconAfter'},[o('i',{staticClass:'fal',class:['fa-'+e.iconAfter]})]):e._e()]),o('div',{staticClass:'ButtonBase_iconLoading'},[o('i',{staticClass:'fal',class:['fa-'+e.iconLoading]})])])},a=[]},c53b:function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n=o('f23d'),a=o('72e2'),r=o('727d'),i=o('6388'),s={menu:{link:a.LinkMenu,styledBlock:i.StyledBlockMenu,image:r.ImageMenu},plugins:function(){return[new n.Heading({levels:[1,2,3]}),new n.Bold,new n.Italic,new n.OrderedList,new n.BulletList,new n.ListItem,new r.ImageExtension,new n.History,new a.LinkExtension,new i.StyledBlockExtension]}};t.default=s},c740:function(e,t,o){'use strict';o.r(t);var n=o('0159'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},c8ef:function(e,t,o){'use strict';o.r(t);var n=o('bc2d'),a=o('f772');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},c92d:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;t.default={name:'HelperNumber'}},cb2f:function(e,t,o){'use strict';o.r(t);var n=o('5148'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},cd42:function(e,t,n){'use strict';function a(e,t){if(t&&('object'===p(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return i(e)}function i(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function d(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function p(e){'@babel/helpers - typeof';return p='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},p(e)}function c(e){return m(e)||f(e)||k(e)||u()}function u(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function f(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function m(e){if(Array.isArray(e))return x(e)}function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function g(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?h(Object(o),!0).forEach(function(t){y(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function y(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e,t){return w(e)||S(e,t)||k(e,t)||v()}function v(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function k(e,t){if(e){if('string'==typeof e)return x(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function S(e,t){var o=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=o){var n=[],a=!0,r=!1,i,s;try{for(o=o.call(e);!(a=(i=o.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,s=e}finally{try{a||null==o['return']||o['return']()}finally{if(r)throw s}}return n}}function w(e){if(Array.isArray(e))return e}function C(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function M(e,t,o){return t&&_(e.prototype,t),o&&_(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function O(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()}).replace(/\s+/g,'')}function N(e){var t=document.createElement('style');t.type='text/css',t.textContent=e;var o=document,n=o.head,a=n.firstChild;a?n.insertBefore(t,a):n.appendChild(t)}function P(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return r(s(parseInt(e,10),t),o)}function T(e){return new R.Plugin({key:new R.PluginKey('menu_bar'),view:function(t){return new ae({editorView:t,options:e})}})}function A(e,t,o){var n=document.createRange();return n.setEnd(e,null==o?e.nodeValue.length:o),n.setStart(e,t||0),n}function D(e,t){var o=e.getClientRects();return o.length?o[0>t?0:o.length-1]:e.getBoundingClientRect()}function I(e,t){var o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=e.docView.domFromPos(t),a=n.node,r=n.offset,i,s;if(3===a.nodeType)o&&r<a.nodeValue.length?(s=D(A(a,r-1,r),-1),i='right'):r<a.nodeValue.length&&(s=D(A(a,r,r+1),-1),i='left');else if(a.firstChild){if(r<a.childNodes.length){var d=a.childNodes[r];s=D(3===d.nodeType?A(d):d,-1),i='left'}if((!s||s.top===s.bottom)&&r){var l=a.childNodes[r-1];s=D(3===l.nodeType?A(l):l,1),i='right'}}else s=a.getBoundingClientRect(),i='left';var p=s[i];return{top:s.top,bottom:s.bottom,left:p,right:p}}function E(e){return new R.Plugin({key:new R.PluginKey('menu_bubble'),view:function(t){return new ie({editorView:t,options:e})}})}function $(e){return new R.Plugin({key:new R.PluginKey('floating_menu'),view:function(t){return new de({editorView:t,options:e})}})}Object.defineProperty(t,'__esModule',{value:!0}),Object.defineProperty(t,'NodeSelection',{enumerable:!0,get:function(){return R.NodeSelection}}),Object.defineProperty(t,'Plugin',{enumerable:!0,get:function(){return R.Plugin}}),Object.defineProperty(t,'PluginKey',{enumerable:!0,get:function(){return R.PluginKey}}),Object.defineProperty(t,'TextSelection',{enumerable:!0,get:function(){return R.TextSelection}}),t.Text=t.Paragraph=t.Node=t.Mark=t.Extension=t.EditorMenuBubble=t.EditorMenuBar=t.EditorFloatingMenu=t.EditorContent=t.Editor=t.Doc=void 0;var R=n('5313'),B=n('576a'),z=n('304a'),F=n('23f1'),L=n('1a16'),V=n('7f06'),H=n('0010'),j=n('f95e'),W=n('a15f'),q=function(e){return e&&e.__esModule?e:{default:e}}(n('8bbf')),K=n('a9de'),J=function(){function e(t,o){var n=o.editor,a=o.extension,r=o.parent,i=o.node,s=o.view,d=o.decorations,l=o.getPos;C(this,e),this.component=t,this.editor=n,this.extension=a,this.parent=r,this.node=i,this.view=s,this.decorations=d,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:l,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}return M(e,[{key:'createDOM',value:function(){var e=this,t=q.default.extend(this.component),o={editor:this.editor,node:this.node,view:this.view,getPos:function(){return e.getPos()},decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:function(t){return e.updateAttrs(t)}};return'function'==typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),'function'==typeof this.extension.update&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:o}).$mount(),this.vm.$el}},{key:'update',value:function(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t}),!0))}},{key:'updateComponentProps',value:function(e){var t=this;if(this.vm._props){var o=q.default.config.silent;q.default.config.silent=!0,Object.entries(e).forEach(function(e){var o=b(e,2),n=o[0],a=o[1];t.vm._props[n]=a}),q.default.config.silent=o}}},{key:'updateAttrs',value:function(e){if(this.view.editable){var t=this.view.state,o=this.node.type,n=this.getPos(),a=g(g({},this.node.attrs),e),r=this.isMark?t.tr.removeMark(n.from,n.to,o).addMark(n.from,n.to,o.create(a)):t.tr.setNodeMarkup(n,null,a);this.view.dispatch(r)}}},{key:'ignoreMutation',value:function(e){return'selection'!==e.type&&(!this.contentDOM||!this.contentDOM.contains(e.target))}},{key:'stopEvent',value:function(e){var t=this;if('function'==typeof this.extension.stopEvent)return this.extension.stopEvent(e);var o=!!this.extension.schema.draggable;if(o&&'mousedown'===e.type){var n=e.target.closest&&e.target.closest('[data-drag-handle]'),a=n&&(this.dom===n||this.dom.contains(n));a&&(this.captureEvents=!1,document.addEventListener('dragend',function(){t.captureEvents=!0},{once:!0}))}var r='copy'===e.type,i='paste'===e.type,s='cut'===e.type,d=e.type.startsWith('drag')||'drop'===e.type;return!(o&&d||r||i||s)&&this.captureEvents}},{key:'selectNode',value:function(){this.updateComponentProps({selected:!0})}},{key:'deselectNode',value:function(){this.updateComponentProps({selected:!1})}},{key:'getMarkPos',value:function(){var e=this.view.posAtDOM(this.dom),t=this.view.state.doc.resolve(e),o=(0,W.getMarkRange)(t,this.node.type);return o}},{key:'destroy',value:function(){this.vm.$destroy()}}]),e}(),U=function(){function e(){C(this,e)}return M(e,[{key:'on',value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:'emit',value:function(e){for(var t=this,o=arguments.length,n=Array(1<o?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];this._callbacks=this._callbacks||{};var r=this._callbacks[e];return r&&r.forEach(function(e){return e.apply(t,n)}),this}},{key:'off',value:function(e,t){if(!arguments.length)this._callbacks={};else{var o=this._callbacks?this._callbacks[e]:null;o&&(t?this._callbacks[e]=o.filter(function(e){return e!==t}):delete this._callbacks[e])}return this}}]),e}(),G=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};C(this,e),this.options=g(g({},this.defaultOptions),t)}return M(e,[{key:'init',value:function(){return null}},{key:'bindEditor',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.editor=e}},{key:'inputRules',value:function(){return[]}},{key:'pasteRules',value:function(){return[]}},{key:'keys',value:function(){return{}}},{key:'name',get:function(){return null}},{key:'type',get:function(){return'extension'}},{key:'defaultOptions',get:function(){return{}}},{key:'plugins',get:function(){return[]}}]),e}();t.Extension=G;var X=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],o=1<arguments.length?arguments[1]:void 0;C(this,e),t.forEach(function(e){e.bindEditor(o),e.init()}),this.extensions=t}return M(e,[{key:'keymaps',value:function(e){var t=e.schema,o=this.extensions.filter(function(e){return['extension'].includes(e.type)}).filter(function(e){return e.keys}).map(function(e){return e.keys({schema:t})}),n=this.extensions.filter(function(e){return['node','mark'].includes(e.type)}).filter(function(e){return e.keys}).map(function(e){return e.keys({type:t[''.concat(e.type,'s')][e.name],schema:t})});return[].concat(c(o),c(n)).map(function(e){return(0,V.keymap)(e)})}},{key:'inputRules',value:function(e){var t=e.schema,o=e.excludedExtensions;if(!(o instanceof Array)&&o)return[];var n=o instanceof Array?this.extensions.filter(function(e){return!o.includes(e.name)}):this.extensions,a=n.filter(function(e){return['extension'].includes(e.type)}).filter(function(e){return e.inputRules}).map(function(e){return e.inputRules({schema:t})}),r=n.filter(function(e){return['node','mark'].includes(e.type)}).filter(function(e){return e.inputRules}).map(function(e){return e.inputRules({type:t[''.concat(e.type,'s')][e.name],schema:t})});return[].concat(c(a),c(r)).reduce(function(e,t){return[].concat(c(e),c(t))},[])}},{key:'pasteRules',value:function(e){var t=e.schema,o=e.excludedExtensions;if(!(o instanceof Array)&&o)return[];var n=o instanceof Array?this.extensions.filter(function(e){return!o.includes(e.name)}):this.extensions,a=n.filter(function(e){return['extension'].includes(e.type)}).filter(function(e){return e.pasteRules}).map(function(e){return e.pasteRules({schema:t})}),r=n.filter(function(e){return['node','mark'].includes(e.type)}).filter(function(e){return e.pasteRules}).map(function(e){return e.pasteRules({type:t[''.concat(e.type,'s')][e.name],schema:t})});return[].concat(c(a),c(r)).reduce(function(e,t){return[].concat(c(e),c(t))},[])}},{key:'commands',value:function(e){var t=e.schema,o=e.view;return this.extensions.filter(function(e){return e.commands}).reduce(function(e,n){var a=n.name,r=n.type,i={},s=n.commands(g({schema:t},['node','mark'].includes(r)?{type:t[''.concat(r,'s')][a]}:{})),d=function(e,t){return!!o.editable&&(o.focus(),e(t)(o.state,o.dispatch,o))},l=function(e,t){Array.isArray(t)?i[e]=function(e){return t.forEach(function(t){return d(t,e)})}:'function'==typeof t&&(i[e]=function(e){return d(t,e)})};return'object'===p(s)?Object.entries(s).forEach(function(e){var t=b(e,2),o=t[0],n=t[1];l(o,n)}):l(a,s),g(g({},e),i)},{})}},{key:'nodes',get:function(){return this.extensions.filter(function(e){return'node'===e.type}).reduce(function(e,t){var o=t.name,n=t.schema;return g(g({},e),{},y({},o,n))},{})}},{key:'options',get:function(){var e=this.view;return this.extensions.reduce(function(t,o){return g(g({},t),{},y({},o.name,new Proxy(o.options,{set:function(t,o,n){var a=t[o]!==n;return Object.assign(t,y({},o,n)),a&&e.updateState(e.state),!0}})))},{})}},{key:'marks',get:function(){return this.extensions.filter(function(e){return'mark'===e.type}).reduce(function(e,t){var o=t.name,n=t.schema;return g(g({},e),{},y({},o,n))},{})}},{key:'plugins',get:function(){return this.extensions.filter(function(e){return e.plugins}).reduce(function(e,t){var o=t.plugins;return[].concat(c(e),c(o))},[])}}]),e}(),Y=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return C(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return d(t,e),M(t,[{key:'command',value:function(){return function(){}}},{key:'type',get:function(){return'mark'}},{key:'view',get:function(){return null}},{key:'schema',get:function(){return null}}]),t}(G);t.Mark=Y;var Q=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return C(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return d(t,e),M(t,[{key:'command',value:function(){return function(){}}},{key:'type',get:function(){return'node'}},{key:'view',get:function(){return null}},{key:'schema',get:function(){return null}}]),t}(G);t.Node=Q;var Z=function(e){function t(){return C(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),M(t,[{key:'name',get:function(){return'doc'}},{key:'schema',get:function(){return{content:'block+'}}}]),t}(Q);t.Doc=Z;var ee=function(e){function t(){return C(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),M(t,[{key:'commands',value:function(e){var t=e.type;return function(){return(0,K.setBlockType)(t)}}},{key:'name',get:function(){return'paragraph'}},{key:'schema',get:function(){return{content:'inline*',group:'block',draggable:!1,parseDOM:[{tag:'p'}],toDOM:function(){return['p',0]}}}}]),t}(Q);t.Paragraph=ee;var te=function(e){function t(){return C(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),M(t,[{key:'name',get:function(){return'text'}},{key:'schema',get:function(){return{group:'inline'}}}]),t}(Q);t.Text=te;var oe=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o;return C(this,t),o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:'',topNode:'doc',emptyDocument:{type:'doc',content:[{type:'paragraph'}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:function(){},onTransaction:function(){},onUpdate:function(){},onFocus:function(){},onBlur:function(){},onPaste:function(){},onDrop:function(){}},o.events=['init','transaction','update','focus','blur','paste','drop'],o.init(e),o}return d(t,e),M(t,[{key:'init',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(g(g({},this.defaultOptions),t)),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement('div'),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&N('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n'),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(function(t){e.on(t,e.options[O('on '.concat(t))]||function(){})}),this.emit('init',{view:this.view,state:this.state}),this.extensions.view=this.view}},{key:'setOptions',value:function(e){this.options=g(g({},this.options),e),this.view&&this.state&&this.view.updateState(this.state)}},{key:'createExtensions',value:function(){return new X([].concat(c(this.builtInExtensions),c(this.options.extensions)),this)}},{key:'createPlugins',value:function(){return this.extensions.plugins}},{key:'createKeymaps',value:function(){return this.extensions.keymaps({schema:this.schema})}},{key:'createInputRules',value:function(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}},{key:'createPasteRules',value:function(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}},{key:'createCommands',value:function(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:'createNodes',value:function(){return this.extensions.nodes}},{key:'createMarks',value:function(){return this.extensions.marks}},{key:'createSchema',value:function(){return new z.Schema({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}},{key:'createState',value:function(){var e=this;return R.EditorState.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[].concat(c(this.plugins),[(0,j.inputRules)({rules:this.inputRules})],c(this.pasteRules),c(this.keymaps),[(0,V.keymap)({Backspace:j.undoInputRule}),(0,V.keymap)(H.baseKeymap)],c(this.options.enableDropCursor?[(0,F.dropCursor)(this.options.dropCursor)]:[]),c(this.options.enableGapCursor?[(0,L.gapCursor)()]:[]),[new R.Plugin({key:new R.PluginKey('editable'),props:{editable:function(){return e.options.editable}}}),new R.Plugin({props:{attributes:{tabindex:0},handleDOMEvents:{focus:function(t,o){e.focused=!0,e.emit('focus',{event:o,state:t.state,view:t});var n=e.state.tr.setMeta('focused',!0);e.view.dispatch(n)},blur:function(t,o){e.focused=!1,e.emit('blur',{event:o,state:t.state,view:t});var n=e.state.tr.setMeta('focused',!1);e.view.dispatch(n)}}}}),new R.Plugin({props:this.options.editorProps})])})}},{key:'createDocument',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.parseOptions;if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if('object'===p(e))try{return this.schema.nodeFromJSON(e)}catch(t){return console.warn('[tiptap warn]: Invalid content.','Passed value:',e,'Error:',t),this.schema.nodeFromJSON(this.options.emptyDocument)}if('string'==typeof e){var o='<div>'.concat(e,'</div>'),n=new window.DOMParser,a=n.parseFromString(o,'text/html').body.firstElementChild;return z.DOMParser.fromSchema(this.schema).parse(a,t)}return!1}},{key:'createView',value:function(){var e=this;return new B.EditorView(this.element,{state:this.createState(),handlePaste:function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];e.emit.apply(e,['paste'].concat(o))},handleDrop:function(){for(var t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];e.emit.apply(e,['drop'].concat(o))},dispatchTransaction:this.dispatchTransaction.bind(this)})}},{key:'setParentComponent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[].concat(c(this.builtInExtensions),c(this.options.extensions))})})}},{key:'initNodeViews',value:function(e){var t=this,o=e.parent,n=e.extensions;return n.filter(function(e){return['node','mark'].includes(e.type)}).filter(function(e){return e.view}).reduce(function(e,n){return g(g({},e),{},y({},n.name,function(e,a,r,i){var s=n.view;return new J(s,{editor:t,extension:n,parent:o,node:e,view:a,getPos:r,decorations:i})}))},{})}},{key:'dispatchTransaction',value:function(e){var t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit('transaction',{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),!e.docChanged||e.getMeta('preventUpdate')||this.emitUpdate(e)}},{key:'emitUpdate',value:function(e){this.emit('update',{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}},{key:'resolveSelection',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.selection&&null===e)return this.selection;if('start'===e||!0===e)return{from:0,to:0};if('end'===e){var t=this.state.doc;return{from:t.content.size,to:t.content.size}}return{from:e,to:e}}},{key:'focus',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!(this.view.focused&&null===t||!1===t)){var o=this.resolveSelection(t),n=o.from,a=o.to;this.setSelection(n,a),setTimeout(function(){return e.view.focus()},10)}}},{key:'setSelection',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,o=this.state,n=o.doc,a=o.tr,r=P(e,0,n.content.size),i=P(t,0,n.content.size),s=R.TextSelection.create(n,r,i),d=a.setSelection(s);this.view.dispatch(d)}},{key:'blur',value:function(){this.view.dom.blur()}},{key:'getSchemaJSON',value:function(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}},{key:'getHTML',value:function(){var e=document.createElement('div'),t=z.DOMSerializer.fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}},{key:'getJSON',value:function(){return this.state.doc.toJSON()}},{key:'setContent',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],o=2<arguments.length?arguments[2]:void 0,n=this.state,a=n.doc,r=n.tr,i=this.createDocument(e,o),s=R.TextSelection.create(a,0,a.content.size),d=r.setSelection(s).replaceSelectionWith(i,!1).setMeta('preventUpdate',!t);this.view.dispatch(d)}},{key:'clearContent',value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.setContent(this.options.emptyDocument,e)}},{key:'setActiveNodesAndMarks',value:function(){var e=this;this.activeMarks=Object.entries(this.schema.marks).reduce(function(t,o){var n=b(o,2),a=n[0],r=n[1];return g(g({},t),{},y({},a,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,W.markIsActive)(e.state,r,t)}))},{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce(function(t,o){var n=b(o,2),a=n[0],r=n[1];return g(g({},t),{},y({},a,(0,W.getMarkAttrs)(e.state,r)))},{}),this.activeNodes=Object.entries(this.schema.nodes).reduce(function(t,o){var n=b(o,2),a=n[0],r=n[1];return g(g({},t),{},y({},a,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,W.nodeIsActive)(e.state,r,t)}))},{})}},{key:'getMarkAttrs',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.activeMarkAttrs[e]}},{key:'getNodeAttrs',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return g({},(0,W.getNodeAttrs)(this.state,this.schema.nodes[e]))}},{key:'registerPlugin',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,o='function'==typeof t?t(e,this.state.plugins):[e].concat(c(this.state.plugins)),n=this.state.reconfigure({plugins:o});this.view.updateState(n)}},{key:'unregisterPlugin',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(e&&this.view.docView){var t=this.state.reconfigure({plugins:this.state.plugins.filter(function(t){return!t.key.startsWith(''.concat(e,'$'))})});this.view.updateState(t)}}},{key:'destroy',value:function(){this.view&&this.view.destroy()}},{key:'builtInExtensions',get:function(){return this.options.useBuiltInExtensions?[new Z,new te,new ee]:[]}},{key:'state',get:function(){return this.view?this.view.state:null}},{key:'isActive',get:function(){return Object.entries(g(g({},this.activeMarks),this.activeNodes)).reduce(function(e,t){var o=b(t,2),n=o[0],a=o[1];return g(g({},e),{},y({},n,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a(e)}))},{})}}]),t}(U);t.Editor=oe;var ne={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&e.element&&this.$nextTick(function(){t.$el.appendChild(e.element.firstChild),e.setParentComponent(t)})}}},render:function(e){return e('div')},beforeDestroy:function(){this.editor.element=this.$el}};t.EditorContent=ne;var ae=function(){function e(t){var o=this,n=t.options;C(this,e),this.options=n,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener('mousedown',this.mousedownHandler,{capture:!0}),this.blurHandler=function(){return o.preventHide?void(o.preventHide=!1):void o.options.editor.emit('menubar:focusUpdate',!1)},this.options.editor.on('blur',this.blurHandler)}return M(e,[{key:'handleClick',value:function(){this.preventHide=!0}},{key:'destroy',value:function(){this.options.element.removeEventListener('mousedown',this.mousedownHandler),this.options.editor.off('blur',this.blurHandler)}}]),e}(),re={props:{editor:{default:null,type:Object}},data:function(){return{focused:!1}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick(function(){e.registerPlugin(T({editor:e,element:t.$el})),t.focused=e.focused,e.on('focus',function(){t.focused=!0}),e.on('menubar:focusUpdate',function(e){t.focused=e})})}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};t.EditorMenuBar=re;var ie=function(){function e(t){var o=this,n=t.options,a=t.editorView;C(this,e),this.options=g(g({},{element:null,keepInBounds:!0,onUpdate:function(){return!1}}),n),this.editorView=a,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener('mousedown',this.mousedownHandler,{capture:!0}),this.focusHandler=function(e){var t=e.view;o.update(t)},this.options.editor.on('focus',this.focusHandler),this.blurHandler=function(e){var t=e.event;return o.preventHide?void(o.preventHide=!1):void o.hide(t)},this.options.editor.on('blur',this.blurHandler)}return M(e,[{key:'handleClick',value:function(){this.preventHide=!0}},{key:'update',value:function(e,t){var n=e.state;if(!e.composing&&!(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))){if(n.selection.empty)return void this.hide();var a=n.selection,i=a.from,d=a.to,l=I(e,i),p=I(e,d,!0),c=this.options.element.offsetParent;if(!c)return void this.hide();var u=c.getBoundingClientRect(),f=this.options.element.getBoundingClientRect(),m=(l.left+p.left)/2-u.left;this.left=o(this.options.keepInBounds?r(u.width-f.width/2,s(m,f.width/2)):m),this.bottom=o(u.bottom-l.top),this.top=o(p.bottom-u.top),this.isActive=!0,this.sendUpdate()}}},{key:'sendUpdate',value:function(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}},{key:'hide',value:function(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}},{key:'destroy',value:function(){this.options.element.removeEventListener('mousedown',this.mousedownHandler),this.options.editor.off('focus',this.focusHandler),this.options.editor.off('blur',this.blurHandler)}}]),e}(),se={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data:function(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick(function(){e.registerPlugin(E({editor:e,element:t.$el,keepInBounds:t.keepInBounds,onUpdate:function(e){e.isActive&&!1===t.menu.isActive?t.$emit('show',e):!e.isActive&&!0===t.menu.isActive&&t.$emit('hide',e),t.menu=e}}))})}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy:function(){this.editor.unregisterPlugin('menu_bubble')}};t.EditorMenuBubble=se;var de=function(){function e(t){var o=this,n=t.options,a=t.editorView;C(this,e),this.options=g(g({},{resizeObserver:!0,element:null,onUpdate:function(){return!1}}),n),this.preventHide=!1,this.editorView=a,this.isActive=!1,this.top=0,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener('mousedown',this.mousedownHandler,{capture:!0}),this.focusHandler=function(e){var t=e.view;o.update(t)},this.options.editor.on('focus',this.focusHandler),this.blurHandler=function(e){var t=e.event;return o.preventHide?void(o.preventHide=!1):void o.hide(t)},this.options.editor.on('blur',this.blurHandler),this.options.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(){o.isActive&&o.update(o.editorView)}),this.resizeObserver.observe(this.editorView.dom))}return M(e,[{key:'handleClick',value:function(){this.preventHide=!0}},{key:'update',value:function(e,t){var o=e.state;if(!(t&&t.doc.eq(o.doc)&&t.selection.eq(o.selection))){if(!o.selection.empty)return void this.hide();var n=e.domAtPos(o.selection.anchor),a='<br>'===n.node.innerHTML&&'P'===n.node.tagName&&n.node.parentNode===e.dom;if(!a)return void this.hide();var r=this.options.element.offsetParent;if(!r)return void this.hide();var i=r.getBoundingClientRect(),s=e.coordsAtPos(o.selection.anchor),d=s.top-i.top;this.isActive=!0,this.top=d,this.sendUpdate()}}},{key:'sendUpdate',value:function(){this.options.onUpdate({isActive:this.isActive,top:this.top})}},{key:'hide',value:function(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}},{key:'destroy',value:function(){this.options.element.removeEventListener('mousedown',this.mousedownHandler),this.resizeObserver&&this.resizeObserver.unobserve(this.editorView.dom),this.options.editor.off('focus',this.focusHandler),this.options.editor.off('blur',this.blurHandler)}}]),e}(),le={props:{editor:{default:null,type:Object}},data:function(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick(function(){e.registerPlugin($({editor:e,element:t.$el,onUpdate:function(e){e.isActive&&!1===t.menu.isActive?t.$emit('show',e):!e.isActive&&!0===t.menu.isActive&&t.$emit('hide',e),t.menu=e}}))})}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy:function(){this.editor.unregisterPlugin('floating_menu')}};t.EditorFloatingMenu=le},cdd3:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'TooltipBase',class:[].concat(e.$modifiers),style:{marginTop:e.top+'px',marginLeft:e.left+'px'}},[e._t('default')],2)},a=[]},cfec:function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function r(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?a(Object(o),!0).forEach(function(t){i(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var s=n(o('703b')),d=n(o('650f')),l={name:'ButtonBase',mixins:[d.default],schema:s.default,props:{tag:{type:String,default:'button'},link:{type:String},text:{type:String},node:{type:Object,default:function(){}},iconBefore:{type:String,default:''},iconAfter:{type:String,default:''},iconLoading:{type:String,default:'spinner-third'},attrs:{type:Object,default:function(){return{}}}},computed:{computedAttrs:function(){return r(r({href:this.$props.link},this.$props.attrs),this.$props.node?this.$props.node.attrs:{})}}};t.default=l},d2cc:function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(o('650f')),a={name:'PopinBase',mixins:[n.default],props:{isActive:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0}},data:function(){return{listeners:{close:null}}},watch:{isActive:{handler:function(e){var t=this;this.autoClose&&(e&&this.$data.listeners.close?setTimeout(function(){document.addEventListener('click',t.$data.listeners.close)},100):this.$data.listeners.close&&document.removeEventListener('click',this.$data.listeners.close))}}},beforeDestroy:function(){document.removeEventListener('click',this.$data.listeners.close)},mounted:function(){var t=this;this.$data.listeners.close=function(o){t.$refs.body.contains(o.target)||t.$emit('close')}}};t.default=a},d2e6:function(e,t){'use strict';function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var n={name:'SelectBase',props:{label:{type:String,default:''},options:{type:Array,default:function(){return[]}},value:{type:[Number,Array,Boolean]},constraints:{type:Array,default:function(){return[]}},placeholder:{type:String,default:''},enableMultiple:{type:Boolean,default:!1},enableSearch:{type:Boolean,default:!1},enableAdd:{type:Boolean,default:!1}},data:function(){return{search:'',state:{isFocused:!1,isActive:!1},listeners:{active:null}}},computed:{arrayValue:function(){return null===this.$props.value?[]:Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]},searchExists:function(){var e=this;return!!this.$props.options.find(function(t){return t.label==e.$data.search})},selectedOptions:function(){var e=this;return this.$props.options.filter(function(t){return e.arrayValue.includes(t.id)})},displayValue:function(){return 0<this.selectedOptions.length?this.selectedOptions.map(function(e){return e.label}).join(', '):''},displayOptions:function(){var e=this,t=this.$props.options;return this.$data.search&&(t=t.filter(function(t){return t.label.toLowerCase().includes(e.$data.search.toLowerCase())})),t}},watch:o({displayValue:function(e){this.$refs.search&&(this.$refs.search.value=e)}},'state.isActive',function(e){var t=this;e?(this.$listeners.active=function(o){t.$el.contains(o.target)||(t.$data.state.isActive=!1)},document.addEventListener('click',this.$listeners.active)):(document.removeEventListener('click',this.$listeners.active),this.$listeners.active=null)}),mounted:function(){this.displayValue&&(this.$refs.search.value=this.displayValue)},methods:{onSelect:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.$props.enableMultiple||(this.$data.state.isActive=!1);var o=this.$props.enableMultiple?this.selectedOptions.map(function(e){return e.id}):[];t&&this.$props.enableMultiple?o=o.filter(function(t){return t!=e}):o.push(this.$props.options.find(function(t){return t.id==e}).id),this.$emit('input',0<o.length?this.$props.enableMultiple?o:o[0]:null)},onFocus:function(e){var t=this;this.$data.state.isFocused=e,e?this.$refs.search.value='':setTimeout(function(){t.$data.search='',t.$refs.search.value=t.displayValue?t.displayValue:''},100)}}};t.default=n},d2ed:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',[o('div',{staticClass:'InputBase_reveal'},[e.isRevealed?o('i',{staticClass:'fal fa-eye-slash'}):o('i',{staticClass:'fal fa-eye'})])])},a=[]},dcfc:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',{staticClass:'PaperEditor'},[o('editor-menu-bar',{attrs:{editor:e.editor},scopedSlots:e._u([{key:'default',fn:function(t){var n=t.commands,a=t.isActive,r=t.getMarkAttrs,s=t.getNodeAttrs;return[o('div',[o('div',{staticClass:'PaperEditor_menu'},e._l(e.options,function(t,d){return o('div',{key:d,staticClass:'PaperEditor_menuGroup'},e._l(t,function(t){return o(t.component||'paper-button',e._b({key:t.id,tag:'component',attrs:{"is-active":!!a[t.id]&&a[t.id](),icon:t.icon,"current-node":t.isNode?s(t.id):t.isMark?r(t.id):null},on:{click:function(){t.popin?e.state.current=t.id:n[t.id]()},input:function(e){return n[t.id](e)||void 0}}},'component',t.attrs?t.attrs:{},!1))}),1)}),0),e._l(e.options,function(t){return e._l(t.filter(function(e){return e.popin}),function(t,a){return o('paper-popin',e._b({key:a,attrs:{"is-active":t.id==e.state.current,"current-node":t.isNode?s(t.id):t.isMark?r(t.id):null},on:{close:function(){e.state.current=''},input:function(e){return n[t.id](e)}}},'paper-popin',t.popin,!1))})})],2)]}}])}),o('editor-view',{staticClass:'PaperEditor_view',attrs:{editor:e.editor,editable:!0}})],1)},a=[]},e2be:function(e){'use strict';function t(e){return a(e)||n(e)||d(e)||o()}function o(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function n(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function a(e){if(Array.isArray(e))return i(e)}function r(e,t){return p(e)||l(e,t)||d(e,t)||s()}function s(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function d(e,t){if(e){if('string'==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function l(e,t){var o=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=o){var n=[],a=!0,r=!1,i,s;try{for(o=o.call(e);!(a=(i=o.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,s=e}finally{try{a||null==o['return']||o['return']()}finally{if(r)throw s}}return n}}function p(e){if(Array.isArray(e))return e}function c(e,t){if(t&&('object'===b(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return u(e)}function u(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function f(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function h(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function g(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function y(e,t,o){return t&&g(e.prototype,t),o&&g(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function b(e){'@babel/helpers - typeof';return b='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},b(e)}function v(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error('map is read-only')}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error('set is read-only')}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var o=e[t];'object'!=b(o)||Object.isFrozen(o)||v(o)}),e}function k(e){return e.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#x27;')}function x(e){var t=Object.create(null);for(var o in e)t[o]=e[o];for(var n=arguments.length,a=Array(1<n?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach(function(e){for(var o in e)t[o]=e[o]}),t}function S(e){return e.nodeName.toLowerCase()}function w(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,'\\$&'),'m')}function C(e){return e?'string'==typeof e?e:e.source:null}function _(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t.map(function(e){return C(e)}).join('');return n}function M(e){return new RegExp(e.toString()+'|').exec('').length-1}function O(e,t){var o=e&&e.exec(t);return o&&0===o.index}function N(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'|',o=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,n=0,a='',r=0;r<e.length;r++){n+=1;var i=n,s=C(e[r]);for(0<r&&(a+=t),a+='(';0<s.length;){var d=o.exec(s);if(null==d){a+=s;break}a+=s.substring(0,d.index),s=s.substring(d.index+d[0].length),'\\'===d[0][0]&&d[1]?a+='\\'+(+d[1]+i+''):(a+=d[0],'('===d[0]&&n++)}a+=')'}return a}function P(e){function o(t,o){return new RegExp(C(t),'m'+(e.case_insensitive?'i':'')+(o?'g':''))}function n(e){var t=new d;return e.contains.forEach(function(e){return t.addRule(e.begin,{rule:e,type:'begin'})}),e.terminator_end&&t.addRule(e.terminator_end,{type:'end'}),e.illegal&&t.addRule(e.illegal,{type:'illegal'}),t}function a(e,t){var o=e.input[e.index-1];'.'===o&&t.ignoreMatch()}function i(r,s){var d=r,l;if(r.compiled)return d;r.compiled=!0,r.__beforeBegin=null,r.keywords=r.keywords||r.beginKeywords;var p=null;if('object'===b(r.keywords)&&(p=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=D(r.keywords,e.case_insensitive)),r.lexemes&&p)throw new Error('ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ');return d.keywordPatternRe=o(r.lexemes||p||/\w+/,!0),s&&(r.beginKeywords&&(r.begin='\\b('+r.beginKeywords.split(' ').join('|')+')(?!\\.)(?=\\b|\\s)',r.__beforeBegin=a),!r.begin&&(r.begin=/\B|\b/),d.beginRe=o(r.begin),r.endSameAsBegin&&(r.end=r.begin),!r.end&&!r.endsWithParent&&(r.end=/\B|\b/),r.end&&(d.endRe=o(r.end)),d.terminator_end=C(r.end)||'',r.endsWithParent&&s.terminator_end&&(d.terminator_end+=(r.end?'|':'')+s.terminator_end)),r.illegal&&(d.illegalRe=o(r.illegal)),void 0===r.relevance&&(r.relevance=1),r.contains||(r.contains=[]),r.contains=(l=[]).concat.apply(l,t(r.contains.map(function(e){return A('self'===e?r:e)}))),r.contains.forEach(function(e){i(e,d)}),r.starts&&i(r.starts,s),d.matcher=n(d),d}var s=function(){function e(){h(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return y(e,[{key:'addRule',value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=M(e)+1}},{key:'compile',value:function(){0===this.regexes.length&&(this.exec=function(){return null});var e=this.regexes.map(function(e){return e[1]});this.matcherRe=o(N(e),!0),this.lastIndex=0}},{key:'exec',value:function(e){this.matcherRe.lastIndex=this.lastIndex;var t=this.matcherRe.exec(e);if(!t)return null;var o=t.findIndex(function(e,t){return 0<t&&void 0!==e}),n=this.matchIndexes[o];return t.splice(0,o),Object.assign(t,n)}}]),e}(),d=function(){function e(){h(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return y(e,[{key:'getMatcher',value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e];var t=new s;return this.rules.slice(e).forEach(function(e){var o=r(e,2),n=o[0],a=o[1];return t.addRule(n,a)}),t.compile(),this.multiRegexes[e]=t,t}},{key:'resumingScanAtSamePosition',value:function(){return 0!==this.regexIndex}},{key:'considerAll',value:function(){this.regexIndex=0}},{key:'addRule',value:function(e,t){this.rules.push([e,t]),'begin'===t.type&&this.count++}},{key:'exec',value:function(e){var t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;var o=t.exec(e);if(this.resumingScanAtSamePosition())if(o&&o.index===this.lastIndex);else{var n=this.getMatcher(0);n.lastIndex=this.lastIndex+1,o=n.exec(e)}return o&&(this.regexIndex+=o.position+1,this.regexIndex===this.count&&this.considerAll()),o}}]),e}();if(e.contains&&e.contains.includes('self'))throw new Error('ERR: contains `self` is not supported at the top-level of a language.  See documentation.');return e.classNameAliases=x(e.classNameAliases||{}),i(e)}function T(e){return!!e&&(e.endsWithParent||T(e.starts))}function A(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return x(e,{variants:null},t)})),e.cached_variants?e.cached_variants:T(e)?x(e,{starts:e.starts?x(e.starts):null}):Object.isFrozen(e)?x(e):e}function D(e,t){function o(e,o){t&&(o=o.toLowerCase()),o.split(' ').forEach(function(t){var o=t.split('|');n[o[0]]=[e,I(o[0],o[1])]})}var n={};return'string'==typeof e?o('keyword',e):Object.keys(e).forEach(function(t){o(t,e[t])}),n}function I(e,t){return t?+t:E(e)?0:1}function E(e){return ne.includes(e.toLowerCase())}function $(e){return!!(e||''===e)}function R(e){var t={props:['language','code','autodetect'],data:function(){return{detectedLanguage:'',unknownLanguage:!1}},computed:{className:function(){return this.unknownLanguage?'':'hljs '+this.detectedLanguage},highlighted:function(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn('The language "'.concat(this.language,'" you specified could not be found.')),this.unknownLanguage=!0,k(this.code);var t;return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect:function(){return!this.language||$(this.autodetect)},ignoreIllegals:function(){return!0}},render:function(e){return e('pre',{},[e('code',{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install:function(e){e.component('highlightjs',t)}}}}var B=v;B.default=v;var z=function(){function e(t){h(this,e),void 0===t.data&&(t.data={}),this.data=t.data}return y(e,[{key:'ignoreMatch',value:function(){this.ignore=!0}}]),e}(),F=Object.freeze({__proto__:null,escapeHTML:k,inherit:x,nodeStream:function(e){var t=[];return function e(o,n){for(var a=o.firstChild;a;a=a.nextSibling)3===a.nodeType?n+=a.nodeValue.length:1===a.nodeType&&(t.push({event:'start',offset:n,node:a}),n=e(a,n),S(a).match(/br|hr|img|input/)||t.push({event:'stop',offset:n,node:a}));return n}(e,0),t},mergeStreams:function(e,t,o){function n(){return e.length&&t.length?e[0].offset===t[0].offset?'start'===t[0].event?e:t:e[0].offset<t[0].offset?e:t:e.length?e:t}function a(e){d+='<'+S(e)+[].map.call(e.attributes,function(e){return' '+e.nodeName+'="'+k(e.value)+'"'}).join('')+'>'}function r(e){d+='</'+S(e)+'>'}function i(e){('start'===e.event?a:r)(e.node)}for(var s=0,d='',l=[],p;e.length||t.length;)if(p=n(),d+=k(o.substring(s,p[0].offset)),s=p[0].offset,p===e){l.reverse().forEach(r);do i(p.splice(0,1)[0]),p=n();while(p===e&&p.length&&p[0].offset===s);l.reverse().forEach(a)}else'start'===p[0].event?l.push(p[0].node):l.pop(),i(p.splice(0,1)[0]);return d+k(o.substr(s))}}),L=function(e){return!!e.kind},V=function(){function e(t,o){h(this,e),this.buffer='',this.classPrefix=o.classPrefix,t.walk(this)}return y(e,[{key:'addText',value:function(e){this.buffer+=k(e)}},{key:'openNode',value:function(e){if(L(e)){var t=e.kind;e.sublanguage||(t=''.concat(this.classPrefix).concat(t)),this.span(t)}}},{key:'closeNode',value:function(e){L(e)&&(this.buffer+='</span>')}},{key:'value',value:function(){return this.buffer}},{key:'span',value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),H=function(){function e(){h(this,e),this.rootNode={children:[]},this.stack=[this.rootNode]}return y(e,[{key:'add',value:function(e){this.top.children.push(e)}},{key:'openNode',value:function(e){var t={kind:e,children:[]};this.add(t),this.stack.push(t)}},{key:'closeNode',value:function(){return 1<this.stack.length?this.stack.pop():void 0}},{key:'closeAllNodes',value:function(){for(;this.closeNode(););}},{key:'toJSON',value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:'walk',value:function(e){return this.constructor._walk(e,this.rootNode)}},{key:'top',get:function(){return this.stack[this.stack.length-1]}},{key:'root',get:function(){return this.rootNode}}],[{key:'_walk',value:function(e,t){var o=this;return'string'==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(function(t){return o._walk(e,t)}),e.closeNode(t)),e}},{key:'_collapse',value:function(t){'string'!=typeof t&&t.children&&(t.children.every(function(e){return'string'==typeof e})?t.children=[t.children.join('')]:t.children.forEach(function(t){e._collapse(t)}))}}]),e}(),j=function(e){function t(e){var o;return h(this,t),o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),o.options=e,o}return f(t,e),y(t,[{key:'addKeyword',value:function(e,t){''===e||(this.openNode(t),this.addText(e),this.closeNode())}},{key:'addText',value:function(e){''===e||this.add(e)}},{key:'addSublanguage',value:function(e,t){var o=e.root;o.kind=t,o.sublanguage=!0,this.add(o)}},{key:'toHTML',value:function(){var e=new V(this,this.options);return e.value()}},{key:'finalize',value:function(){return!0}}]),t}(H),W='[a-zA-Z]\\w*',q='[a-zA-Z_]\\w*',K='\\b\\d+(\\.\\d+)?',J='(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)',U='\\b(0b[01]+)',G={begin:'\\\\[\\s\\S]',relevance:0},X={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Y=function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=x({className:'comment',begin:e,end:t,contains:[]},o);return n.contains.push(X),n.contains.push({className:'doctag',begin:'(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):',relevance:0}),n},Q=Y('//','$'),Z=Y('/\\*','\\*/'),ee=Y('#','$'),te={begin:/(?=\/[^/\n]*\/)/,contains:[{className:'regexp',begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[G,{begin:/\[/,end:/\]/,relevance:0,contains:[G]}]}]},oe=Object.freeze({__proto__:null,IDENT_RE:W,UNDERSCORE_IDENT_RE:q,NUMBER_RE:K,C_NUMBER_RE:J,BINARY_NUMBER_RE:U,RE_STARTERS_RE:'!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~',SHEBANG:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//;return e.binary&&(e.begin=_(t,/.*\b/,e.binary,/\b.*/)),x({className:'meta',begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:G,APOS_STRING_MODE:{className:'string',begin:'\'',end:'\'',illegal:'\\n',contains:[G]},QUOTE_STRING_MODE:{className:'string',begin:'"',end:'"',illegal:'\\n',contains:[G]},PHRASAL_WORDS_MODE:X,COMMENT:Y,C_LINE_COMMENT_MODE:Q,C_BLOCK_COMMENT_MODE:Z,HASH_COMMENT_MODE:ee,NUMBER_MODE:{className:'number',begin:K,relevance:0},C_NUMBER_MODE:{className:'number',begin:J,relevance:0},BINARY_NUMBER_MODE:{className:'number',begin:U,relevance:0},CSS_NUMBER_MODE:{className:'number',begin:K+'(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?',relevance:0},REGEXP_MODE:te,TITLE_MODE:{className:'title',begin:W,relevance:0},UNDERSCORE_TITLE_MODE:{className:'title',begin:q,relevance:0},METHOD_GUARD:{begin:'\\.\\s*'+q,relevance:0},END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}}),ne=['of','and','for','in','not','or','if','then','parent','list','value'],ae=k,re=x,ie=F.nodeStream,se=F.mergeStreams,de=Symbol('nomatch'),le=function(e){function t(e){return E.noHighlightRe.test(e)}function o(e){var o=e.className+' ';o+=e.parentNode?e.parentNode.className:'';var n=E.languageDetectRe.exec(o);if(n){var a=g(n[1]);return a||(console.warn(D.replace('{}',n[1])),console.warn('Falling back to no-highlight mode for this block.',e)),a?n[1]:'no-highlight'}return o.split(/\s+/).find(function(e){return t(e)||g(e)})}function n(e,t,o,n){var r={code:t,language:e};x('before:highlight',r);var i=r.result?r.result:a(r.language,r.code,o,n);return i.code=r.code,x('after:highlight',i),i}function a(e,t,o,n){function i(e,t){var o=x.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,o)&&e.keywords[o]}function d(){if(!M.keywords)return void A.addText(I);var e=0;M.keywordPatternRe.lastIndex=0;for(var t=M.keywordPatternRe.exec(I),o='';t;){o+=I.substring(e,t.index);var n=i(M,t);if(n){var a=r(n,2),s=a[0],d=a[1];A.addText(o),o='',$+=d;var l=x.classNameAliases[s]||s;A.addKeyword(t[0],l)}else o+=t[0];e=M.keywordPatternRe.lastIndex,t=M.keywordPatternRe.exec(I)}o+=I.substr(e),A.addText(o)}function l(){if(''!==I){var e=null;if('string'==typeof M.subLanguage){if(!_[M.subLanguage])return void A.addText(I);e=a(M.subLanguage,I,!0,N[M.subLanguage]),N[M.subLanguage]=e.top}else e=s(I,M.subLanguage.length?M.subLanguage:null);0<M.relevance&&($+=e.relevance),A.addSublanguage(e.emitter,e.language)}}function p(){null==M.subLanguage?d():l(),I=''}function c(e){return e.className&&A.openNode(x.classNameAliases[e.className]||e.className),M=Object.create(e,{parent:{value:M}}),M}function u(e,t,o){var n=O(e.endRe,o);if(n){if(e['on:end']){var a=new z(e);e['on:end'](t,a),a.ignore&&(n=!1)}if(n){for(;e.endsParent&&e.parent;)e=e.parent;return e}}return e.endsWithParent?u(e.parent,t,o):void 0}function f(e){return 0===M.matcher.regexIndex?(I+=e[0],1):(F=!0,0)}function m(e){for(var t=e[0],o=e.rule,n=new z(o),a=[o.__beforeBegin,o['on:begin']],r=0,i;r<a.length;r++)if(i=a[r],i&&(i(e,n),n.ignore))return f(t);return o&&o.endSameAsBegin&&(o.endRe=w(t)),o.skip?I+=t:(o.excludeBegin&&(I+=t),p(),!o.returnBegin&&!o.excludeBegin&&(I=t)),c(o),o.returnBegin?0:t.length}function h(e){var t=e[0],o=v.substr(e.index),n=u(M,e,o);if(!n)return de;var a=M;a.skip?I+=t:(!(a.returnEnd||a.excludeEnd)&&(I+=t),p(),a.excludeEnd&&(I=t));do M.className&&A.closeNode(),M.skip||M.subLanguage||($+=M.relevance),M=M.parent;while(M!==n.parent);return n.starts&&(n.endSameAsBegin&&(n.starts.endRe=n.endRe),c(n.starts)),a.returnEnd?0:t.length}function y(){for(var e=[],t=M;t!==x;t=t.parent)t.className&&e.unshift(t.className);e.forEach(function(e){return A.openNode(e)})}function b(t,n){var a=n&&n[0];if(I+=t,null==a)return p(),0;if('begin'===k.type&&'end'===n.type&&k.index===n.index&&''===a){if(I+=v.slice(n.index,n.index+1),!T){var r=new Error('0 width match regex');throw r.languageName=e,r.badRule=k.rule,r}return 1}if(k=n,'begin'===n.type)return m(n);if('illegal'===n.type&&!o){var i=new Error('Illegal lexeme "'+a+'" for mode "'+(M.className||'<unnamed>')+'"');throw i.mode=M,i}else if('end'===n.type){var s=h(n);if(s!==de)return s}if('illegal'===n.type&&''===a)return 1;if(1e5<B&&B>3*n.index){var d=new Error('potential infinite loop, way more iterations than matches');throw d}return I+=a,a.length}var v=t,k={},x=g(e);if(!x)throw console.error(D.replace('{}',e)),new Error('Unknown language: "'+e+'"');var S=P(x),C='',M=n||S,N={},A=new E.__emitter(E);y();var I='',$=0,R=0,B=0,F=!1;try{for(M.matcher.considerAll();;){B++,F?F=!1:M.matcher.considerAll(),M.matcher.lastIndex=R;var L=M.matcher.exec(v);if(!L)break;var V=v.substring(R,L.index),H=b(V,L);R=L.index+H}return b(v.substr(R)),A.closeAllNodes(),A.finalize(),C=A.toHTML(),{relevance:$,value:C,language:e,illegal:!1,emitter:A,top:M}}catch(t){if(t.message&&t.message.includes('Illegal'))return{illegal:!0,illegalBy:{msg:t.message,context:v.slice(R-100,R+100),mode:t.mode},sofar:C,relevance:0,value:ae(v),emitter:A};if(T)return{illegal:!1,relevance:0,value:ae(v),emitter:A,language:e,top:M,errorRaised:t};throw t}}function i(e){var t={relevance:0,emitter:new E.__emitter(E),value:ae(e),illegal:!1,top:I};return t.emitter.addText(e),t}function s(e,t){t=t||E.languages||Object.keys(_);var o=i(e),n=t.filter(g).filter(v).map(function(t){return a(t,e,!1)});n.unshift(o);var s=n.sort(function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(g(e.language).supersetOf===t.language)return 1;if(g(t.language).supersetOf===e.language)return-1}return 0}),d=r(s,2),l=d[0],p=d[1],c=l;return c.second_best=p,c}function d(e){return E.tabReplace||E.useBR?e.replace(A,function(e){return'\n'===e?E.useBR?'<br>':e:E.tabReplace?e.replace(/\t/g,E.tabReplace):e}):e}function l(e,t,o){var n=t?M[t]:o,a=[e.trim()];return e.match(/\bhljs\b/)||a.push('hljs'),e.includes(n)||a.push(n),a.join(' ').trim()}function p(e){var a=null,r=o(e);if(!t(r)){x('before:highlightBlock',{block:e,language:r}),E.useBR?(a=document.createElement('div'),a.innerHTML=e.innerHTML.replace(/\n/g,'').replace(/<br[ /]*>/g,'\n')):a=e;var i=a.textContent,p=r?n(r,i,!0):s(i),c=ie(a);if(c.length){var u=document.createElement('div');u.innerHTML=p.value,p.value=se(c,ie(u),i)}p.value=d(p.value),x('after:highlightBlock',{block:e,result:p}),e.innerHTML=p.value,e.className=l(e.className,r,p.language),e.result={language:p.language,re:p.relevance,relavance:p.relevance},p.second_best&&(e.second_best={language:p.second_best.language,re:p.second_best.relevance,relavance:p.second_best.relevance})}}function c(e){e.useBR&&(console.warn('\'useBR\' option is deprecated and will be removed entirely in v11.0'),console.warn('Please see https://github.com/highlightjs/highlight.js/issues/2559')),E=re(E,e)}function u(){window.addEventListener('DOMContentLoaded',$,!1)}function f(t,o){var n=null;try{n=o(e)}catch(e){if(console.error('Language definition for \'{}\' could not be registered.'.replace('{}',t)),!T)throw e;else console.error(e);n=I}n.name||(n.name=t),_[t]=n,n.rawDefinition=o.bind(null,e),n.aliases&&y(n.aliases,{languageName:t})}function m(){return Object.keys(_)}function h(e){console.warn('requireLanguage is deprecated and will be removed entirely in the future.'),console.warn('Please see https://github.com/highlightjs/highlight.js/pull/2844');var t=g(e);if(t)return t;var o=new Error('The \'{}\' language is required, but not loaded.'.replace('{}',e));throw o}function g(e){return e=(e||'').toLowerCase(),_[e]||_[M[e]]}function y(e,t){var o=t.languageName;'string'==typeof e&&(e=[e]),e.forEach(function(e){M[e]=o})}function v(e){var t=g(e);return t&&!t.disableAutodetect}function k(e){N.push(e)}function x(e,t){var o=e;N.forEach(function(e){e[o]&&e[o](t)})}function S(e){return console.warn('fixMarkup is deprecated and will be removed entirely in v11.0'),console.warn('Please see https://github.com/highlightjs/highlight.js/issues/2534'),d(e)}var C=[],_=Object.create(null),M=Object.create(null),N=[],T=!0,A=/(^(<[^>]+>|\t|)+|\n)/gm,D='Could not find the language \'{}\', did you forget to load/include a language module?',I={disableAutodetect:!0,name:'Plain text',contains:[]},E={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:'hljs-',tabReplace:null,useBR:!1,languages:null,__emitter:j},$=function e(){if(!e.called){e.called=!0;var t=document.querySelectorAll('pre code');C.forEach.call(t,p)}};for(var F in Object.assign(e,{highlight:n,highlightAuto:s,fixMarkup:S,highlightBlock:p,configure:c,initHighlighting:$,initHighlightingOnLoad:u,registerLanguage:f,listLanguages:m,getLanguage:g,registerAliases:y,requireLanguage:h,autoDetection:v,inherit:re,addPlugin:k,vuePlugin:R(e).VuePlugin}),e.debugMode=function(){T=!1},e.safeMode=function(){T=!0},e.versionString='10.4.1',oe)'object'===b(oe[F])&&B(oe[F]);return Object.assign(e,oe),e},pe=le({});e.exports=pe},e3b8:function(e,t,o){'use strict';function n(e){'@babel/helpers - typeof';return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function r(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function i(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function s(e,t){if(t&&('object'===n(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return d(e)}function d(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function l(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var p=o('cd42'),u=o('a9de'),f=function(e){return e&&e.__esModule?e:{default:e}}(o('2029')),m=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:'commands',value:function(e){var t=e.type;return function(e){return e.href?(0,u.updateMark)(t,e):(0,u.removeMark)(t)}}},{key:'name',get:function(){return'link'}},{key:'schema',get:function(){return{attrs:{href:{default:null},is:{default:'a'},target:{default:'_self'},class:{default:['ButtonBase--link']}},inclusive:!1,parseDOM:[{tag:'a',priority:9,getAttrs:function(e){return{href:e.getAttribute('href'),target:e.hasAttribute('target')?e.getAttribute('target'):'_self'}}}],toDOM:function(e){return['a',{href:e.attrs.href},0]}}}},{key:'view',get:function(){return f.default}}]),t}(p.Mark);t.default=m},ea88:function(e,t,o){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function a(e){'@babel/helpers - typeof';return a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a(e)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var r=n(o('301e')),i=n(o('7680')),s=n(o('397a')),d=n(o('5e43')),l=n(o('6f98')),p=o('c147'),c=n(o('650f')),u={name:'InputBase',schema:r.default,mixins:[c.default],components:{HelperErrors:i.default,HelperNumber:s.default,HelperReset:d.default,HelperReveal:l.default},props:{label:{type:String,default:''},type:{type:String,default:'text'},suffix:{type:String,default:''},value:{type:[String,Number,Boolean,Object,Array]},helpers:{type:Array,default:function(){return[]}},constraints:{type:Object,default:function(){return{}}},default:{type:[String,Number]},attrs:{type:Object,default:function(){return{}}}},data:function(){return{state:{isFocused:!1,isValue:!1,isValid:!1},reveal:!1,errors:[]}},computed:{classes:function(){var e={};return'file'==this.$props.type&&(e['InputBase--file']=!0),this.$data.state.isValue&&(e['is-value']=!0),this.$data.state.isFocused&&(e['is-focused']=!0),e},computedType:function(){return this.reveal?'text':this.type}},watch:{value:{immediate:!0,deep:!0,handler:function(e){this.$data.state.isValue=void 0!==a(e)&&''!==e,this.validate(e)}}},methods:{onInput:function(e){this.validate(e),this.$emit('input',e)},increment:function(e){var t=parseInt(this.$props.value);Number.isNaN(t)&&(t=this.$props.default?this.$props.default:0),this.onInput(t+e)},validate:function(e){if(!(0>=Object.keys(this.$props.constraints).length)){var t=(0,p.validateWithConstraints)(e,this.$props.constraints);this.$data.state.isValid=t.valid,this.$data.errors=t.errors}},reset:function(){this.onInput(this.$props.default)}}};t.default=u},ebba:function(e,t,o){'use strict';o.d(t,'a',function(){return n}),o.d(t,'b',function(){return a});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o('div',[o('div',{staticClass:'InputBase_minus',on:{click:function(){return e.$emit('decrement')}}},[o('i',{staticClass:'fal fa-minus'})]),o('div',{staticClass:'InputBase_plus',on:{click:function(){return e.$emit('increment')}}},[o('i',{staticClass:'fal fa-plus'})])])},a=[]},ec09:function(e,t,o){'use strict';o.r(t);var n=o('0490'),a=o('989c');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},f0d8:function(e,t){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var o={name:'HelperReset',props:{isActive:{type:Boolean,default:!1}}};t.default=o},f23d:function(e,t,o){'use strict';function a(e){'@babel/helpers - typeof';return a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},a(e)}function r(e,t,o,n,a,r,i){try{var s=e[r](i),d=s.value}catch(e){return void o(e)}s.done?t(d):Promise.resolve(d).then(n,a)}function i(e){return function(){var t=this,o=arguments;return new Promise(function(n,a){function i(e){r(d,n,a,i,s,'next',e)}function s(e){r(d,n,a,i,s,'throw',e)}var d=e.apply(t,o);i(void 0)})}}function d(e,t){return c(e)||p(e,t)||y(e,t)||l()}function l(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function p(e,t){var o=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=o){var n=[],a=!0,r=!1,i,s;try{for(o=o.call(e);!(a=(i=o.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,s=e}finally{try{a||null==o['return']||o['return']()}finally{if(r)throw s}}return n}}function c(e){if(Array.isArray(e))return e}function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function f(e){for(var t=1,o;t<arguments.length;t++)o=null==arguments[t]?{}:arguments[t],t%2?u(Object(o),!0).forEach(function(t){m(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function h(e){return v(e)||b(e)||y(e)||g()}function g(){throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function y(e,t){if(e){if('string'==typeof e)return k(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?k(e,t):void 0}}function b(e){if('undefined'!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e['@@iterator'])return Array.from(e)}function v(e){if(Array.isArray(e))return k(e)}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function x(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function S(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function w(e,t,o){return t&&S(e.prototype,t),o&&S(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function C(e,t){if(t&&('object'===a(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return _(e)}function _(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function M(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&O(e,t)}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function N(e){function t(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){var n=[].concat(h(o),h(e.properties?e.properties.className:[]));return e.children?t(e.children,n):{text:e.value,classes:n}})}var o=e.doc,n=e.name,a=[],r=(0,R.findBlockNodes)(o).filter(function(e){return e.node.type.name===n}),i=function e(t){return t.reduce(function(t,o){return t.concat(Array.isArray(o)?e(o):o)},[])};return r.forEach(function(e){var o=e.pos+1,n=E.default.highlightAuto(e.node.textContent).value;i(t(n)).map(function(e){var t=o,n=t+e.text.length;return o=n,f(f({},e),{},{from:t,to:n})}).forEach(function(e){var t=$.Decoration.inline(e.from,e.to,{class:e.classes.join(' ')});a.push(t)})}),$.DecorationSet.create(o,a)}function P(e){var t=e.name;return new D.Plugin({name:new D.PluginKey('highlight'),state:{init:function(e,o){var n=o.doc;return N({doc:n,name:t})},apply:function(e,o,n,a){var r=n.selection.$head.parent.type.name,i=a.selection.$head.parent.type.name,s=(0,R.findBlockNodes)(n.doc).filter(function(e){return e.node.type.name===t}),d=(0,R.findBlockNodes)(a.doc).filter(function(e){return e.node.type.name===t});return e.docChanged&&([r,i].includes(t)||d.length!==s.length)?N({doc:e.doc,name:t}):o.map(e.mapping,e.doc)}},props:{decorations:function(e){return this.getState(e)}}})}function T(e){var t=e.char,o=void 0===t?'@':t,n=e.allowSpaces,a=void 0!==n&&n,r=e.startOfLine;return function(e){if(0>=e.depth)return!1;for(var t='\\'.concat(o),n=new RegExp('\\s'.concat(t,'$')),i=void 0!==r&&r?'^':'',d=a?new RegExp(''.concat(i).concat(t,'.*?(?=\\s').concat(t,'|$)'),'gm'):new RegExp(''.concat(i,'(?:^)?').concat(t,'[^\\s').concat(t,']*'),'gm'),l=e.before(),p=e.end(),c=e.doc.textBetween(l,p,'\0','\0'),u=d.exec(c),f,m;null!==u;){if(m=u.input.slice(s(0,u.index-1),u.index),/^[\s\0]?$/.test(m)){var h=u.index+e.start(),g=h+u[0].length;a&&n.test(c.slice(g-1,g+1))&&(u[0]+=' ',g+=1),h<e.pos&&g>=e.pos&&(f={range:{from:h,to:g},query:u[0].slice(o.length),text:u[0]})}u=d.exec(c)}return f}}function A(e){var t=e.matcher,o=void 0===t?{char:'@',allowSpaces:!1,startOfLine:!1}:t,n=e.appendText,a=void 0===n?null:n,r=e.suggestionClass,s=void 0===r?'suggestion':r,d=e.command,l=void 0===d?function(){return!1}:d,p=e.items,c=void 0===p?[]:p,u=e.onEnter,m=void 0===u?function(){return!1}:u,h=e.onChange,g=void 0===h?function(){return!1}:h,y=e.onExit,b=void 0===y?function(){return!1}:y,v=e.onKeyDown,k=void 0===v?function(){return!1}:v,x=e.onFilter,S=void 0===x?function(e,t){return t?e.filter(function(e){return JSON.stringify(e).toLowerCase().includes(t.toLowerCase())}):e}:x;return new z.Plugin({key:new z.PluginKey('suggestions'),view:function(){var e=this;return{update:function(){var t=i(regeneratorRuntime.mark(function t(o,n){var r,i,s,d,p,u,f,h,y,v,k,x,w;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.key.getState(n),i=e.key.getState(o.state),s=r.active&&i.active&&r.range.from!==i.range.from,d=!r.active&&i.active,p=r.active&&!i.active,u=!d&&!p&&r.query!==i.query,f=d||s,h=u&&!s,y=p||s,f||h||y){t.next=11;break}return t.abrupt('return');case 11:if(v=y?r:i,k=document.querySelector('[data-decoration-id="'.concat(v.decorationId,'"]')),x=k?{getBoundingClientRect:function(){return k.getBoundingClientRect()},clientWidth:k.clientWidth,clientHeight:k.clientHeight}:null,t.t0=o,t.t1=v.range,t.t2=v.query,t.t3=v.text,t.t4=k,t.t5=x,!(h||f)){t.next=36;break}if(t.t7=S,!Array.isArray(c)){t.next=26;break}t.t8=c,t.next=29;break;case 26:return t.next=28,c();case 28:t.t8=t.sent;case 29:return t.t9=t.t8,t.t10=v.query,t.next=33,(0,t.t7)(t.t9,t.t10);case 33:t.t6=t.sent,t.next=37;break;case 36:t.t6=[];case 37:t.t11=t.t6,t.t12=function(e){var t=e.range,n=e.attrs;l({range:t,attrs:n,schema:o.state.schema})(o.state,o.dispatch,o),a&&(0,I.insertText)(a)(o.state,o.dispatch,o)},w={view:t.t0,range:t.t1,query:t.t2,text:t.t3,decorationNode:t.t4,virtualNode:t.t5,items:t.t11,command:t.t12},y&&b(w),h&&g(w),f&&m(w);case 43:case'end':return t.stop();}},t,this)}));return function(){return t.apply(this,arguments)}}()}},state:{init:function(){return{active:!1,range:{},query:null,text:null}},apply:function(e,t){var n=e.selection,a=f({},t);if(n.from===n.to){(n.from<t.range.from||n.from>t.range.to)&&(a.active=!1);var r=n.$from,i=T(o)(r),s=(Math.random()+1).toString(36).substr(2,5);i?(a.active=!0,a.decorationId=t.decorationId?t.decorationId:s,a.range=i.range,a.query=i.query,a.text=i.text):a.active=!1}else a.active=!1;return a.active||(a.decorationId=null,a.range={},a.query=null,a.text=null),a}},props:{handleKeyDown:function(e,t){var o=this.getState(e.state),n=o.active,a=o.range;return!!n&&k({view:e,event:t,range:a})},decorations:function(e){var t=this.getState(e),o=t.active,n=t.range,a=t.decorationId;return o?$.DecorationSet.create(e.doc,[$.Decoration.inline(n.from,n.to,{nodeName:'span',class:s,"data-decoration-id":a})]):null}}})}Object.defineProperty(t,'__esModule',{value:!0}),t.Highlight=P,t.Suggestions=A,t.Underline=t.TrailingNode=t.TodoList=t.TodoItem=t.TableRow=t.TableHeader=t.TableCell=t.Table=t.Strike=t.Search=t.Placeholder=t.OrderedList=t.Mention=t.ListItem=t.Link=t.Italic=t.Image=t.HorizontalRule=t.History=t.Heading=t.HardBreak=t.Focus=t.Collaboration=t.CodeBlockHighlight=t.CodeBlock=t.Code=t.BulletList=t.Bold=t.Blockquote=void 0;var D=o('cd42'),I=o('a9de'),E=function(e){return e&&e.__esModule?e:{default:e}}(o('3ce4')),$=o('576a'),R=o('986d'),B=o('304a'),z=o('5313'),F=o('55be'),L=o('a15f'),V=o('0ac0'),H=o('46c3'),j=o('8726'),W=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleWrap)(t)}}},{key:'keys',value:function(e){var t=e.type;return{"Ctrl->":(0,I.toggleWrap)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.wrappingInputRule)(/^\s*>\s$/,t)]}},{key:'name',get:function(){return'blockquote'}},{key:'schema',get:function(){return{content:'block*',group:'block',defining:!0,draggable:!1,parseDOM:[{tag:'blockquote'}],toDOM:function(){return['blockquote',0]}}}}]),t}(D.Node);t.Blockquote=W;var q=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(){return(0,I.toggleList)(t,o.nodes.list_item)}}},{key:'keys',value:function(e){var t=e.type,o=e.schema;return{"Shift-Ctrl-8":(0,I.toggleList)(t,o.nodes.list_item)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.wrappingInputRule)(/^\s*([-+*])\s$/,t)]}},{key:'name',get:function(){return'bullet_list'}},{key:'schema',get:function(){return{content:'list_item+',group:'block',parseDOM:[{tag:'ul'}],toDOM:function(){return['ul',0]}}}}]),t}(D.Node);t.BulletList=q;var K=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(){return(0,I.toggleBlockType)(t,o.nodes.paragraph)}}},{key:'keys',value:function(e){var t=e.type;return{"Shift-Ctrl-\\":(0,I.setBlockType)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.textblockTypeInputRule)(/^```$/,t)]}},{key:'name',get:function(){return'code_block'}},{key:'schema',get:function(){return{content:'text*',marks:'',group:'block',code:!0,defining:!0,draggable:!1,parseDOM:[{tag:'pre',preserveWhitespace:'full'}],toDOM:function(){return['pre',['code',0]]}}}}]),t}(D.Node);t.CodeBlock=K;var J=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o;x(this,t),o=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));try{Object.entries(o.options.languages).forEach(function(e){var t=d(e,2),o=t[0],n=t[1];E.default.registerLanguage(o,n)})}catch(e){throw new Error('Invalid syntax highlight definitions: define at least one highlight.js language mapping')}return o}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(){return(0,I.toggleBlockType)(t,o.nodes.paragraph)}}},{key:'keys',value:function(e){var t=e.type;return{"Shift-Ctrl-\\":(0,I.setBlockType)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.textblockTypeInputRule)(/^```$/,t)]}},{key:'name',get:function(){return'code_block'}},{key:'defaultOptions',get:function(){return{languages:{}}}},{key:'schema',get:function(){return{content:'text*',marks:'',group:'block',code:!0,defining:!0,draggable:!1,parseDOM:[{tag:'pre',preserveWhitespace:'full'}],toDOM:function(){return['pre',['code',0]]}}}},{key:'plugins',get:function(){return[P({name:this.name})]}}]),t}(D.Node);t.CodeBlockHighlight=J;var U=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.chainCommands)(I.exitCode,function(e,o){return o(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0})}}},{key:'keys',value:function(e){var t=e.type,o=(0,I.chainCommands)(I.exitCode,function(e,o){return o(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0});return{"Mod-Enter":o,"Shift-Enter":o}}},{key:'name',get:function(){return'hard_break'}},{key:'schema',get:function(){return{inline:!0,group:'inline',selectable:!1,parseDOM:[{tag:'br'}],toDOM:function(){return['br']}}}}]),t}(D.Node);t.HardBreak=U;var G=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(e){return(0,I.toggleBlockType)(t,o.nodes.paragraph,e)}}},{key:'keys',value:function(e){var t=e.type;return this.options.levels.reduce(function(e,o){return f(f({},e),m({},'Shift-Ctrl-'.concat(o),(0,I.setBlockType)(t,{level:o})))},{})}},{key:'inputRules',value:function(e){var t=e.type;return this.options.levels.map(function(e){return(0,I.textblockTypeInputRule)(new RegExp('^(#{1,'.concat(e,'})\\s$')),t,function(){return{level:e}})})}},{key:'name',get:function(){return'heading'}},{key:'defaultOptions',get:function(){return{levels:[1,2,3,4,5,6]}}},{key:'schema',get:function(){return{attrs:{level:{default:1}},content:'inline*',group:'block',defining:!0,draggable:!1,parseDOM:this.options.levels.map(function(e){return{tag:'h'.concat(e),attrs:{level:e}}}),toDOM:function(e){return['h'.concat(e.attrs.level),0]}}}}]),t}(D.Node);t.Heading=G;var X=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type;return function(){return function(e,o){return o(e.tr.replaceSelectionWith(t.create()))}}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.nodeInputRule)(/^(?:---|___\s|\*\*\*\s)$/,t)]}},{key:'name',get:function(){return'horizontal_rule'}},{key:'schema',get:function(){return{group:'block',parseDOM:[{tag:'hr'}],toDOM:function(){return['hr']}}}}]),t}(D.Node);t.HorizontalRule=X;var Y=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,Q=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type;return function(e){return function(o,n){var a=o.selection,r=a.$cursor?a.$cursor.pos:a.$to.pos,i=t.create(e),s=o.tr.insert(r,i);n(s)}}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.nodeInputRule)(Y,t,function(e){var t=d(e,4),o=t[1],n=t[2],a=t[3];return{src:n,alt:o,title:a}})]}},{key:'name',get:function(){return'image'}},{key:'schema',get:function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:'inline',draggable:!0,parseDOM:[{tag:'img[src]',getAttrs:function(e){return{src:e.getAttribute('src'),title:e.getAttribute('title'),alt:e.getAttribute('alt')}}}],toDOM:function(e){return['img',e.attrs]}}}},{key:'plugins',get:function(){return[new D.Plugin({props:{handleDOMEvents:{drop:function(e,t){var o=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(o){var n=Array.from(t.dataTransfer.files).filter(function(e){return /image/i.test(e.type)});if(0!==n.length){t.preventDefault();var a=e.state.schema,r=e.posAtCoords({left:t.clientX,top:t.clientY});n.forEach(function(t){var o=new FileReader;o.onload=function(t){var o=a.nodes.image.create({src:t.target.result}),n=e.state.tr.insert(r.pos,o);e.dispatch(n)},o.readAsDataURL(t)})}}}}}})]}}]),t}(D.Node);t.Image=Q;var Z=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{Enter:(0,I.splitListItem)(t),Tab:(0,I.sinkListItem)(t),"Shift-Tab":(0,I.liftListItem)(t)}}},{key:'name',get:function(){return'list_item'}},{key:'schema',get:function(){return{content:'paragraph block*',defining:!0,draggable:!1,parseDOM:[{tag:'li'}],toDOM:function(){return['li',0]}}}}]),t}(D.Node);t.ListItem=Z;var ee=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'getLabel',value:function(e){return e.innerText.split(this.options.matcher.char).join('')}},{key:'commands',value:function(e){var t=this,o=e.schema;return function(e){return(0,I.replaceText)(null,o.nodes[t.name],e)}}},{key:'name',get:function(){return'mention'}},{key:'defaultOptions',get:function(){return{matcher:{char:'@',allowSpaces:!1,startOfLine:!1},mentionClass:'mention',suggestionClass:'mention-suggestion'}}},{key:'schema',get:function(){var e=this;return{attrs:{id:{},label:{}},group:'inline',inline:!0,content:'inline*',selectable:!1,atom:!0,toDOM:function(t){return['span',{class:e.options.mentionClass,"data-mention-id":t.attrs.id},''.concat(e.options.matcher.char).concat(t.attrs.label)]},parseDOM:[{tag:'span[data-mention-id]',getAttrs:function(t){var o=t.getAttribute('data-mention-id'),n=e.getLabel(t);return{id:o,label:n}},getContent:function(t,o){var n=e.getLabel(t);return B.Fragment.fromJSON(o,[{type:'text',text:''.concat(e.options.matcher.char).concat(n)}])}}]}}},{key:'plugins',get:function(){var e=this;return[A({command:function(t){var o=t.range,n=t.attrs,a=t.schema;return(0,I.replaceText)(o,a.nodes[e.name],n)},appendText:' ',matcher:this.options.matcher,items:this.options.items,onEnter:this.options.onEnter,onChange:this.options.onChange,onExit:this.options.onExit,onKeyDown:this.options.onKeyDown,onFilter:this.options.onFilter,suggestionClass:this.options.suggestionClass})]}}]),t}(D.Node);t.Mention=ee;var te=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(){return(0,I.toggleList)(t,o.nodes.list_item)}}},{key:'keys',value:function(e){var t=e.type,o=e.schema;return{"Shift-Ctrl-9":(0,I.toggleList)(t,o.nodes.list_item)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.wrappingInputRule)(/^(\d+)\.\s$/,t,function(e){return{order:+e[1]}},function(e,t){return t.childCount+t.attrs.order===+e[1]})]}},{key:'name',get:function(){return'ordered_list'}},{key:'schema',get:function(){return{attrs:{order:{default:1}},content:'list_item+',group:'block',parseDOM:[{tag:'ol',getAttrs:function(e){return{order:e.hasAttribute('start')?+e.getAttribute('start'):1}}}],toDOM:function(e){return 1===e.attrs.order?['ol',0]:['ol',{start:e.attrs.order},0]}}}}]),t}(D.Node);t.OrderedList=te;var oe=(0,F.tableNodes)({tableGroup:'block',cellContent:'block+',cellAttributes:{background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){if(e){var o={style:''.concat(t.style||'','background-color: ').concat(e,';')};Object.assign(t,o)}}}}}),ne=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.schema;return{createTable:function(e){var o=e.rowsCount,n=e.colsCount,a=e.withHeaderRow;return function(e,r){var i=e.tr.selection.anchor+1,s=(0,R.createTable)(t,o,n,a),d=e.tr.replaceSelectionWith(s).scrollIntoView(),l=d.doc.resolve(i);d.setSelection(z.TextSelection.near(l)),r(d)}},addColumnBefore:function(){return F.addColumnBefore},addColumnAfter:function(){return F.addColumnAfter},deleteColumn:function(){return F.deleteColumn},addRowBefore:function(){return F.addRowBefore},addRowAfter:function(){return F.addRowAfter},deleteRow:function(){return F.deleteRow},deleteTable:function(){return F.deleteTable},toggleCellMerge:function(){return function(e,t){(0,F.mergeCells)(e,t)||(0,F.splitCell)(e,t)}},mergeCells:function(){return F.mergeCells},splitCell:function(){return F.splitCell},toggleHeaderColumn:function(){return F.toggleHeaderColumn},toggleHeaderRow:function(){return F.toggleHeaderRow},toggleHeaderCell:function(){return F.toggleHeaderCell},setCellAttr:function(){return F.setCellAttr},fixTables:function(){return F.fixTables}}}},{key:'keys',value:function(){return{Tab:(0,F.goToNextCell)(1),"Shift-Tab":(0,F.goToNextCell)(-1)}}},{key:'name',get:function(){return'table'}},{key:'defaultOptions',get:function(){return{resizable:!1}}},{key:'schema',get:function(){return oe.table}},{key:'plugins',get:function(){return[].concat(h(this.options.resizable?[(0,F.columnResizing)()]:[]),[(0,F.tableEditing)()])}}]),t}(D.Node);t.Table=ne;var ae=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'table_header'}},{key:'schema',get:function(){return oe.table_header}}]),t}(D.Node);t.TableHeader=ae;var re=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'table_cell'}},{key:'schema',get:function(){return oe.table_cell}}]),t}(D.Node);t.TableCell=re;var ie=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'table_row'}},{key:'schema',get:function(){return oe.table_row}}]),t}(D.Node);t.TableRow=ie;var se=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{Enter:(0,I.splitToDefaultListItem)(t),Tab:this.options.nested?(0,I.sinkListItem)(t):function(){},"Shift-Tab":(0,I.liftListItem)(t)}}},{key:'name',get:function(){return'todo_item'}},{key:'defaultOptions',get:function(){return{nested:!1}}},{key:'view',get:function(){return{props:['node','updateAttrs','view'],methods:{onChange:function(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}},{key:'schema',get:function(){var e=this;return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?'(paragraph|todo_list)+':'paragraph+',toDOM:function(t){var o=t.attrs.done;return['li',{"data-type":e.name,"data-done":o.toString()},['span',{class:'todo-checkbox',contenteditable:'false'}],['div',{class:'todo-content'},0]]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(e){return{done:'true'===e.getAttribute('data-done')}}}]}}}]),t}(D.Node);t.TodoItem=se;var de=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type,o=e.schema;return function(){return(0,I.toggleList)(t,o.nodes.todo_item)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.wrappingInputRule)(/^\s*(\[ \])\s$/,t)]}},{key:'name',get:function(){return'todo_list'}},{key:'schema',get:function(){var e=this;return{group:'block',content:'todo_item+',toDOM:function(){return['ul',{"data-type":e.name},0]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]')}]}}}]),t}(D.Node);t.TodoList=de;var le=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{"Mod-b":(0,I.toggleMark)(t)}}},{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleMark)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.markInputRule)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}},{key:'pasteRules',value:function(e){var t=e.type;return[(0,I.markPasteRule)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}},{key:'name',get:function(){return'bold'}},{key:'schema',get:function(){return{parseDOM:[{tag:'strong'},{tag:'b',getAttrs:function(e){return'normal'!==e.style.fontWeight&&null}},{style:'font-weight',getAttrs:function(e){return /^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return['strong',0]}}}}]),t}(D.Mark);t.Bold=le;var pe=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{"Mod-`":(0,I.toggleMark)(t)}}},{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleMark)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.markInputRule)(/(?:`)([^`]+)(?:`)$/,t)]}},{key:'pasteRules',value:function(e){var t=e.type;return[(0,I.markPasteRule)(/(?:`)([^`]+)(?:`)/g,t)]}},{key:'name',get:function(){return'code'}},{key:'schema',get:function(){return{excludes:'_',parseDOM:[{tag:'code'}],toDOM:function(){return['code',0]}}}}]),t}(D.Mark);t.Code=pe;var ce=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{"Mod-i":(0,I.toggleMark)(t)}}},{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleMark)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.markInputRule)(/(?:^|[^_])(_([^_]+)_)$/,t),(0,I.markInputRule)(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}},{key:'pasteRules',value:function(e){var t=e.type;return[(0,I.markPasteRule)(/_([^_]+)_/g,t),(0,I.markPasteRule)(/\*([^*]+)\*/g,t)]}},{key:'name',get:function(){return'italic'}},{key:'schema',get:function(){return{parseDOM:[{tag:'i'},{tag:'em'},{style:'font-style=italic'}],toDOM:function(){return['em',0]}}}}]),t}(D.Mark);t.Italic=ce;var ue=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'commands',value:function(e){var t=e.type;return function(e){return e.href?(0,I.updateMark)(t,e):(0,I.removeMark)(t)}}},{key:'pasteRules',value:function(e){var t=e.type;return[(0,I.pasteRule)(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,]*)/gi,t,function(e){return{href:e}})]}},{key:'name',get:function(){return'link'}},{key:'defaultOptions',get:function(){return{openOnClick:!0,target:null}}},{key:'schema',get:function(){var e=this;return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:'a[href]',getAttrs:function(e){return{href:e.getAttribute('href'),target:e.getAttribute('target')}}}],toDOM:function(t){return['a',f(f({},t.attrs),{},{rel:'noopener noreferrer nofollow',target:e.options.target}),0]}}}},{key:'plugins',get:function(){return this.options.openOnClick?[new D.Plugin({props:{handleClick:function(e,t,o){var n=e.state.schema,a=(0,L.getMarkAttrs)(e.state,n.marks.link);a.href&&o.target instanceof HTMLAnchorElement&&(o.stopPropagation(),window.open(a.href,a.target))}}})]:[]}}]),t}(D.Mark);t.Link=ue;var fe=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{"Mod-d":(0,I.toggleMark)(t)}}},{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleMark)(t)}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,I.markInputRule)(/~([^~]+)~$/,t)]}},{key:'pasteRules',value:function(e){var t=e.type;return[(0,I.markPasteRule)(/~([^~]+)~/g,t)]}},{key:'name',get:function(){return'strike'}},{key:'schema',get:function(){return{parseDOM:[{tag:'s'},{tag:'del'},{tag:'strike'},{style:'text-decoration',getAttrs:function(e){return'line-through'===e}}],toDOM:function(){return['s',0]}}}}]),t}(D.Mark);t.Strike=fe;var me=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(e){var t=e.type;return{"Mod-u":(0,I.toggleMark)(t)}}},{key:'commands',value:function(e){var t=e.type;return function(){return(0,I.toggleMark)(t)}}},{key:'name',get:function(){return'underline'}},{key:'schema',get:function(){return{parseDOM:[{tag:'u'},{style:'text-decoration',getAttrs:function(e){return'underline'===e}}],toDOM:function(){return['u',0]}}}}]),t}(D.Mark);t.Underline=me;var he=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'init',value:function(){var e=this;this.getSendableSteps=this.debounce(function(t){var o=(0,H.sendableSteps)(t);o&&e.options.onSendable({editor:e.editor,sendable:{version:o.version,steps:o.steps.map(function(e){return e.toJSON()}),clientID:o.clientID}})},this.options.debounce),this.editor.on('transaction',function(t){var o=t.state;e.getSendableSteps(o)})}},{key:'debounce',value:function(e,t){var o;return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];o&&clearTimeout(o),o=setTimeout(function(){e.apply(void 0,a),o=null},t)}}},{key:'name',get:function(){return'collaboration'}},{key:'defaultOptions',get:function(){var e=this;return{version:0,clientID:n(4294967295*Math.random()),debounce:250,onSendable:function(){},update:function(t){var o=t.steps,n=t.version,a=e.editor,r=a.state,i=a.view,s=a.schema;(0,H.getVersion)(r)>n||i.dispatch((0,H.receiveTransaction)(r,o.map(function(e){return V.Step.fromJSON(s,e.step)}),o.map(function(e){return e.clientID})))}}}},{key:'plugins',get:function(){return[(0,H.collab)({version:this.options.version,clientID:this.options.clientID})]}}]),t}(D.Extension);t.Collaboration=he;var ge=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'focus'}},{key:'defaultOptions',get:function(){return{className:'has-focus',nested:!1}}},{key:'plugins',get:function(){var e=this;return[new D.Plugin({props:{decorations:function(t){var o=t.doc,n=t.plugins,a=t.selection,r=n.find(function(e){return e.key.startsWith('editable$')}),i=r.props.editable(),s=i&&e.options.className,d=e.editor.focused,l=a.anchor,p=[];return!!(s&&d)&&(o.descendants(function(t,o){var n=l>=o&&l<=o+t.nodeSize;if(n&&!t.isText){var a=$.Decoration.node(o,o+t.nodeSize,{class:e.options.className});p.push(a)}return e.options.nested}),$.DecorationSet.create(o,p))}}})]}}]),t}(D.Extension);t.Focus=ge;var ye=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'keys',value:function(){var e={"Mod-z":j.undo,"Mod-y":j.redo,"Shift-Mod-z":j.redo,"Mod-я":j.undo,"Shift-Mod-я":j.redo};return e}},{key:'commands',value:function(){return{undo:function(){return j.undo},redo:function(){return j.redo},undoDepth:function(){return j.undoDepth},redoDepth:function(){return j.redoDepth}}}},{key:'name',get:function(){return'history'}},{key:'defaultOptions',get:function(){return{depth:'',newGroupDelay:''}}},{key:'plugins',get:function(){return[(0,j.history)({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}}]),t}(D.Extension);t.History=ye;var be=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'placeholder'}},{key:'defaultOptions',get:function(){return{emptyEditorClass:'is-editor-empty',emptyNodeClass:'is-empty',emptyNodeText:'Write something \u2026',showOnlyWhenEditable:!0,showOnlyCurrent:!0}}},{key:'plugins',get:function(){var e=this;return[new D.Plugin({props:{decorations:function(t){var o=t.doc,n=t.plugins,a=t.selection,r=n.find(function(e){return e.key.startsWith('editable$')}),i=r.props.editable(),s=i||!e.options.showOnlyWhenEditable,d=a.anchor,l=[],p=0===o.textContent.length;return!!s&&(o.descendants(function(t,o){var n=d>=o&&d<=o+t.nodeSize,a=0===t.content.size;if((n||!e.options.showOnlyCurrent)&&a){var r=[e.options.emptyNodeClass];p&&r.push(e.options.emptyEditorClass);var i=$.Decoration.node(o,o+t.nodeSize,{class:r.join(' '),"data-empty-text":'function'==typeof e.options.emptyNodeText?e.options.emptyNodeText(t):e.options.emptyNodeText});l.push(i)}return!1}),$.DecorationSet.create(o,l))}}})]}}]),t}(D.Extension);t.Placeholder=be;var ve=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o;return x(this,t),o=C(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o.results=[],o.searchTerm=null,o._updating=!1,o}return M(t,e),w(t,[{key:'commands',value:function(){var e=this;return{find:function(t){return e.find(t)},replace:function(t){return e.replace(t)},replaceAll:function(t){return e.replaceAll(t)},clearSearch:function(){return e.clear()}}}},{key:'_search',value:function(e){var t=this;this.results=[];var o=[],n=0;this.searchTerm&&(e.descendants(function(e,t){e.isText?o[n]?o[n]={text:o[n].text+e.text,pos:o[n].pos}:o[n]={text:e.text,pos:t}:n+=1}),o.forEach(function(e){for(var o=e.text,n=e.pos,a=t.findRegExp,r;(r=a.exec(o))&&''!==r[0];)t.results.push({from:n+r.index,to:n+r.index+r[0].length})}))}},{key:'replace',value:function(e){var t=this;return function(o,n){var a=t.results[0];if(a){var r=t.results[0],i=r.from,s=r.to;n(o.tr.insertText(e,i,s)),t.editor.commands.find(t.searchTerm)}}}},{key:'rebaseNextResult',value:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=t+1;if(!this.results[n])return null;var a=this.results[t],r=a.from,i=a.to,s=i-r-e.length+o,d=this.results[n],l=d.from,p=d.to;return this.results[n]={to:p-s,from:l-s},s}},{key:'replaceAll',value:function(e){var t=this;return function(o,n){var a=o.tr,r;t.results.length&&(t.results.forEach(function(o,n){var i=o.from,s=o.to;a.insertText(e,i,s),r=t.rebaseNextResult(e,n,r)}),n(a),t.editor.commands.find(t.searchTerm))}}},{key:'find',value:function(e){var t=this;return function(o,n){t.searchTerm=t.options.disableRegex?e.replace(/[-/\\^$*+?.()|[\]{}]/g,'\\$&'):e,t.updateView(o,n)}}},{key:'clear',value:function(){var e=this;return function(t,o){e.searchTerm=null,e.updateView(t,o)}}},{key:'updateView',value:function(e,t){var o=e.tr;this._updating=!0,t(o),this._updating=!1}},{key:'createDeco',value:function(e){return this._search(e),this.decorations?$.DecorationSet.create(e,this.decorations):[]}},{key:'name',get:function(){return'search'}},{key:'defaultOptions',get:function(){return{autoSelectNext:!0,findClass:'find',searching:!1,caseSensitive:!1,disableRegex:!0,alwaysSearch:!1}}},{key:'findRegExp',get:function(){return RegExp(this.searchTerm,this.options.caseSensitive?'gu':'gui')}},{key:'decorations',get:function(){var e=this;return this.results.map(function(t){return $.Decoration.inline(t.from,t.to,{class:e.options.findClass})})}},{key:'plugins',get:function(){var e=this;return[new D.Plugin({state:{init:function(){return $.DecorationSet.empty},apply:function(t,o){return e._updating||e.options.searching||t.docChanged&&e.options.alwaysSearch?e.createDeco(t.doc):t.docChanged?o.map(t.mapping,t.doc):o}},props:{decorations:function(e){return this.getState(e)}}})]}}]),t}(D.Extension);t.Search=ve;var ke=function(e){function t(){return x(this,t),C(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),w(t,[{key:'name',get:function(){return'trailing_node'}},{key:'defaultOptions',get:function(){return{node:'paragraph',notAfter:['paragraph']}}},{key:'plugins',get:function(){var e=this,t=new D.PluginKey(this.name),o=Object.entries(this.editor.schema.nodes).map(function(e){var t=d(e,2),o=t[1];return o}).filter(function(t){return e.options.notAfter.includes(t.name)});return[new D.Plugin({key:t,view:function(){return{update:function(o){var n=o.state,a=t.getState(n);if(a){var r=n.doc,i=n.schema,s=n.tr,d=i.nodes[e.options.node],l=s.insert(r.content.size,d.create());o.dispatch(l)}}}},state:{init:function(e,t){var n=t.tr.doc.lastChild;return!(0,L.nodeEqualsType)({node:n,types:o})},apply:function(e,t){if(!e.docChanged)return t;var n=e.doc.lastChild;return!(0,L.nodeEqualsType)({node:n,types:o})}}})]}}]),t}(D.Extension);t.TrailingNode=ke},f3d8:function(e,t,o){'use strict';o.r(t);var n=o('a32a'),a=o('66f5');for(var r in a)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return a[e]})}(r);var i=o('2877'),s=Object(i.a)(a['default'],n.a,n.b,!1,null,null,null);t['default']=s.exports},f5b8:function(e,t,o){'use strict';o.r(t);var n=o('f0d8'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},f772:function(e,t,o){'use strict';o.r(t);var n=o('2f21'),a=o.n(n);for(var r in n)0>['default'].indexOf(r)&&function(e){o.d(t,e,function(){return n[e]})}(r);t['default']=a.a},f95e:function(e,t,o){'use strict';function n(e){return function(t,o,n,a){var r=e;if(o[1]){var i=o[0].lastIndexOf(o[1]);r+=o[0].slice(i+o[1].length),n+=i;var s=n-a;0<s&&(r=o[0].slice(i-s,i)+r,n=a)}return t.tr.insertText(r,n,a)}}function a(e,t,o,n,a,r){if(e.composing)return!1;var d=e.state,p=d.doc.resolve(t);if(p.parent.type.spec.code)return!1;for(var c=p.parent.textBetween(s(0,p.parentOffset-l),p.parentOffset,null,'\uFFFC')+n,u=0;u<a.length;u++){var i=a[u].match.exec(c),f=i&&a[u].handler(d,i,t-(i[0].length-n.length),o);if(f)return e.dispatch(f.setMeta(r,{transform:f,from:t,to:o,text:n})),!0}return!1}Object.defineProperty(t,'__esModule',{value:!0}),t.inputRules=function(e){var t=e.rules,o=new r.Plugin({state:{init:function(){return null},apply:function(e,t){var o=e.getMeta(this);return o?o:e.selectionSet||e.docChanged?null:t}},props:{handleTextInput:function(e,n,r,i){return a(e,n,r,i,t,o)},handleDOMEvents:{compositionend:function(e){setTimeout(function(){var n=e.state.selection,r=n.$cursor;r&&a(e,r.pos,r.pos,'',t,o)})}}},isInputRules:!0});return o},t.textblockTypeInputRule=function(e,t,o){return new d(e,function(e,n,a,r){var i=e.doc.resolve(a),s=o instanceof Function?o(n):o;return i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t)?e.tr.delete(a,r).setBlockType(a,a,t,s):null})},t.undoInputRule=function(e,t){for(var o=e.plugins,n=0;n<o.length;n++){var a=o[n],r=void 0;if(a.spec.isInputRules&&(r=a.getState(e))){if(t){for(var i=e.tr,s=r.transform,d=s.steps.length-1;0<=d;d--)i.step(s.steps[d].invert(s.docs[d]));var l=i.doc.resolve(r.from).marks();t(i.replaceWith(r.from,r.to,e.schema.text(r.text,l)))}return!0}}return!1},t.wrappingInputRule=function(e,t,o,n){return new d(e,function(e,a,r,s){var d=o instanceof Function?o(a):o,l=e.tr.delete(r,s),p=l.doc.resolve(r),c=p.blockRange(),u=c&&(0,i.findWrapping)(c,t,d);if(!u)return null;l.wrap(c,u);var f=l.doc.resolve(r-1).nodeBefore;return f&&f.type==t&&(0,i.canJoin)(l.doc,r-1)&&(!n||n(a,f))&&l.join(r-1),l})},t.smartQuotes=t.openSingleQuote=t.openDoubleQuote=t.emDash=t.ellipsis=t.closeSingleQuote=t.closeDoubleQuote=t.InputRule=void 0;var r=o('5313'),i=o('0ac0'),d=function(e,t){this.match=e,this.handler='string'==typeof t?n(t):t};t.InputRule=d;var l=500,p=new d(/--$/,'\u2014');t.emDash=p;var c=new d(/\.\.\.$/,'\u2026');t.ellipsis=c;var u=new d(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,'\u201C');t.openDoubleQuote=u;var f=new d(/"$/,'\u201D');t.closeDoubleQuote=f;var m=new d(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,'\u2018');t.openSingleQuote=m;var h=new d(/'$/,'\u2019');t.closeSingleQuote=h;t.smartQuotes=[u,f,m,h]},fae3:function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0}),o('1eb2');var n=o('41f5');Object.keys(n).forEach(function(e){'default'===e||'__esModule'===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})})},fcf3:function(e,t,o){'use strict';function n(e){'@babel/helpers - typeof';return n='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},n(e)}function a(e,t){return l(e)||d(e,t)||s(e,t)||r()}function r(){throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.')}function s(e,t){if(e){if('string'==typeof e)return i(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return'Object'===a&&e.constructor&&(a=e.constructor.name),'Map'===a||'Set'===a?Array.from(e):'Arguments'===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function d(e,t){var o=null==e?null:'undefined'!=typeof Symbol&&e[Symbol.iterator]||e['@@iterator'];if(null!=o){var n=[],a=!0,r=!1,i,s;try{for(o=o.call(e);!(a=(i=o.next()).done)&&(n.push(i.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,s=e}finally{try{a||null==o['return']||o['return']()}finally{if(r)throw s}}return n}}function l(e){if(Array.isArray(e))return e}function p(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function c(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function u(e,t,o){return t&&c(e.prototype,t),o&&c(e,o),Object.defineProperty(e,'prototype',{writable:!1}),e}function f(e,t){if(t&&('object'===n(t)||'function'==typeof t))return t;if(void 0!==t)throw new TypeError('Derived constructors may only return object or undefined');return m(e)}function m(e){if(void 0===e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return e}function h(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function');e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,'prototype',{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}Object.defineProperty(t,'__esModule',{value:!0}),t.default=void 0;var y=o('cd42'),b=o('a9de'),v=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,k=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),u(t,[{key:'commands',value:function(e){var t=e.type;return function(e){return function(o,n){var a=o.selection,r=a.$cursor?a.$cursor.pos:a.$to.pos,i=t.create(e),s=o.tr.insert(r,i);n(s)}}}},{key:'inputRules',value:function(e){var t=e.type;return[(0,b.nodeInputRule)(v,t,function(e){var t=a(e,4),o=t[1],n=t[2],r=t[3];return{src:n,alt:o,title:r}})]}},{key:'name',get:function(){return'image'}},{key:'schema',get:function(){return{attrs:{src:{},alt:{default:null},title:{default:null}},group:'block',draggable:!0,parseDOM:[{tag:'img[src]',getAttrs:function(e){return{src:e.getAttribute('src'),title:e.getAttribute('title'),alt:e.getAttribute('alt')}}}],toDOM:function(e){return['img',e.attrs]}}}},{key:'plugins',get:function(){return[new y.Plugin({props:{handleDOMEvents:{drop:function(e,t){var o=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(o){var n=Array.from(t.dataTransfer.files).filter(function(e){return /image/i.test(e.type)});if(0!==n.length){t.preventDefault();var a=e.state.schema,r=e.posAtCoords({left:t.clientX,top:t.clientY});n.forEach(function(t){var o=new FileReader;o.onload=function(t){var o=a.nodes.image.create({src:t.target.result}),n=e.state.tr.insert(r.pos,o);e.dispatch(n)},o.readAsDataURL(t)})}}}}}})]}}]),t}(y.Node);t.default=k}})});
//# sourceMappingURL=core.umd.js.map