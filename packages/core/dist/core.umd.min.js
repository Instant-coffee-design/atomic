(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.core=t(require("vue")):e.core=t(e.Vue)})("undefined"==typeof self?this:self,(function(e){var t=String.fromCharCode,n=Math.round,r=Math.floor,o=Math.min,i=Math.max;return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(t){return e[t]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s="fae3")}({"0010":function(e,t,n){"use strict";function r(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function o(e,t,n){var r=e.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):0<o.parentOffset))return!1;var a=s(o);if(!a){var c=o.blockRange(),u=c&&(0,O.liftTarget)(c);return null!=u&&(t&&t(e.tr.lift(c,u).scrollIntoView()),!0)}var l=a.nodeBefore;if(!l.type.spec.isolating&&b(e,a,t))return!0;if(0==o.parent.content.size&&(i(l,"end")||C.NodeSelection.isSelectable(l))){if(t){var f=e.tr.deleteRange(o.before(),o.after());f.setSelection(i(l,"end")?C.Selection.findFrom(f.doc.resolve(f.mapping.map(a.pos,-1)),-1):C.NodeSelection.create(f.doc,a.pos-l.nodeSize)),t(f.scrollIntoView())}return!0}return!(!l.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0)}function i(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function a(e,t,n){var r=e.selection,o=r.$head,i=r.empty,a=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):0<o.parentOffset)return!1;a=s(o)}var c=a&&a.nodeBefore;return!(!c||!C.NodeSelection.isSelectable(c))&&(t&&t(e.tr.setSelection(C.NodeSelection.create(e.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)}function s(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;0<=t;t--){if(0<e.index(t))return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function c(e,t,n){var r=e.selection,o=r.$cursor;if(!o||(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size))return!1;var a=l(o);if(!a)return!1;var s=a.nodeAfter;if(b(e,a,t))return!0;if(0==o.parent.content.size&&(i(s,"start")||C.NodeSelection.isSelectable(s))){if(t){var c=e.tr.deleteRange(o.before(),o.after());c.setSelection(i(s,"start")?C.Selection.findFrom(c.doc.resolve(c.mapping.map(a.pos)),1):C.NodeSelection.create(c.doc,c.mapping.map(a.pos))),t(c.scrollIntoView())}return!0}return!(!s.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0)}function u(e,t,n){var r=e.selection,o=r.$head,i=r.empty,a=o;if(!i)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;a=l(o)}var s=a&&a.nodeAfter;return!(!s||!C.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(C.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),!0)}function l(e){if(!e.parent.type.spec.isolating)for(var t,n=e.depth-1;0<=n;n--){if(t=e.node(n),e.index(n)+1<t.childCount)return e.doc.resolve(e.after(n+1));if(t.type.spec.isolating)break}return null}function f(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}function p(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t),r=n.type;if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function d(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),s=p(i.contentMatchAt(a));if(!i.canReplaceWith(a,a,s))return!1;if(t){var c=r.after(),u=e.tr.replaceWith(c,c,s.createAndFill());u.setSelection(C.Selection.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0}function h(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=p(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(a,i.createAndFill());s.setSelection(C.TextSelection.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}function v(e,t){var n=e.selection,r=n.$cursor;if(!r||r.parent.content.size)return!1;if(1<r.depth&&r.after()!=r.end(-1)){var o=r.before();if((0,O.canSplit)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var i=r.blockRange(),a=i&&(0,O.liftTarget)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}function m(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof C.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!(0,O.canSplit)(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,a=e.tr;e.selection instanceof C.TextSelection&&a.deleteSelection();var s=0==r.depth?null:p(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&s?[{type:s}]:null,u=(0,O.canSplit)(a.doc,a.mapping.map(r.pos),1,c);c||u||!(0,O.canSplit)(a.doc,a.mapping.map(r.pos),1,s&&[{type:s}])||(c=[{type:s}],u=!0),u&&(a.split(a.mapping.map(r.pos),1,c),!i&&!r.parentOffset&&r.parent.type!=s&&r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),x.Fragment.from(s.create(),r.parent))&&a.setNodeMarkup(a.mapping.map(r.before()),s)),t(a.scrollIntoView())}return!0}function g(e,t){return t&&t(e.tr.setSelection(new C.AllSelection(e.doc))),!0}function y(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!(0,O.canJoin)(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function b(e,t,n){var r,o,i=t.nodeBefore,a=t.nodeAfter;if(i.type.spec.isolating||a.type.spec.isolating)return!1;if(y(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var s=t.pos+a.nodeSize,c=x.Fragment.empty,u=r.length-1;0<=u;u--)c=x.Fragment.from(r[u].create(null,c));c=x.Fragment.from(i.copy(c));var l=e.tr.step(new O.ReplaceAroundStep(t.pos-1,s,t.pos,s,new x.Slice(c,1,0),r.length,!0)),f=s+2*r.length;(0,O.canJoin)(l.doc,f)&&l.join(f),n(l.scrollIntoView())}return!0}var p=C.Selection.findFrom(t,1),d=p&&p.$from.blockRange(p.$to),h=d&&(0,O.liftTarget)(d);return!!(null!=h&&h>=t.depth)&&(n&&n(e.tr.lift(d,h).scrollIntoView()),!0)}function w(e,t,n){for(var r,o=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){return!s&&void(s=e.inlineContent&&e.type.allowsMarkType(n))})),s)return{v:!0}},i=0;i<t.length;i++)if(r=o(i),r)return r.v;return!1}function k(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r,o=[],i=0;i<n.mapping.maps.length;i++){r=n.mapping.maps[i];for(var a=0;a<o.length;a++)o[a]=r.map(o[a]);r.forEach((function(e,t,n,r){return o.push(n,r)}))}for(var s=[],c=0;c<o.length;c+=2)for(var u,l=o[c],f=o[c+1],p=n.doc.resolve(l),d=p.sharedDepth(f),h=p.node(d),v=p.indexAfter(d),m=p.after(d+1);m<=f&&(u=h.maybeChild(v),u);++v){if(v&&-1==s.indexOf(m)){var g=h.child(v-1);g.type==u.type&&t(g,u)&&s.push(m)}m+=u.nodeSize}s.sort((function(e,t){return e-t}));for(var y=s.length-1;0<=y;y--)(0,O.canJoin)(n.doc,s[y])&&n.join(s[y]);e(n)}}function S(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.autoJoin=function(e,t){if(Array.isArray(t)){var n=t;t=function(e){return-1<n.indexOf(e.type.name)}}return function(n,r){return e(n,r&&k(r,t))}},t.chainCommands=S,t.createParagraphNear=h,t.deleteSelection=r,t.exitCode=d,t.joinBackward=o,t.joinDown=function(e,t){var n,r=e.selection;if(r instanceof C.NodeSelection){if(r.node.isTextblock||!(0,O.canJoin)(e.doc,r.to))return!1;n=r.to}else if(n=(0,O.joinPoint)(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0},t.joinForward=c,t.joinUp=function(e,t){var n,r=e.selection,o=r instanceof C.NodeSelection;if(o){if(r.node.isTextblock||!(0,O.canJoin)(e.doc,r.from))return!1;n=r.from}else if(n=(0,O.joinPoint)(e.doc,r.from,-1),null==n)return!1;if(t){var i=e.tr.join(n);o&&i.setSelection(C.NodeSelection.create(i.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},t.lift=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=r.blockRange(o),a=i&&(0,O.liftTarget)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)},t.liftEmptyBlock=v,t.newlineInCode=f,t.selectAll=g,t.selectNodeBackward=a,t.selectNodeForward=u,t.selectParentNode=function(e,t){var n,r=e.selection,o=r.$from,i=r.to,a=o.sharedDepth(i);return 0!=a&&(n=o.before(a),t&&t(e.tr.setSelection(C.NodeSelection.create(e.doc,n))),!0)},t.setBlockType=function(e,t){return function(n,r){var o=n.selection,i=o.from,a=o.to,s=!1;return n.doc.nodesBetween(i,a,(function(r,o){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{var i=n.doc.resolve(o),a=i.index();s=i.parent.canReplaceWith(a,a+1,e)}})),!!s&&(r&&r(n.tr.setBlockType(i,a,e,t).scrollIntoView()),!0)}},t.splitBlock=m,t.splitBlockKeepMarks=function(e,t){return m(e,t&&function(n){var r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();r&&n.ensureMarks(r),t(n)})},t.toggleMark=function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!w(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,u=n.tr,l=0;!c&&l<s.length;l++){var f=s[l],p=f.$from,d=f.$to;c=n.doc.rangeHasMark(p.pos,d.pos,e)}for(var h=0;h<s.length;h++){var v=s[h],m=v.$from,g=v.$to;c?u.removeMark(m.pos,g.pos,e):u.addMark(m.pos,g.pos,e.create(t))}r(u.scrollIntoView())}return!0}},t.wrapIn=function(e,t){return function(n,r){var o=n.selection,i=o.$from,a=o.$to,s=i.blockRange(a),c=s&&(0,O.findWrapping)(s,e,t);return!!c&&(r&&r(n.tr.wrap(s,c).scrollIntoView()),!0)}},t.pcBaseKeymap=t.macBaseKeymap=t.baseKeymap=void 0;var O=n("0ac0"),x=n("304a"),C=n("5313"),M=S(r,o,a),_=S(r,c,u),N={Enter:S(f,h,v,m),"Mod-Enter":d,Backspace:M,"Mod-Backspace":M,Delete:_,"Mod-Delete":_,"Mod-a":g};t.pcBaseKeymap=N;var A={"Ctrl-h":N.Backspace,"Alt-Backspace":N["Mod-Backspace"],"Ctrl-d":N.Delete,"Ctrl-Alt-Backspace":N["Mod-Delete"],"Alt-Delete":N["Mod-Delete"],"Alt-d":N["Mod-Delete"]};for(var T in t.macBaseKeymap=A,N)A[T]=N[T];var P="undefined"==typeof navigator?"undefined"!=typeof os&&"darwin"==os.platform():/Mac/.test(navigator.platform),E=P?A:N;t.baseKeymap=E},"0159":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function a(e){o(c,r,i,a,s,"next",e)}function s(e){o(c,r,i,a,s,"throw",e)}var c=e.apply(t,n);a(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("cd42"),s=r(n("5d96")),c=r(n("ec09")),u=r(n("b95c")),l=r(n("40c0")),f=r(n("c53b")),p={name:"PaperEditor",components:{EditorView:s.default,EditorMenuBar:a.EditorMenuBar,PaperButton:c.default,PaperSelect:u.default,PaperPopin:l.default},props:{value:{type:String,default:"Hello"},config:{type:Object,default:function(){return{}}}},data:function(){return{state:{current:"styleSelect"},editor:null,options:[]}},mounted:function(){var e=i(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$data.editor=new a.Editor({extensions:f.default.plugins(),content:this.$props.value}),this.$data.options=[[{id:"undo",label:"Annuler",icon:"undo-alt"},{id:"redo",label:"Rétablir",icon:"redo-alt"}],[f.default.menu.styledBlock(this.$props.config.styledBlock||void 0)],[{id:"bold",label:"Gras",icon:"bold"},{id:"italic",label:"Italique",icon:"italic"}],[f.default.menu.link(this.$props.config.link||void 0),f.default.menu.image(this.$props.config.styledBlock||void 0),{id:"bullet_list",label:"Liste",icon:"list-ul"},{id:"ordered_list",label:"Liste numérotée",icon:"list-ol"}]],this.$data.editor.on("update",(function(){return t.onUpdate()})),setTimeout((function(){return t.onUpdate()}),100);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),methods:{onUpdate:function(){this.$emit("input",this.$data.editor.getHTML())}}};t.default=p},"0353":function(e,t,n){"use strict";n.r(t);var r=n("1b9d"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"0490":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"PaperEditor_button",class:{"is-active":e.isActive},attrs:{type:"button"},on:{click:function(){return e.$emit("click")}}},[e.icon?n("i",{staticClass:"fal",class:["fa-"+e.icon]}):e._e(),e.$slots.list?n("div",{staticClass:"PaperEditor_buttonList"},[e._t("list")],2):e._e()])},o=[]},"0675":function(e,t,n){"use strict";n.r(t);var r=n("cfec"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"073e":function(e,t,n){"use strict";function r(e){function t(t){return t&&(t=o.apply(null,arguments)),new e(t)}return t.displayName=e.displayName||e.name,t}var o=n("5dbe"),i=r(Error);e.exports=i,i.eval=r(EvalError),i.range=r(RangeError),i.reference=r(ReferenceError),i.syntax=r(SyntaxError),i.type=r(TypeError),i.uri=r(URIError),i.create=r},"08bd":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("679f")),c=r(n("2836")),u=r(n("7aee")),l=r(n("f3d8")),f=r(n("2029")),p={name:"PaperPopin",components:{PopinBase:s.default,ButtonBase:f.default,InputBase:c.default,ToggleBase:l.default,InputMedia:u.default},props:{content:{type:String,default:""},form:{type:Object,default:function(){}},isActive:{type:Boolean,default:!1},attrs:{type:Object,default:function(){}},currentNode:{type:Object,default:function(){}}},data:function(){return{value:{}}},watch:{form:{immediate:!0,deep:!0,handler:function(e){this.$data.value=this.formToValues(e)}},currentNode:{immediate:!0,handler:function(e){this.$data.value=i(i(i({},this.$data.value),this.formToValues(this.$props.form)),e||{})}}},methods:{formToValues:function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].value})),t},onInput:function(){var e=this,t=Object.keys(this.$props.form).reduce((function(t,n){var r=e.$data.value[n],o=e.$props.form[n];return i(i({},t),{},a({},n,o.transformer&&o.transformer.set?o.transformer.set(r):r))}),{});this.$emit("input",t),this.$emit("close")}}};t.default=p},"0ac0":function(e,t,n){"use strict";function r(e,t){return e+t*P}function a(e){return e&T}function s(e){return(e-(e&T))/P}function c(e){var t=Error.call(this,e);return t.__proto__=c.prototype,t}function u(){throw new Error("Override me")}function l(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;0<o&&0<i&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(0<o)for(var a=r.node(i).maybeChild(r.indexAfter(i));0<o;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function f(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function p(e){return{type:e,attrs:null}}function d(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}function h(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=a.length?a[a.length-1]:t,c=s.contentMatch,u=r;c&&u<o;u++)c=c.matchType(n.child(u).type);return c&&c.validEnd?a:null}function v(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function m(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function g(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o,i=r.depth-1;0<=i;i--){if(o=r.index(i),r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(0<o)return null}if(r.parentOffset==r.parent.content.size)for(var a,s=r.depth-1;0<=s;s--){if(a=r.indexAfter(s),r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}function y(e,t,n){for(var r,o=[],i=0;i<e.childCount;i++)r=e.child(i),r.content.size&&(r=r.copy(y(r.content,t,r))),r.isInline&&(r=t(r,n,i)),o.push(r);return A.Fragment.fromArray(o)}function b(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=A.Slice.empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return w(o,i,r)?new F(t,n,r):new W(o,i,r).fit()}function w(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}function k(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(k(e.firstChild.content,t-1,n)))}function S(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(S(e.lastChild.content,t-1,n)))}function O(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function x(e,t,n){if(0>=t)return e;var r=e.content;return 1<t&&(r=r.replaceChild(0,x(r.firstChild,t-1,1==r.childCount?n-1:0))),0<t&&(r=e.type.contentMatch.fillBefore(r).append(r),0>=n&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(A.Fragment.empty,!0)))),e.copy(r)}function C(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!M(n,i.content,a)?s:null}function M(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function _(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(_(i.content,t+1,n,r,i)))}if(t>r){var a=o.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(A.Fragment.empty,!0))}return e}function N(e,t){for(var n,r=[],i=o(e.depth,t.depth),a=i;0<=a&&(n=e.start(a),!(n<e.pos-(e.depth-a)||t.end(a)>t.pos+(t.depth-a)||e.node(a).type.spec.isolating||t.node(a).type.spec.isolating));a--)n==t.start(a)&&r.push(a);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.TransformError=c,t.canJoin=function(e,t){var n=e.resolve(t),r=n.index();return m(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},t.canSplit=function(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(0>i||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,c=n-2;s>i;s--,c--){var u=o.node(s),l=o.index(s);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(l,u.childCount),p=r&&r[c]||u;if(p!=u&&(f=f.replaceChild(0,p.type.create(p.attrs))),!u.canReplace(l+1,u.childCount)||!p.type.validContent(f))return!1}var d=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(d,d,h?h.type:o.node(i+1).type)},t.dropPoint=function(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;0<=s;s--){var c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(0<c?1:0);if(1==a?r.node(s).canReplace(u,u,o):r.node(s).contentMatchAt(u).findWrapping(o.firstChild.type))return 0==c?r.pos:0>c?r.before(s+1):r.after(s+1)}return null},t.findWrapping=function(e,t,n,r){void 0===r&&(r=e);var o=d(e,t),i=o&&h(r,t);return i?o.map(p).concat({type:t,attrs:n}).concat(i.map(p)):null},t.insertPoint=g,t.joinPoint=function(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):0<n?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&m(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=0>n?r.before(o):r.after(o)}},t.liftTarget=function(e){for(var t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex),r=e.depth;;--r){var o=e.$from.node(r),i=e.$from.index(r),a=e.$to.indexAfter(r);if(r<e.depth&&o.canReplace(i,a,n))return r;if(0==r||o.type.spec.isolating||!f(o,i,a))break}},t.replaceStep=b,t.Transform=t.StepResult=t.StepMap=t.Step=t.ReplaceStep=t.ReplaceAroundStep=t.RemoveMarkStep=t.Mapping=t.MapResult=t.AddMarkStep=void 0;var A=n("304a"),T=65535,P=65536,E=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n};t.MapResult=E;var R=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};t.StepMap=R,R.prototype.recover=function(e){var t=0,n=a(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+s(e)},R.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},R.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},R.prototype._map=function(e,t,n){for(var o,i=0,a=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length&&(o=this.ranges[c]-(this.inverted?i:0),!(o>e));c+=3){var u=this.ranges[c+a],l=this.ranges[c+s],f=o+u;if(e<=f){var p=u?e==o?-1:e==f?1:t:t,d=o+i+(0>p?0:l);if(n)return d;var h=e==(0>t?o:f)?null:r(c/3,e-o);return new E(d,0>t?e!=o:e!=f,h)}i+=l-u}return n?e+i:new E(e+i)},R.prototype.touches=function(e,t){for(var n,r=0,o=a(t),i=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length&&(n=this.ranges[c]-(this.inverted?r:0),!(n>e));c+=3){var u=this.ranges[c+i],l=n+u;if(e<=l&&c==3*o)return!0;r+=this.ranges[c+s]-u}return!1},R.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),c=this.ranges[r+t],u=this.ranges[r+n];e(a,a+c,s,s+u),o+=u-c}},R.prototype.invert=function(){return new R(this.ranges,!this.inverted)},R.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},R.offset=function(e){return 0==e?R.empty:new R(0>e?[0,-e,0]:[0,0,e])},R.empty=new R([]);var D=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};t.Mapping=D,D.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new D(this.maps,this.mirror,e,t)},D.prototype.copy=function(){return new D(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},D.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},D.prototype.appendMapping=function(e){for(var t,n=0,r=this.maps.length;n<e.maps.length;n++)t=e.getMirror(n),this.appendMap(e.maps[n],null!=t&&t<n?r+t:null)},D.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},D.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},D.prototype.appendMappingInverted=function(e){for(var t,n=e.maps.length-1,r=this.maps.length+e.maps.length;0<=n;n--)t=e.getMirror(n),this.appendMap(e.maps[n].invert(),null!=t&&t>n?r-t-1:null)},D.prototype.invert=function(){var e=new D;return e.appendMappingInverted(this),e},D.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},D.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},D.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o],a=i.mapResult(e,t);if(null!=a.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,e=this.maps[s].recover(a.recover);continue}}a.deleted&&(r=!0),e=a.pos}return n?e:new E(e,r)},c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,c.prototype.name="TransformError";var j=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new D};t.Transform=j;var I={before:{configurable:!0},docChanged:{configurable:!0}};I.before.get=function(){return this.docs.length?this.docs[0]:this.doc},j.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new c(t.failed);return this},j.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},I.docChanged.get=function(){return 0<this.steps.length},j.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(j.prototype,I);var $=Object.create(null),B=function(){};t.Step=B,B.prototype.apply=function(){return u()},B.prototype.getMap=function(){return R.empty},B.prototype.invert=function(){return u()},B.prototype.map=function(){return u()},B.prototype.merge=function(){return null},B.prototype.toJSON=function(){return u()},B.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=$[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},B.jsonID=function(e,t){if(e in $)throw new RangeError("Duplicate use of step JSON ID "+e);return $[e]=t,t.prototype.jsonID=e,t};var z=function(e,t){this.doc=e,this.failed=t};t.StepResult=z,z.ok=function(e){return new z(e,null)},z.fail=function(e){return new z(null,e)},z.fromReplace=function(e,t,n,r){try{return z.ok(e.replace(t,n,r))}catch(t){if(t instanceof A.ReplaceError)return z.fail(t.message);throw t}};var F=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&l(e,this.from,this.to)?z.fail("Structure replace would overwrite content"):z.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new R([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,i(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){var n=0==this.slice.size+e.slice.size?A.Slice.empty:new A.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),n,this.structure)}if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){var r=0==this.slice.size+e.slice.size?A.Slice.empty:new A.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,r,this.structure)}return null},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,A.Slice.fromJSON(e,n.slice),!!n.structure)},t}(B);t.ReplaceStep=F,B.jsonID("replace",F);var L=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(l(e,this.from,this.gapFrom)||l(e,this.gapTo,this.to)))return z.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return z.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?z.fromReplace(e,this.from,this.to,n):z.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new R([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,A.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(B);t.ReplaceAroundStep=L,B.jsonID("replaceAround",L),j.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,i=n.before(o+1),a=r.after(o+1),s=i,c=a,u=A.Fragment.empty,l=0,f=o,p=!1;f>t;f--)p||0<n.index(f)?(p=!0,u=A.Fragment.from(n.node(f).copy(u)),l++):s--;for(var d=A.Fragment.empty,h=0,v=o,m=!1;v>t;v--)m||r.after(v+1)<r.end(v)?(m=!0,d=A.Fragment.from(r.node(v).copy(d)),h++):c++;return this.step(new L(s,c,i,a,new A.Slice(u.append(d),l,h),u.size-l,!0))},j.prototype.wrap=function(e,t){for(var n=A.Fragment.empty,r=t.length-1;0<=r;r--)n=A.Fragment.from(t[r].type.create(t[r].attrs,n));var o=e.start,i=e.end;return this.step(new L(o,i,o,i,new A.Slice(n,0,0),t.length,!0))},j.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&v(o.doc,o.mapping.slice(i).map(t),n)){o.clearIncompatible(o.mapping.slice(i).map(t,1),n);var a=o.mapping.slice(i),s=a.map(t,1),c=a.map(t+e.nodeSize,1);return o.step(new L(s,c,s+1,c-1,new A.Slice(A.Fragment.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},j.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var i=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,i);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new L(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new A.Slice(A.Fragment.from(i),0,0),1,!0))},j.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=A.Fragment.empty,i=A.Fragment.empty,a=r.depth,s=r.depth-t,c=t-1;a>s;a--,c--){o=A.Fragment.from(r.node(a).copy(o));var u=n&&n[c];i=A.Fragment.from(u?u.type.create(u.attrs,i):r.node(a).copy(i))}return this.step(new F(e,e,new A.Slice(o.append(i),t,t),!0))},j.prototype.join=function(e,t){void 0===t&&(t=1);var n=new F(e-t,e+t,A.Slice.empty,!0);return this.step(n)};var V=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new A.Slice(y(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return z.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new H(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(o(this.from,e.from),i(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(B);t.AddMarkStep=V,B.jsonID("addMark",V);var H=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new A.Slice(y(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return z.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new V(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(o(this.from,e.from),i(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(B);t.RemoveMarkStep=H,B.jsonID("removeMark",H),j.prototype.addMark=function(e,t,n){var r=this,a=[],s=[],c=null,u=null;return this.doc.nodesBetween(e,t,(function(r,l,f){if(r.isInline){var p=r.marks;if(!n.isInSet(p)&&f.type.allowsMarkType(n.type)){for(var d=i(l,e),h=o(l+r.nodeSize,t),v=n.addToSet(p),m=0;m<p.length;m++)p[m].isInSet(v)||(c&&c.to==d&&c.mark.eq(p[m])?c.to=h:a.push(c=new H(d,h,p[m])));u&&u.to==d?u.to=h:s.push(u=new V(d,h,n))}}})),a.forEach((function(e){return r.step(e)})),s.forEach((function(e){return r.step(e)})),this},j.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var a=[],s=0;return this.doc.nodesBetween(e,t,(function(r,c){if(r.isInline){s++;var u=null;if(n instanceof A.MarkType){var l=n.isInSet(r.marks);l&&(u=[l])}else n?n.isInSet(r.marks)&&(u=[n]):u=r.marks;if(u&&u.length)for(var f=o(c+r.nodeSize,t),p=0;p<u.length;p++){for(var d,h=u[p],v=void 0,m=0;m<a.length;m++)d=a[m],d.step==s-1&&h.eq(a[m].style)&&(v=d);v?(v.to=f,v.step=s):a.push({style:h,from:i(c,e),to:f,step:s})}}})),a.forEach((function(e){return r.step(new H(e.from,e.to,e.style))})),this},j.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],i=e+1,a=0;a<r.childCount;a++){var s=r.child(a),c=i+s.nodeSize,u=n.matchType(s.type,s.attrs);if(u){n=u;for(var l=0;l<s.marks.length;l++)t.allowsMarkType(s.marks[l].type)||this.step(new H(i,c,s.marks[l]))}else o.push(new F(i,c,A.Slice.empty));i=c}if(!n.validEnd){var f=n.fillBefore(A.Fragment.empty,!0);this.replace(i,i,new A.Slice(f,0,0))}for(var p=o.length-1;0<=p;p--)this.step(o[p]);return this},j.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=A.Slice.empty);var r=b(this.doc,e,t,n);return r&&this.step(r),this},j.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new A.Slice(A.Fragment.from(n),0,0))},j.prototype.delete=function(e,t){return this.replace(e,t,A.Slice.empty)},j.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var W=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r,o=0;o<=e.depth;o++)r=e.node(o),this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(o))});this.placed=A.Fragment.empty;for(var i=e.depth;0<i;i--)this.placed=A.Fragment.from(e.node(i).copy(this.placed))},J={depth:{configurable:!0}};J.depth.get=function(){return this.frontier.length-1},W.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(0>t?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,a=r.depth,s=o.depth;a&&s&&1==i.childCount;)i=i.firstChild.content,a--,s--;var c=new A.Slice(i,a,s);return-1<t?new L(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new F(r.pos,o.pos,c):void 0},W.prototype.findFittable=function(){for(var e=1;2>=e;e++)for(var t=this.unplaced.openStart;0<=t;t--){var n=void 0,r=void 0;t?(r=O(this.unplaced.content,t-1).firstChild,n=r.content):n=this.unplaced.content;for(var o=n.firstChild,i=this.depth;0<=i;i--){var a=this.frontier[i],s=a.type,c=a.match,u=void 0,l=void 0;if(1==e&&(o?c.matchType(o.type)||(l=c.fillBefore(A.Fragment.from(o),!1)):s.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:i,parent:r,inject:l};if(2==e&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:r,wrap:u};if(r&&c.matchType(r.type))break}}},W.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=O(t,n);return o.childCount&&!o.firstChild.isLeaf&&(this.unplaced=new A.Slice(t,n+1,i(r,o.size+n>=t.size-r?n+1:0)),!0)},W.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=O(t,n);if(1>=o.childCount&&0<n){var i=t.size-n<=n+o.size;this.unplaced=new A.Slice(k(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new A.Slice(k(t,n,1),n,r)},W.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var a=0;a<i.length;a++)this.openFrontierNode(i[a]);var s=this.unplaced,c=r?r.content:s.content,u=s.openStart-t,l=0,f=[],p=this.frontier[n],d=p.match,h=p.type;if(o){for(var v=0;v<o.childCount;v++)f.push(o.child(v));d=d.matchFragment(o)}for(var m=c.size+t-(s.content.size-s.openEnd);l<c.childCount;){var g=c.child(l),y=d.matchType(g.type);if(!y)break;l++,(1<l||0==u||g.content.size)&&(d=y,f.push(x(g.mark(h.allowedMarks(g.marks)),1==l?u:0,l==c.childCount?m:-1)))}var b=l==c.childCount;b||(m=-1),this.placed=S(this.placed,n,A.Fragment.from(f)),this.frontier[n].match=d,b&&0>m&&r&&r.type==this.frontier[this.depth].type&&1<this.frontier.length&&this.closeFrontierNode();for(var w,O=0,C=c;O<m;O++)w=C.lastChild,this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),C=w.content;this.unplaced=b?0==t?A.Slice.empty:new A.Slice(k(s.content,t-1,1),t-1,0>m?s.openEnd:t-1):new A.Slice(k(s.content,t,l),s.openStart,s.openEnd)},W.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!C(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to,r=n.depth,o=this.$to.after(r);1<r&&o==this.$to.end(--r);)++o;return o},W.prototype.findCloseLevel=function(e){e:for(var t=o(this.depth,e.depth);0<=t;t--){var n=this.frontier[t],r=n.match,i=n.type,a=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=C(e,t,i,r,a);if(s){for(var c=t-1;0<=c;c--){var u=this.frontier[c],l=u.match,f=u.type,p=C(e,c,f,l,!0);if(!p||p.childCount)continue e}return{depth:t,fit:s,move:a?e.doc.resolve(e.after(t+1)):e}}}},W.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=S(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},W.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=S(this.placed,this.depth,A.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},W.prototype.closeFrontierNode=function(){var e=this.frontier.pop(),t=e.match.fillBefore(A.Fragment.empty,!0);t.childCount&&(this.placed=S(this.placed,this.frontier.length,t))},Object.defineProperties(W.prototype,J),j.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(w(r,o,n))return this.step(new F(e,t,n));var i=N(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var a=-(r.depth+1);i.unshift(a);for(var s,c=r.depth,u=r.pos-1;0<c&&(s=r.node(c).type.spec,!s.defining&&!s.isolating);c--,u--)-1<i.indexOf(c)?a=c:r.before(c)==u&&i.splice(1,0,-c);for(var l,f=i.indexOf(a),p=[],d=n.openStart,h=n.content,v=0;;v++){if(l=h.firstChild,p.push(l),v==n.openStart)break;h=l.content}0<d&&p[d-1].type.spec.defining&&r.node(f).type!=p[d-1].type?d-=1:2<=d&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&r.node(f).type!=p[d-2].type&&(d-=2);for(var m=n.openStart;0<=m;m--){var g=(m+d+1)%(n.openStart+1),y=p[g];if(y)for(var b=0;b<i.length;b++){var k=i[(b+f)%i.length],S=!0;0>k&&(S=!1,k=-k);var O=r.node(k-1),x=r.index(k-1);if(O.canReplaceWith(x,x,y.type,y.marks))return this.replace(r.before(k),S?o.after(k):t,new A.Slice(_(n.content,0,n.openStart,g),g,n.openEnd))}}for(var C,M=this.steps.length,T=i.length-1;0<=T&&(this.replace(e,t,n),!(this.steps.length>M));T--)C=i[T],0>T||(e=r.before(C),t=o.after(C));return this},j.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=g(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new A.Slice(A.Fragment.from(n),0,0))},j.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=N(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(0<a&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&r.end(c)-t!=r.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)}},"0e51":function(e,t,n){"use strict";n.r(t);var r=n("7cc0"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"17fd":function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?n(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={methods:{randomBetween:function(e,t){return r(Math.random()*(t-e+1)+e)},randomizeArray:function(e){for(var t,n,o=e.length;0!==o;)n=r(Math.random()*o),o-=1,t=e[o],e[o]=e[n],e[n]=t;return e},tooltipOpen:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.$store.commit("tooltips/open",o({content:e,element:t.target},n))},tooltipClose:function(){this.$store.commit("tooltips/close")}}}},1875:function(e,t,n){"use strict";n.r(t);var r=n("08bd"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"1a16":function(e,t,n){"use strict";function r(e){for(var t,n=e.depth;0<=n;n--)if(t=e.index(n),0!=t)for(var r=e.node(n).child(t-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}return!0}function o(e){for(var t=e.depth;0<=t;t--){var n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}function i(e,t){var n="vert"==e?0<t?"down":"up":0<t?"right":"left";return function(e,r,o){var i=e.selection,a=0<t?i.$to:i.$from,s=i.empty;if(i instanceof u.TextSelection){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(0<t?a.after():a.before())}var c=p.findFrom(a,t,s);return!!c&&(r&&r(e.tr.setSelection(new p(c))),!0)}}function a(e,t,n){if(!e.editable)return!1;var r=e.state.doc.resolve(t);if(!p.valid(r))return!1;var o=e.posAtCoords({left:n.clientX,top:n.clientY}),i=o.inside;return!(-1<i&&u.NodeSelection.isSelectable(e.state.doc.nodeAt(i)))&&(e.dispatch(e.state.tr.setSelection(new p(r))),!0)}function s(e){if(!(e.selection instanceof p))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",l.DecorationSet.create(e.doc,[l.Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}Object.defineProperty(t,"__esModule",{value:!0}),t.gapCursor=t.GapCursor=void 0;var c=n("7f06"),u=n("5313"),l=n("576a"),f=n("304a"),p=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return f.Slice.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new d(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!r(e)||!o(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock},t.findFrom=function(e,n,r){e:for(;;){if(!r&&t.valid(e))return e;for(var o,i=e.pos,a=null,s=e.depth;;s--){if(o=e.node(s),0<n?e.indexAfter(s)<o.childCount:0<e.index(s)){a=o.child(0<n?e.indexAfter(s):e.index(s)-1);break}if(0==s)return null;i+=n;var c=e.doc.resolve(i);if(t.valid(c))return c}for(;;){var l=0<n?a.firstChild:a.lastChild;if(!l){if(a.isAtom&&!a.isText&&!u.NodeSelection.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*n),r=!1;continue e}break}a=l,i+=n;var f=e.doc.resolve(i);if(t.valid(f))return f}return null}},t}(u.Selection);t.GapCursor=p,p.prototype.visible=!1,u.Selection.jsonID("gapcursor",p);var d=function(e){this.pos=e};d.prototype.map=function(e){return new d(e.map(this.pos))},d.prototype.resolve=function(e){var t=e.resolve(this.pos);return p.valid(t)?new p(t):u.Selection.near(t)},t.gapCursor=function(){return new u.Plugin({props:{decorations:s,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&p.valid(n))return new p(n)},handleClick:a,handleKeyDown:h}})};var h=(0,c.keydownHandler)({ArrowLeft:i("horiz",-1),ArrowRight:i("horiz",1),ArrowUp:i("vert",-1),ArrowDown:i("vert",1)})},"1b97":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PaperEditor_select"},[n("select-base",{attrs:{options:e.items,value:e.selectedId},on:{input:e.onInput}})],1)},o=[]},"1b9d":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"HelperReveal",props:{isRevealed:{type:Boolean,default:!1}}};t.default=n},"1eb2":function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,"undefined"!=typeof window){var r=window.document.currentScript,o=n("8875");r=o(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:o});var i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}t.default=null},2029:function(e,t,n){"use strict";n.r(t);var r=n("c28e"),o=n("0675");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"214d":function(e,t,r){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(r("b459")),c={name:"TooltipManager",components:{Tooltip:s.default},data:function(){return{screen:{width:0,scroll:0}}},computed:{tooltips:function(){var e=this;return this.$store.state.tooltips.items.filter((function(e){return e.active})).map((function(t){return i(i({},t),{},{style:e.getPosition(t.position)})}))}},mounted:function(){var e=this;this.updateScreen(),window.addEventListener("scroll",(function(){return e.updateScreen()}))},methods:{updateScreen:function(){this.$set(this.$data.screen,{width:window.innerWidth,scroll:window.pageYOffset||document.documentElement.scrollTop})},getPosition:function(e){var t={top:0,left:0,top:n(e.top+e.height),left:n(e.left)};return{top:t.top+"px",left:t.left+"px"}}}};t.default=c},"23c9":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=n("cd42"),p=n("a9de"),d=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(e){return(0,p.toggleBlockType)(t,n.nodes.paragraph,e)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,p.textblockTypeInputRule)(/^```$/,t)]}},{key:"name",get:function(){return"styledBlock"}},{key:"schema",get:function(){return{attrs:{tag:{default:"p"},classes:{default:[]}},content:"text*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:["p","h1","h2","h3"],priority:999,getAttrs:function(e){return{tag:e.tagName.toLowerCase(),classes:e.hasAttribute("class")?e.getAttribute("class").explode(" "):[]}}}],toDOM:function(e){return[e.attrs.tag,{class:e.attrs.classes.join(" ")},0]}}}}]),t}(f.Node);t.default=d},"23f1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropCursor=function(e){return void 0===e&&(e={}),new r.Plugin({view:function(t){return new i(t,e)}})};var r=n("5313"),o=n("0ac0"),i=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var r=function(e){return n[t](e)};return e.dom.addEventListener(t,r),{name:t,handler:r}}))};i.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,r=t.handler;return e.editorView.dom.removeEventListener(n,r)}))},i.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},i.prototype.setCursor=function(e){e==this.cursorPos||(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},i.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,r=t.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var c=!s||s==document.body&&"static"==getComputedStyle(s).position?{left:-pageXOffset,top:-pageYOffset}:s.getBoundingClientRect();this.element.style.left=e.left-c.left+"px",this.element.style.top=e.top-c.top+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},i.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},i.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;this.editorView.dragging&&this.editorView.dragging.slice&&(n=(0,o.dropPoint)(this.editorView.state.doc,n,this.editorView.dragging.slice),null==n&&(n=t.pos)),this.setCursor(n),this.scheduleRemoval(5e3)}}},i.prototype.dragend=function(){this.scheduleRemoval(20)},i.prototype.drop=function(){this.scheduleRemoval(20)},i.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}},2668:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PaperView",class:{"is-editable":!!e.editable}},[e.initEditor?e._e():n("div",{domProps:{innerHTML:e._s(e.value)}}),e.initEditor?n("editor-content",{staticClass:"Paper_content",attrs:{editor:e.initEditor}}):e._e()],1)},o=[]},2836:function(e,t,n){"use strict";n.r(t);var r=n("465e"),o=n("ba5a");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},2877:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a,s){var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):o&&(c=s?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var f=u.beforeCreate;u.beforeCreate=f?[].concat(f,c):[c]}return{exports:e,options:u}}n.d(t,"a",(function(){return r}))},"2ca1":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"HelperErrors",props:{errors:{type:Array,default:function(){return[]}},isValid:{type:Boolean,default:!0},isActive:{type:Boolean,default:!1}}};t.default=n},"2f21":function(e,t,n){"use strict";function r(e){return s(e)||a(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(n("2836")),l={name:"InputUpload",components:{InputBase:u.default},props:{value:{type:Array,default:function(){return[]}},isLoading:{type:Boolean,default:!1}},data:function(){return{files:[],state:{loading:!1}}},computed:{queuedFiles:function(){return this.$data.files.filter((function(e){return!e.loaded&&!e.loading}))},loadedFiles:function(){return this.$data.files.filter((function(e){return e.loaded}))},status:function(){var e="success";return 0<this.$data.files.filter((function(e){return e.error})).length&&(e="partial"),this.$data.files.filter((function(e){return e.error})).length>=this.$data.files.length&&(e="fail"),e}},watch:{value:{immediate:!0,handler:function(e){this.$data.files=e}}},methods:{getTypeIcon:function(e){var t="fa-file-alt";return-1<e.indexOf("image")&&(t="fa-file-image"),-1<e.indexOf("html")&&(t="fa-file-code"),t},addFiles:function(e){this.$data.files=[].concat(r(this.queuedFiles),r(e.map((function(e){return{name:e.name,raw:e,loaded:!1,loading:!1}}))))},deleteFile:function(e){this.$data.files=this.$data.files.filter((function(t){return t.name!=e}))},upload:function(){this.$emit("input",this.$data.files)}}};t.default=l},"301e":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={modifiers:["s","light"],default:{}}},"304a":function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++)n++;return n}if(o.content.size||i.content.size){var c=a(o.content,i.content,n+1);if(null!=c)return c}n+=o.nodeSize}else n+=o.nodeSize}}function s(e,t,n,r){for(var i=e.childCount,a=t.childCount;;){if(0==i||0==a)return i==a?null:{a:n,b:r};var c=e.child(--i),u=t.child(--a),l=c.nodeSize;if(c!=u){if(!c.sameMarkup(u))return{a:n,b:r};if(c.isText&&c.text!=u.text){for(var f=0,p=o(c.text.length,u.text.length);f<p&&c.text[c.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(c.content.size||u.content.size){var d=s(c.content,u.content,n-1,r-1);if(d)return d}n-=l,r-=l}else n-=l,r-=l}}function c(e,t){return Q.index=e,Q.offset=t,Q}function u(e,t){if(e===t)return!0;if(!e||"object"!=r(e)||!t||"object"!=r(t))return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(!u(e[o],t[o]))return!1}else{for(var i in e)if(!(i in t)||!u(e[i],t[i]))return!1;for(var a in t)if(!(a in e))return!1}return!0}function l(e){var t=Error.call(this,e);return t.__proto__=l.prototype,t}function f(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),s=e.findIndex(n),c=s.index,u=s.offset;if(i==t||a.isText){if(u!=n&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(f(a.content,t-i-1,n-i-1)))}function p(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,s=e.maybeChild(i);if(a==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var c=p(s.content,t-a-1,n);return c&&e.replaceChild(i,s.copy(c))}function d(e,t,n){if(n.openStart>e.depth)throw new l("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new l("Inconsistent open depths");return h(e,t,n,0)}function h(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var a=h(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(!n.content.size)return b(i,k(e,t,r));if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){var s=e.parent,c=s.content;return b(s,c.cut(0,e.parentOffset).append(n.content).append(c.cut(t.parentOffset)))}var u=S(n,e),l=u.start,f=u.end;return b(i,w(e,l,f,t,r))}function v(e,t){if(!t.type.compatibleContent(e.type))throw new l("Cannot join "+t.type.name+" onto "+e.type.name)}function m(e,t,n){var r=e.node(n);return v(r,t.node(n)),r}function g(e,t){var n=t.length-1;0<=n&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function y(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(g(e.nodeAfter,r),i++));for(var s=i;s<a;s++)g(o.child(s),r);t&&t.depth==n&&t.textOffset&&g(t.nodeBefore,r)}function b(e,t){if(!e.type.validContent(t))throw new l("Invalid content for node "+e.type.name);return e.copy(t)}function w(e,t,n,r,o){var i=e.depth>o&&m(e,t,o+1),a=r.depth>o&&m(n,r,o+1),s=[];return y(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(v(i,a),g(b(i,w(e,t,n,r,o+1)),s)):(i&&g(b(i,k(e,t,o+1)),s),y(t,n,o,s),a&&g(b(a,k(n,r,o+1)),s)),y(r,null,o,s),new X(s)}function k(e,t,n){var r=[];if(y(null,e,n,r),e.depth>n){var o=m(e,t,n+1);g(b(o,k(e,t,n+1)),r)}return y(t,null,n,r),new X(r)}function S(e,t){for(var n=t.depth-e.openStart,r=t.node(n),o=r.copy(e.content),i=n-1;0<=i;i--)o=t.node(i).copy(X.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}function O(e,t){for(var n=e.length-1;0<=n;n--)t=e[n].type.name+"("+t+")";return t}function x(e){var t=[];do{t.push(C(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function C(e){var t=[];do{t.push(M(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function M(e){for(var t=T(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=N(e,t)}return t}function _(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=+e.next;return e.pos++,t}function N(e,t){var n=_(e),r=n;return e.eat(",")&&(r="}"==e.next?-1:_(e)),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function A(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];-1<a.groups.indexOf(t)&&o.push(a)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}function T(e){if(e.eat("(")){var t=x(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=A(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}function P(e){function t(){return i.push([])-1}function n(e,t,n){var r={term:n,to:t};return i[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}function o(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,t){return e.concat(o(t,i))}),[]);if("seq"==e.type)for(var a,s=0;;s++){if(a=o(e.exprs[s],i),s==e.exprs.length-1)return a;r(a,i=t())}else{if("star"==e.type){var c=t();return n(i,c),r(o(e.expr,c),c),[n(c)]}if("plus"==e.type){var u=t();return r(o(e.expr,i),u),r(o(e.expr,u),u),[n(u)]}if("opt"==e.type)return[n(i)].concat(o(e.expr,i));if("range"==e.type){for(var l,f=i,p=0;p<e.min;p++)l=t(),r(o(e.expr,f),l),f=l;if(-1==e.max)r(o(e.expr,f),f);else for(var d,h=e.min;h<e.max;h++)d=t(),n(f,d),r(o(e.expr,f),d),f=d;return[n(f)]}if("name"==e.type)return[n(i,null,e.value)]}}var i=[[]];return r(o(e,0),t()),i}function E(e,t){return t-e}function R(e,t){function n(t){var o=e[t];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(t);for(var i=0;i<o.length;i++){var a=o[i],s=a.term,c=a.to;s||-1!=r.indexOf(c)||n(c)}}var r=[];return n(t),r.sort(E)}function D(e){function t(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=-1<i&&o[i+1];R(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i,a=n[r.join(",")]=new de(-1<r.indexOf(e.length-1)),s=0;s<o.length;s+=2)i=o[s+1].sort(E),a.next.push(o[s],n[i.join(",")]||t(i));return a}var n=Object.create(null);return t(R(e,0))}function j(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],s=0;s<o.next.length;s+=2){var c=o.next[s],u=o.next[s+1];a.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function I(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function $(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function B(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new be(e[n]);return t}function z(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var s in e.marks){var c=e.marks[s];("_"==o||c.spec.group&&-1<c.spec.group.split(" ").indexOf(o))&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function F(e){return(e?_e:0)|("full"===e?Ne:0)}function L(e){for(var t,n=e.firstChild,r=null;n;n=n.nextSibling)t=1==n.nodeType?n.nodeName.toLowerCase():null,t&&Me.hasOwnProperty(t)&&r?(r.appendChild(n),n=r):"li"==t?r=n:t&&(r=null)}function V(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function H(e){for(var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];t=n.exec(e);)r.push(t[1],t[2].trim());return r}function W(e){var t={};for(var n in e)t[n]=e[n];return t}function J(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function e(n){i.push(n);for(var r=0;r<n.edgeCount;r++){var o=n.edge(r),a=o.type,s=o.next;if(a==t)return!0;if(0>i.indexOf(s)&&e(s))return!0}};if(a(o.contentMatch))return{v:!0}}};for(var o in n){var i=r(o);if(i)return i.v}}function q(e,t){for(var n=0;n<t.length;n++)if(e.type==t[n].type)return t[n]}function K(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function U(e){return e.document||window.document}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceError=l,t.Slice=t.Schema=t.ResolvedPos=t.NodeType=t.NodeRange=t.Node=t.MarkType=t.Mark=t.Fragment=t.DOMSerializer=t.DOMParser=t.ContentMatch=void 0;var G=function(e){return e&&e.__esModule?e:{default:e}}(n("884c")),X=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize};t.Fragment=X;var Y={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};X.prototype.nodesBetween=function(e,t,n,r,a){void 0===r&&(r=0);for(var s=0,c=0;c<t;s++){var u=this.content[s],l=c+u.nodeSize;if(l>e&&!1!==n(u,r+c,a,s)&&u.content.size){var f=c+1;u.nodesBetween(i(0,e-f),o(u.content.size,t-f),n,r+f)}c=l}},X.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},X.prototype.textBetween=function(e,t,n,r){var o="",a=!0;return this.nodesBetween(e,t,(function(s,c){s.isText?(o+=s.text.slice(i(e,c)-c,t-c),a=!n):s.isLeaf&&r?(o+=r,a=!n):!a&&s.isBlock&&(o+=n,a=!0)}),0),o},X.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new X(r,this.size+e.size)},X.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var a=0,s=0;s<t;a++){var c=this.content[a],u=s+c.nodeSize;u>e&&((s<e||u>t)&&(c=c.isText?c.cut(i(0,e-s),o(c.text.length,t-s)):c.cut(i(0,e-s-1),o(c.content.size,t-s-1))),n.push(c),r+=c.nodeSize),s=u}return new X(n,r)},X.prototype.cutByIndex=function(e,t){return e==t?X.empty:0==e&&t==this.content.length?this:new X(this.content.slice(e,t))},X.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new X(r,o)},X.prototype.addToStart=function(e){return new X([e].concat(this.content),this.size+e.nodeSize)},X.prototype.addToEnd=function(e){return new X(this.content.concat(e),this.size+e.nodeSize)},X.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},Y.firstChild.get=function(){return this.content.length?this.content[0]:null},Y.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},Y.childCount.get=function(){return this.content.length},X.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},X.prototype.maybeChild=function(e){return this.content[e]},X.prototype.forEach=function(e){for(var t,n=0,r=0;n<this.content.length;n++)t=this.content[n],e(t,r,n),r+=t.nodeSize},X.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),a(this,e,t)},X.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),s(this,e,t,n)},X.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||0>e)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e||0<t?c(n+1,i):c(n,r);r=i}},X.prototype.toString=function(){return"<"+this.toStringInner()+">"},X.prototype.toStringInner=function(){return this.content.join(", ")},X.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},X.fromJSON=function(e,t){if(!t)return X.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new X(t.map(e.nodeFromJSON))},X.fromArray=function(e){if(!e.length)return X.empty;for(var t,n,r=0,o=0;o<e.length;o++)n=e[o],r+=n.nodeSize,o&&n.isText&&e[o-1].sameMarkup(n)?(!t&&(t=e.slice(0,o)),t[t.length-1]=n.withText(t[t.length-1].text+n.text)):t&&t.push(n);return new X(t||e,r)},X.from=function(e){if(!e)return X.empty;if(e instanceof X)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new X([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(X.prototype,Y);var Q={index:0,offset:0};X.empty=new X([],0);var Z=function(e,t){this.type=e,this.attrs=t};t.Mark=Z,Z.prototype.addToSet=function(e){for(var t,n,r=!1,o=0;o<e.length;o++){if(n=e[o],this.eq(n))return e;if(this.type.excludes(n.type))t||(t=e.slice(0,o));else{if(n.type.excludes(this.type))return e;!r&&n.type.rank>this.type.rank&&(!t&&(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(n)}}return t||(t=e.slice()),r||t.push(this),t},Z.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},Z.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},Z.prototype.eq=function(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)},Z.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},Z.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},Z.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},Z.setFrom=function(e){if(!e||0==e.length)return Z.none;if(e instanceof Z)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},Z.none=[],l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,l.prototype.name="ReplaceError";var ee=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n};t.Slice=ee;var te={size:{configurable:!0}};te.size.get=function(){return this.content.size-this.openStart-this.openEnd},ee.prototype.insertAt=function(e,t){var n=p(this.content,e+this.openStart,t,null);return n&&new ee(n,this.openStart,this.openEnd)},ee.prototype.removeBetween=function(e,t){return new ee(f(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},ee.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},ee.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},ee.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return 0<this.openStart&&(e.openStart=this.openStart),0<this.openEnd&&(e.openEnd=this.openEnd),e},ee.fromJSON=function(e,t){if(!t)return ee.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new ee(X.fromJSON(e,t.content),n,r)},ee.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new ee(e,n,r)},Object.defineProperties(ee.prototype,te),ee.empty=new ee(X.empty,0,0);var ne=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n};t.ResolvedPos=ne;var re={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};ne.prototype.resolveDepth=function(e){return null==e?this.depth:0>e?this.depth+e:e},re.parent.get=function(){return this.node(this.depth)},re.doc.get=function(){return this.node(0)},ne.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},ne.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},ne.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},ne.prototype.start=function(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1},ne.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},ne.prototype.before=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},ne.prototype.after=function(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},re.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},re.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},re.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},ne.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},ne.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return Z.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},ne.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},ne.prototype.sharedDepth=function(e){for(var t=this.depth;0<t;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},ne.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);0<=n;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new se(this,e,n)},ne.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},ne.prototype.max=function(e){return e.pos>this.pos?e:this},ne.prototype.min=function(e){return e.pos<this.pos?e:this},ne.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},ne.resolve=function(e,t){if(!(0<=t&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),s=a.index,c=a.offset,u=o-c;if(n.push(i,s,r+c),!u)break;if(i=i.child(s),i.isText)break;o=u-1,r+=c+1}return new ne(t,n,o)},ne.resolveCached=function(e,t){for(var n,r=0;r<oe.length;r++)if(n=oe[r],n.pos==t&&n.doc==e)return n;var o=oe[ie]=ne.resolve(e,t);return ie=(ie+1)%ae,o},Object.defineProperties(ne.prototype,re);var oe=[],ie=0,ae=12,se=function(e,t,n){this.$from=e,this.$to=t,this.depth=n};t.NodeRange=se;var ce={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};ce.start.get=function(){return this.$from.before(this.depth+1)},ce.end.get=function(){return this.$to.after(this.depth+1)},ce.parent.get=function(){return this.$from.node(this.depth)},ce.startIndex.get=function(){return this.$from.index(this.depth)},ce.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(se.prototype,ce);var ue=Object.create(null),le=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||X.empty,this.marks=r||Z.none};t.Node=le;var fe={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};fe.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},fe.childCount.get=function(){return this.content.childCount},le.prototype.child=function(e){return this.content.child(e)},le.prototype.maybeChild=function(e){return this.content.maybeChild(e)},le.prototype.forEach=function(e){this.content.forEach(e)},le.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},le.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},fe.textContent.get=function(){return this.textBetween(0,this.content.size,"")},le.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},fe.firstChild.get=function(){return this.content.firstChild},fe.lastChild.get=function(){return this.content.lastChild},le.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},le.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},le.prototype.hasMarkup=function(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||ue)&&Z.sameSet(this.marks,n||Z.none)},le.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},le.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},le.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},le.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return ee.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i),c=s.content.cut(r.pos-a,o.pos-a);return new ee(c,r.depth-i,o.depth-i)},le.prototype.replace=function(e,t,n){return d(this.resolve(e),this.resolve(t),n)},le.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}},le.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},le.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},le.prototype.resolve=function(e){return ne.resolveCached(this,e)},le.prototype.resolveNoCache=function(e){return ne.resolve(this,e)},le.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},fe.isBlock.get=function(){return this.type.isBlock},fe.isTextblock.get=function(){return this.type.isTextblock},fe.inlineContent.get=function(){return this.type.inlineContent},fe.isInline.get=function(){return this.type.isInline},fe.isText.get=function(){return this.type.isText},fe.isLeaf.get=function(){return this.type.isLeaf},fe.isAtom.get=function(){return this.type.isAtom},le.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),O(this.marks,e)},le.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},le.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=X.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},le.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},le.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},le.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));this.content.forEach((function(e){return e.check()}))},le.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},le.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=X.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(le.prototype,fe);var pe=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):O(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(le),de=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]};t.ContentMatch=de;var he={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};de.parse=function(e,t){var n=new ve(e,t);if(null==n.next)return de.empty;var r=x(n);n.next&&n.err("Unexpected trailing text");var o=D(P(r));return j(o,n),o},de.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},de.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},he.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},he.defaultType.get=function(){for(var e,t=0;t<this.next.length;t+=2)if(e=this.next[t],!e.isText&&!e.hasRequiredAttrs())return e},de.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},de.prototype.fillBefore=function(e,t,n){function r(i,a){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return X.from(a.map((function(e){return e.createAndFill()})));for(var c=0;c<i.next.length;c+=2){var u=i.next[c],l=i.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==o.indexOf(l)){o.push(l);var f=r(l,a.concat(u));if(f)return f}}}void 0===t&&(t=!1),void 0===n&&(n=0);var o=[this];return r(this,[])},de.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},de.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var s,c=0;c<o.next.length;c+=2)s=o.next[c],s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.next[c+1].validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}},he.edgeCount.get=function(){return this.next.length>>1},de.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},de.prototype.toString=function(){function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}var t=[];return e(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(de.prototype,he),de.empty=new de(!0);var ve=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.unshift()},me={next:{configurable:!0}};me.next.get=function(){return this.tokens[this.pos]},ve.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},ve.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(ve.prototype,me);var ge=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=B(n.attrs),this.defaultAttrs=I(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e};t.NodeType=ge;var ye={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ye.isInline.get=function(){return!this.isBlock},ye.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ye.isLeaf.get=function(){return this.contentMatch==de.empty},ye.isAtom.get=function(){return this.isLeaf||this.spec.atom},ge.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},ge.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},ge.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:$(this.attrs,e)},ge.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new le(this,this.computeAttrs(e),X.from(t),Z.setFrom(n))},ge.prototype.createChecked=function(e,t,n){if(t=X.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new le(this,this.computeAttrs(e),t,Z.setFrom(n))},ge.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),t=X.from(t),t.size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(X.empty,!0);return o?new le(this,e,t.append(o),Z.setFrom(n)):null},ge.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},ge.prototype.allowsMarkType=function(e){return null==this.markSet||-1<this.markSet.indexOf(e)},ge.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},ge.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Z.empty:e},ge.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new ge(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(ge.prototype,ye);var be=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},we={isRequired:{configurable:!0}};we.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(be.prototype,we);var ke=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=B(r.attrs),this.rank=t,this.excluded=null;var o=I(this.attrs);this.instance=o&&new Z(this,o)};t.MarkType=ke,ke.prototype.create=function(e){return!e&&this.instance?this.instance:new Z(this,$(this.attrs,e))},ke.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new ke(e,r++,t,o)})),n},ke.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e.slice(0,t).concat(e.slice(t+1));return e},ke.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ke.prototype.excludes=function(e){return-1<this.excluded.indexOf(e)};var Se=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=G.default.from(e.nodes),this.spec.marks=G.default.from(e.marks),this.nodes=ge.compile(this.spec.nodes,this),this.marks=ke.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],i=o.spec.content||"",a=o.spec.marks;o.contentMatch=n[i]||(n[i]=de.parse(i,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?z(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(var s in this.marks){var c=this.marks[s],u=c.spec.excludes;c.excluded=null==u?[c]:""==u?[]:z(this,u.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};t.Schema=Se,Se.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ge))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},Se.prototype.text=function(e,t){var n=this.nodes.text;return new pe(n,n.defaultAttrs,e,Z.setFrom(t))},Se.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},Se.prototype.nodeFromJSON=function(e){return le.fromJSON(this,e)},Se.prototype.markFromJSON=function(e){return Z.fromJSON(this,e)},Se.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var Oe=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};t.DOMParser=Oe,Oe.prototype.parse=function(e,t){void 0===t&&(t={});var n=new Pe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},Oe.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new Pe(this,t,!0);return n.addAll(e,null,t.from,t.to),ee.maxOpen(n.finish())},Oe.prototype.matchTag=function(e,t){for(var n,r=0;r<this.tags.length;r++)if(n=this.tags[r],V(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){var o=n.getAttrs(e);if(!1===o)continue;n.attrs=o}return n}},Oe.prototype.matchStyle=function(e,t,n){for(var r,o=0;o<this.styles.length;o++)if(r=this.styles[o],!(0!=r.style.indexOf(e)||r.context&&!n.matchesContext(r.context)||r.style.length>e.length&&(61!=r.style.charCodeAt(e.length)||r.style.slice(e.length+1)!=t))){if(r.getAttrs){var i=r.getAttrs(t);if(!1===i)continue;r.attrs=i}return r}},Oe.schemaRules=function(e){function t(e){for(var t=null==e.priority?50:e.priority,r=0;r<n.length;r++){var o=n[r],i=null==o.priority?50:o.priority;if(i<t)break}n.splice(r,0,e)}var n=[],r=function(n){var r=e.marks[n].spec.parseDOM;r&&r.forEach((function(e){t(e=W(e)),e.mark=n}))};for(var o in e.marks)r(o);var i=function(){var n=e.nodes[a].spec.parseDOM;n&&n.forEach((function(e){t(e=W(e)),e.node=a}))};for(var a in e.nodes)i();return n},Oe.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new Oe(e,Oe.schemaRules(e)))};var xe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Me={ol:!0,ul:!0},_e=1,Ne=2,Ae=4,Te=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(a&Ae?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=Z.none,this.pendingMarks=r,this.stashMarks=[]};Te.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(X.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},Te.prototype.finish=function(e){if(!(this.options&_e)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=X.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},Te.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;0<=t;t--)if(this.stashMarks[t].type==e)return this.stashMarks.splice(t,1)[0]},Te.prototype.applyPending=function(e){for(var t,n=0,r=this.pendingMarks;n<r.length;n++)if(t=r[n],(this.type?this.type.allowsMarkType(t.type):J(t.type,e))&&!t.isInSet(this.activeMarks)){var o=q(t,this.activeMarks);o&&this.stashMarks.push(o),this.activeMarks=t.addToSet(this.activeMarks),this.pendingMarks=t.removeFromSet(this.pendingMarks)}};var Pe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=F(t.preserveWhitespace)|(n?Ae:0);r=o?new Te(o.type,o.attrs,Z.none,Z.none,!0,t.topMatch||o.type.contentMatch,i):new Te(n?null:e.schema.topNodeType,null,Z.none,Z.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},Ee={top:{configurable:!0},currentPos:{configurable:!0}};Ee.top.get=function(){return this.nodes[this.open]},Pe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(H(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},Pe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if((n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&_e)n.options&Ne||(t=t.replace(/\r?\n|\r/g," "));else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},Pe.prototype.addElement=function(e){var t=e.nodeName.toLowerCase();Me.hasOwnProperty(t)&&this.parser.normalizeLists&&L(e);var n=this.options.ruleFromNode&&this.options.ruleFromNode(e)||this.parser.matchTag(e,this);if(n?n.ignore:Ce.hasOwnProperty(t))this.findInside(e);else if(!n||n.skip||n.closeParent){n&&n.closeParent?this.open=i(0,this.open-1):n&&n.skip.nodeType&&(e=n.skip);var r,o=this.top,a=this.needsBlock;if(xe.hasOwnProperty(t))r=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),r&&this.sync(o),this.needsBlock=a}else this.addElementByRule(e,n)},Pe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},Pe.prototype.readStyles=function(e){for(var t,n=Z.none,r=0;r<e.length;r+=2)if(t=this.parser.matchStyle(e[r],e[r+1],this),t){if(t.ignore)return null;n=this.parser.schema.marks[t.mark].create(t.attrs).addToSet(n)}return n},Pe.prototype.addElementByRule=function(e,t){var n,r,o,i,a=this;t.node?(r=this.parser.schema.nodes[t.node],r.isLeaf?!this.insertNode(r.create(t.attrs))&&this.leafFallback(e):n=this.enter(r,t.attrs,t.preserveWhitespace)):(o=this.parser.schema.marks[t.mark],i=o.create(t.attrs),this.addPendingMark(i));var s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var c=t.contentElement;"string"==typeof c?c=e.querySelector(c):"function"==typeof c&&(c=c(e)),c||(c=e),this.findAround(e,c,!0),this.addAll(c,n)}n&&(this.sync(s),this.open--),i&&this.removePendingMark(i,s)},Pe.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&xe.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},Pe.prototype.findPlace=function(e){for(var t,n,r=this.open;0<=r;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},Pe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)(!n.type||n.type.allowsMarkType(e.marks[o].type))&&(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},Pe.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},Pe.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?o.options&~Ae:F(r);o.options&Ae&&0==o.content.length&&(i|=Ae),this.nodes.push(new Te(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},Pe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},Pe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},Pe.prototype.sync=function(e){for(var t=this.open;0<=t;t--)if(this.nodes[t]==e)return void(this.open=t)},Ee.currentPos.get=function(){this.closeExtra();for(var e,t=0,n=this.open;0<=n;n--){e=this.nodes[n].content;for(var r=e.length-1;0<=r;r--)t+=e[r].nodeSize;n&&t++}return t},Pe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},Pe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},Pe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){var o=t.compareDocumentPosition(this.find[r].node);o&(n?2:4)&&(this.find[r].pos=this.currentPos)}},Pe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},Pe.prototype.matchesContext=function(e){var t=this;if(-1<e.indexOf("|"))return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1);return function e(a,s){for(;0<=a;a--){var c=n[a];if(""==c){if(a==n.length-1||0==a)continue;for(;s>=i;s--)if(e(a-1,s))return!0;return!1}var u=0<s||0==s&&o?t.nodes[s].type:r&&s>=i?r.node(s-i).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;s--}return!0}(n.length-1,this.open)},Pe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t,n=e.depth;0<=n;n--)if(t=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType,t&&t.isTextblock&&t.defaultAttrs)return t;for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},Pe.prototype.addPendingMark=function(e){var t=q(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},Pe.prototype.removePendingMark=function(e,t){for(var n=this.open;0<=n;n--){var r=this.nodes[n],o=r.pendingMarks.lastIndexOf(e);if(-1<o)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var i=r.popFromStashMark(e.type);i&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(Pe.prototype,Ee);var Re=function(e,t){this.nodes=e||{},this.marks=t||{}};t.DOMSerializer=Re,Re.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=U(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n,a=0,s=0;a<i.length&&s<e.marks.length;)if(n=e.marks[s],r.marks[n.type.name]){if(!n.eq(i[a])||!1===n.type.spec.spanning)break;a+=2,s++}else s++;for(;a<i.length;)o=i.pop(),i.pop();for(;s<e.marks.length;){var c=e.marks[s++],u=r.serializeMark(c,e.isInline,t);u&&(i.push(c,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNode(e,t))})),n},Re.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=Re.renderSpec(U(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},Re.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n,r=this.serializeNode(e,t),o=e.marks.length-1;0<=o;o--)n=this.serializeMark(e.marks[o],e.isInline,t),n&&((n.contentDOM||n.dom).appendChild(r),r=n.dom);return r},Re.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&Re.renderSpec(U(n),r(e,t))},Re.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};var o=t[0],i=o.indexOf(" ");0<i&&(n=o.slice(0,i),o=o.slice(i+1));var a=null,s=n?e.createElementNS(n,o):e.createElement(o),c=t[1],u=1;if(c&&"object"==r(c)&&null==c.nodeType&&!Array.isArray(c))for(var l in u=2,c)if(null!=c[l]){var f=l.indexOf(" ");0<f?s.setAttributeNS(l.slice(0,f),l.slice(f+1),c[l]):s.setAttribute(l,c[l])}for(var p,d=u;d<t.length;d++){if(p=t[d],0===p){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var h=Re.renderSpec(e,p,n),v=h.dom,m=h.contentDOM;if(s.appendChild(v),m){if(a)throw new RangeError("Multiple content holes");a=m}}return{dom:s,contentDOM:a}},Re.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new Re(this.nodesFromSchema(e),this.marksFromSchema(e)))},Re.nodesFromSchema=function(e){var t=K(e.nodes);return t.text||(t.text=function(e){return e.text}),t},Re.marksFromSchema=function(e){return K(e.marks)}},"397a":function(e,t,n){"use strict";n.r(t);var r=n("ebba"),o=n("900e");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"3ce4":function(e,t,n){"use strict";function r(e,t,n){var r,i=a.configure({}),u=(n||{}).prefix;if("string"!=typeof e)throw s("Expected `string` for name, got `%s`",e);if(!a.getLanguage(e))throw s("Unknown language: `%s` is not registered",e);if("string"!=typeof t)throw s("Expected `string` for value, got `%s`",t);if((null===u||void 0===u)&&(u=c),a.configure({__emitter:o,classPrefix:u}),r=a.highlight(e,t,!0),a.configure(i||{}),r.errorRaised)throw r.errorRaised;return{relevance:r.relevance,language:r.language,value:r.emitter.rootNode.children}}function o(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function i(){}var a=n("e2be"),s=n("073e");t.highlight=r,t.highlightAuto=function(e,t){var n,o,i,u,l=t||{},f=l.subset||a.listLanguages(),p=l.prefix,d=f.length,h=-1;if((null===p||void 0===p)&&(p=c),"string"!=typeof e)throw s("Expected `string` for value, got `%s`",e);for(o={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};++h<d;)u=f[h],a.getLanguage(u)&&(i=r(u,e,t),i.language=u,i.relevance>o.relevance&&(o=i),i.relevance>n.relevance&&(o=n,n=i));return o.language&&(n.secondBest=o),n},t.registerLanguage=function(e,t){a.registerLanguage(e,t)},t.listLanguages=function(){return a.listLanguages()},t.registerAlias=function(e,t){var n,r=e;for(n in t&&(r={},r[e]=t),r)a.registerAliases(r[n],{languageName:n})},o.prototype.addText=function(e){var t,n,r=this.stack;""===e||(t=r[r.length-1],n=t.children[t.children.length-1],n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e}))},o.prototype.addKeyword=function(e,t){this.openNode(t),this.addText(e),this.closeNode()},o.prototype.addSublanguage=function(e,t){var n=this.stack,r=n[n.length-1],o=e.rootNode.children,i=t?{type:"element",tagName:"span",properties:{className:[t]},children:o}:o;r.children=r.children.concat(i)},o.prototype.openNode=function(e){var t=this.stack,n=this.options.classPrefix+e,r=t[t.length-1],o={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(o),t.push(o)},o.prototype.closeNode=function(){this.stack.pop()},o.prototype.closeAllNodes=i,o.prototype.finalize=i,o.prototype.toHTML=function(){return""};var c="hljs-"},"3e7f":function(e,t,n){"use strict";n.r(t);var r=n("d2cc"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"40c0":function(e,t,n){"use strict";n.r(t);var r=n("adea"),o=n("1875");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"41f5":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ButtonBase",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"InputBase",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SelectBase",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PopinBase",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TooltipManager",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"PaperEditor",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PaperView",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ToggleBase",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"InputUpload",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"InputMedia",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"GalleryMosaic",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"HelpersMixin",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"ModifiersMixin",{enumerable:!0,get:function(){return m.default}});var o=r(n("2029")),i=r(n("2836")),a=r(n("5a2b")),s=r(n("679f")),c=r(n("86b6")),u=r(n("6174")),l=r(n("5d96")),f=r(n("f3d8")),p=r(n("c8ef")),d=r(n("7aee")),h=r(n("8f6b")),v=r(n("17fd")),m=r(n("650f"))},"465e":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"InputBase",class:[e.$modifiers].concat(e.classes)},[e.label?n("label",{staticClass:"InputBase_label"},[e._v(" "+e._s(e.label)+" ")]):e._e(),"file"==e.type?[n("button-base",{staticClass:"InputBase_fileSelect"},[e._v(" "+e._s(e.label||"Choisir un fichier")+" ")]),n("label",{staticClass:"InputBase_fileLabel"},[e._v(" "+e._s(0<e.value.length?1==e.value.length?e.value[0].name:e.value.length+" fichiers sélectionnés":"Aucun fichier sélectionné")+" ")]),n("input",e._b({staticClass:"InputBase_element",attrs:{type:e.type},on:{input:function(t){return e.onInput(Object.keys(t.target.files).map((function(e){return t.target.files[e]})))}}},"input",e.attrs,!1))]:[n("input",e._b({staticClass:"InputBase_element",attrs:{type:e.computedType},domProps:{value:e.value},on:{focus:function(){e.state.isFocused=!0},blur:function(){e.state.isFocused=!1},input:function(t){return e.onInput(t.target.value)}}},"input",e.attrs,!1))],0<e.helpers.length||0<Object.keys(e.constraints).length?n("div",{staticClass:"Inputbase_helpers"},[e.helpers.includes("number")?n("helper-number",{staticClass:"Inputbase_helper",on:{increment:function(){return e.increment(1)},decrement:function(){return e.increment(-1)}}}):e._e(),e.helpers.includes("reset")?n("helper-reset",{staticClass:"Inputbase_helper",attrs:{"is-active":e.state.isValue},on:{click:e.reset}}):e._e(),e.helpers.includes("reveal")?n("helper-reveal",{staticClass:"Inputbase_helper",attrs:{"is-revealed":e.reveal},nativeOn:{click:function(){e.reveal=!e.reveal}}}):e._e(),0<Object.keys(e.constraints).length?n("helper-errors",{directives:[{name:"show",rawName:"v-show",value:e.state.isValue,expression:"state.isValue"}],staticClass:"Inputbase_helper",attrs:{errors:e.errors,"is-valid":e.state.isValid,"is-active":0<e.errors.length&&e.state.isFocused}}):e._e()],1):e._e()],2)},o=[]},"46c3":function(e,t,n){"use strict";function o(e,t,n){for(var r=e.length-1;0<=r;r--)n.step(e[r].inverted);for(var o=0;o<t.length;o++)n.step(t[o]);for(var i,a=[],c=0,u=e.length;c<e.length;c++)i=e[c].step.map(n.mapping.slice(u)),u--,i&&!n.maybeStep(i).failed&&(n.mapping.setMirror(u,n.steps.length-1),a.push(new s(i,i.invert(n.docs[n.docs.length-1]),e[c].origin)));return a}function i(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new s(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.collab=function(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?r(4294967295*Math.random()):e.clientID},new a.Plugin({key:u,state:{init:function(){return new c(e.version,[])},apply:function(e,t){var n=e.getMeta(u);return n||(e.docChanged?new c(t.version,t.unconfirmed.concat(i(e))):t)}},config:e,historyPreserveItems:!0})},t.getVersion=function(e){return u.getState(e).version},t.rebaseSteps=o,t.receiveTransaction=function(e,t,n,r){for(var i=u.getState(e),s=i.version+t.length,l=u.get(e).spec.config.clientID,f=0;f<n.length&&n[f]==l;)++f;var p=i.unconfirmed.slice(f);if(t=f?t.slice(f):t,!t.length)return e.tr.setMeta(u,new c(s,p));var d=p.length,h=e.tr;if(d)p=o(p,t,h);else{for(var v=0;v<t.length;v++)h.step(t[v]);p=[]}var m=new c(s,p);return r&&r.mapSelectionBackward&&e.selection instanceof a.TextSelection&&(h.setSelection(a.TextSelection.between(h.doc.resolve(h.mapping.map(e.selection.anchor,-1)),h.doc.resolve(h.mapping.map(e.selection.head,-1)),-1)),h.updated&=-2),h.setMeta("rebased",d).setMeta("addToHistory",!1).setMeta(u,m)},t.sendableSteps=function(e){var t=u.getState(e);return 0==t.unconfirmed.length?null:{version:t.version,steps:t.unconfirmed.map((function(e){return e.step})),clientID:u.get(e).spec.config.clientID,get origins(){return this._origins||(this._origins=t.unconfirmed.map((function(e){return e.origin})))}}};var a=n("5313"),s=function(e,t,n){this.step=e,this.inverted=t,this.origin=n},c=function(e,t){this.version=e,this.unconfirmed=t},u=new a.PluginKey("collab")},"47ca":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"InputMedia"},[n("input-upload",{attrs:{"is-loading":e.state.loading},on:{input:e.onUpload}}),n("div",{staticClass:"mt-20"},[n("gallery-mosaic",{attrs:{items:e.items,selected:[e.value],selectable:!0},on:{input:e.onInput}})],1)],1)},o=[]},4965:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={id:"styledBlock",icon:"times",component:"paper-select",isNode:!0,attrs:{items:e.options?e.options:[{id:4,label:"Paragraphe",value:{tag:"p",classes:[]}},{id:0,label:"Titre 1",value:{tag:"h1",classes:[]}},{id:1,label:"Titre 2",value:{tag:"h2",classes:[]}},{id:2,label:"Titre 3",value:{tag:"h3",classes:[]}},{id:3,label:"Citation",value:{tag:"blockquote",classes:[]}}]}};return t}},"50ab":function(e,t,n){"use strict";n.r(t);var r=n("5f4e"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},5148:function(e,t,r){"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(r("b80c")),c={name:"GalleryMosaic",schema:s.default,props:{items:{type:Array,default:function(){return[]}},height:{type:Number,default:175},selected:{type:Array,default:function(){return[]}},selectable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},data:function(){return{maxWidth:0}},mounted:function(){this.$data.maxWidth=this.$el.offsetWidth},computed:{imageRows:function(){for(var e=this,t=this.$props.items.slice(),r=[],o=0;0<t.length&&100>o;){o++;for(var a={width:0,images:[]};a.width<this.$data.maxWidth&&0<t.length&&100>o;){o++;var s=t[0].sizes.s,c=this.$props.height/s.height*s.width;a.images.push(i(i({},s),{},{_id:t[0]._id,original:s,width:c,height:this.$props.height})),a.width+=c,t.shift()}r.push(a)}return r.forEach((function(t,o){if(!(o==r.length-1&&t.width-5<e.$data.maxWidth)){var a=e.$data.maxWidth/(t.width-5);t.images=t.images.map((function(e){return i(i({},e),{},{width:n(e.width*a)-5,height:n(e.height*a)-5})}))}})),r}}};t.default=c},5313:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n,r,i,a){if(t.inlineContent)return v.create(e,n);for(var s,c=r-(0<i?0:1);0<i?c<t.childCount:0<=c;c+=i){if(s=t.child(c),s.isAtom){if(!a&&g.isSelectable(s))return g.create(e,n-(0>i?s.nodeSize:0))}else{var u=o(e,s,n+i,0>i?s.childCount:0,i,a);if(u)return u}n+=s.nodeSize*i}}function i(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o=e.steps[r];if(o instanceof l.ReplaceStep||o instanceof l.ReplaceAroundStep){var i,a=e.mapping.maps[r];a.forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(p.near(e.doc.resolve(i),n))}}}function a(e,t){return t&&e?e.bind(t):e}function s(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=s(o,t,{})),n[r]=o}return n}function c(e){return e in E?e+"$"+ ++E[e]:(E[e]=0,e+"$")}Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.TextSelection=t.SelectionRange=t.Selection=t.PluginKey=t.Plugin=t.NodeSelection=t.EditorState=t.AllSelection=void 0;var u=n("304a"),l=n("0ac0"),f=Object.create(null),p=function(e,t,n){this.ranges=n||[new h(e.min(t),e.max(t))],this.$anchor=e,this.$head=t};t.Selection=p;var d={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};d.anchor.get=function(){return this.$anchor.pos},d.head.get=function(){return this.$head.pos},d.from.get=function(){return this.$from.pos},d.to.get=function(){return this.$to.pos},d.$from.get=function(){return this.ranges[0].$from},d.$to.get=function(){return this.ranges[0].$to},d.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},p.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},p.prototype.replace=function(e,t){void 0===t&&(t=u.Slice.empty);for(var n=t.content.lastChild,r=null,o=0;o<t.openEnd;o++)r=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,c=0;c<s.length;c++){var l=s[c],f=l.$from,p=l.$to,d=e.mapping.slice(a);e.replaceRange(d.map(f.pos),d.map(p.pos),c?u.Slice.empty:t),0==c&&i(e,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}},p.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var a=r[o],s=a.$from,c=a.$to,u=e.mapping.slice(n),l=u.map(s.pos),f=u.map(c.pos);o?e.deleteRange(l,f):(e.replaceRangeWith(l,f,t),i(e,n,t.isInline?-1:1))}},p.findFrom=function(e,t,n){var r=e.parent.inlineContent?new v(e):o(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var i,a=e.depth-1;0<=a;a--)if(i=0>t?o(e.node(0),e.node(a),e.before(a+1),e.index(a),t,n):o(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,t,n),i)return i},p.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new b(e.node(0))},p.atStart=function(e){return o(e,e,0,0,1)||new b(e)},p.atEnd=function(e){return o(e,e,e.content.size,e.childCount,-1)||new b(e)},p.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=f[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},p.jsonID=function(e,t){if(e in f)throw new RangeError("Duplicate use of selection JSON ID "+e);return f[e]=t,t.prototype.jsonID=e,t},p.prototype.getBookmark=function(){return v.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(p.prototype,d),p.prototype.visible=!0;var h=function(e,t){this.$from=e,this.$to=t};t.SelectionRange=h;var v=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=u.Slice.empty),e.prototype.replace.call(this,t,n),n==u.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new m(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if((!o||i)&&(o=0<=i?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i?n=r:(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor,n.pos<r.pos!=0>i&&(n=r))),new t(n,r)},Object.defineProperties(t.prototype,n),t}(p);t.TextSelection=v,p.jsonID("text",v);var m=function(e,t){this.anchor=e,this.head=t};m.prototype.map=function(e){return new m(e.map(this.anchor),e.map(this.head))},m.prototype.resolve=function(e){return v.between(e.resolve(this.anchor),e.resolve(this.head))};var g=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new u.Slice(u.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new y(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(p);t.NodeSelection=g,g.prototype.visible=!1,p.jsonID("node",g);var y=function(e){this.anchor=e};y.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new m(r,r):new y(r)},y.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&g.isSelectable(n)?new g(t):p.near(t)};var b=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=u.Slice.empty),n==u.Slice.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return w},t}(p);t.AllSelection=b,p.jsonID("all",b);var w={map:function(){return this},resolve:function(e){return new b(e)}},k=1,S=2,O=4,x=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|k)&~S,this.storedMarks=null,this},n.selectionSet.get=function(){return 0<(this.updated&k)},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=S,this},t.prototype.ensureMarks=function(e){return u.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return 0<(this.updated&S)},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated&=~S,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||u.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(p.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=O,this},n.scrolledIntoView.get=function(){return 0<(this.updated&O)},Object.defineProperties(t.prototype,n),t}(l.Transform);t.Transaction=x;var C=function(e,t,n){this.name=e,this.init=a(t.init,n),this.apply=a(t.apply,n)},M=[new C("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new C("selection",{init:function(e,t){return e.selection||p.atStart(t.doc)},apply:function(e){return e.selection}}),new C("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new C("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],_=function(e,t){var n=this;this.schema=e,this.fields=M.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new C(e.key,e.spec.state,e))}))},N=function(e){this.config=e};t.EditorState=N;var A={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};A.schema.get=function(){return this.config.schema},A.plugins.get=function(){return this.config.plugins},N.prototype.apply=function(e){return this.applyTransaction(e).state},N.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},N.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o,i=!1,a=0;a<this.config.plugins.length;a++)if(o=this.config.plugins[a],o.spec.appendTransaction){var s=r?r[a].n:0,c=r?r[a].state:this,u=s<t.length&&o.spec.appendTransaction.call(o,s?t.slice(s):t,c,n);if(u&&n.filterTransaction(u,a)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<a?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),i=!0}r&&(r[a]={state:n,n:t.length})}if(!i)return{state:n,transactions:t}}},N.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t,n=new N(this.config),r=this.config.fields,o=0;o<r.length;o++)t=r[o],n[t.name]=t.apply(e,this[t.name],this,n);for(var i=0;i<T.length;i++)T[i](this,e,n);return n},A.tr.get=function(){return new x(this)},N.create=function(e){for(var t=new _(e.schema||e.doc.type.schema,e.plugins),n=new N(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},N.prototype.reconfigure=function(e){for(var t,n=new _(e.schema||this.schema,e.plugins),r=n.fields,o=new N(n),i=0;i<r.length;i++)t=r[i].name,o[t]=this.hasOwnProperty(t)?this[t]:r[i].init(e,o);return o},N.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==r(e))for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var o=e[n],i=o.spec.state;i&&i.toJSON&&(t[n]=i.toJSON.call(o,this[o.key]))}return t},N.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new _(e.schema,e.plugins),o=new N(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=u.Node.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=p.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var i in n){var a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}})),o},N.addApplyListener=function(e){T.push(e)},N.removeApplyListener=function(e){var t=T.indexOf(e);-1<t&&T.splice(t,1)},Object.defineProperties(N.prototype,A);var T=[],P=function(e){this.props={},e.props&&s(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:c("plugin")};t.Plugin=P,P.prototype.getState=function(e){return e[this.key]};var E=Object.create(null),R=function(e){void 0===e&&(e="key"),this.key=c(e)};t.PluginKey=R,R.prototype.get=function(e){return e.config.pluginsByKey[this.key]},R.prototype.getState=function(e){return e[this.key]}},"539d":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PopinBase",class:[{"is-active":e.isActive}].concat(e.$modifiers)},[n("div",{ref:"body",staticClass:"PopinBase_body"},[n("div",{staticClass:"PopinBase_header"},[e._t("header",[n("div")]),e._t("headerClose",[n("div",{staticClass:"PopinBase_close",on:{click:function(){return e.$emit("close")}}},[n("i",{staticClass:"fal fa-times"})])])],2),n("div",{staticClass:"PopinBase_content"},[e._t("content")],2),e.$slots.footer||e.$slots.footerLeft||e.$slots.footerRight?n("div",{staticClass:"PopinBase_footer"},[e._t("footer"),e._t("footerLeft"),e._t("footerRight")],2):e._e()])])},o=[]},"55be":function(e,t,n){"use strict";function r(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=a(e),n=e.childCount,r=[],o=0,i=null,c=[],u=0;u<t*n;u++)r[u]=0;for(var l,f=0,p=0;f<n;f++){l=e.child(f),p++;for(var d=0;;d++){for(;o<r.length&&0!=r[o];)o++;if(d==l.childCount)break;for(var h=l.child(d),v=h.attrs,m=v.colspan,g=v.rowspan,y=v.colwidth,b=0;b<g;b++){if(b+f>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:p,n:g-b});break}for(var w=o+b*t,k=0;k<m;k++){0==r[w+k]?r[w+k]=p:(i||(i=[])).push({type:"collision",row:f,pos:p,n:m-k});var S=y&&y[k];if(S){var O=(w+k)%t*2,x=c[O];null==x||x!=S&&1==c[O+1]?(c[O]=S,c[O+1]=1):x==S&&c[O+1]++}}}o+=m,p+=h.nodeSize}for(var C=(f+1)*t,M=0;o<C;)0==r[o++]&&M++;M&&(i||(i=[])).push({type:"missing",row:f,n:M}),p++}for(var _=new Re(t,n,r,i),N=!1,A=0;!N&&A<c.length;A+=2)null!=c[A]&&c[A+1]<n&&(N=!0);return N&&s(_,c,e),_}function a(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),a=0;if(n)for(var s,c=0;c<r;c++){s=e.child(c);for(var u,l=0;l<s.childCount;l++)u=s.child(l),c+u.attrs.rowspan>r&&(a+=u.attrs.colspan)}for(var f,p=0;p<o.childCount;p++)f=o.child(p),a+=f.attrs.colspan,1<f.attrs.rowspan&&(n=!0);-1==t?t=a:t!=a&&(t=i(t,a))}return t}function s(e,t,n){e.problems||(e.problems=[]);for(var r,o=0,i={};o<e.map.length;o++)if(r=e.map[o],!i[r]){i[r]=!0;for(var a=n.nodeAt(r),s=null,u=0;u<a.attrs.colspan;u++){var l=(o+u)%e.width,f=t[2*l];null==f||a.attrs.colwidth&&a.attrs.colwidth[u]==f||((s||(s=c(a.attrs)))[u]=f)}s&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:s})}}function c(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function u(e,t){var n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return+e})):null,o=+(e.getAttribute("colspan")||1),i={colspan:o,rowspan:+(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(var a in t){var s=t[a].getFromDOM,c=s&&s(e);null!=c&&(i[a]=c)}return i}function l(e,t){var n={};for(var r in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function f(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}function p(e){for(var t=e.depth-1;0<t;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function d(e){for(var t,n=e.depth;0<n;n--)if(t=e.node(n).type.spec.tableRole,"cell"===t||"header_cell"===t)return e.node(n);return null}function h(e){for(var t=e.selection.$head,n=t.depth;0<n;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function v(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:p(t.$head)||m(t.$head)}function m(e){for(var t,n=e.nodeAfter,r=e.pos;n;n=n.firstChild,r++)if(t=n.type.spec.tableRole,"cell"==t||"header_cell"==t)return e.doc.resolve(r);for(var o,i=e.nodeBefore,a=e.pos;i;i=i.lastChild,a--)if(o=i.type.spec.tableRole,"cell"==o||"header_cell"==o)return e.doc.resolve(a-i.nodeSize)}function g(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function y(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function b(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function w(e,t,n){var r=e.start(-1),o=Re.get(e.node(-1)),i=o.nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function k(e,t,n){var r={};for(var o in e)r[o]=e[o];return r[t]=n,r}function S(e,t,n){void 0===n&&(n=1);var r=k(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),!r.colwidth.some((function(e){return 0<e}))&&(r.colwidth=null)),r}function O(e,t,n){void 0===n&&(n=1);var r=k(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function x(e,t,n){for(var r=f(t.type.schema).header_cell,o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}function C(e){if(!(e.selection instanceof je))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(_e.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),_e.DecorationSet.create(e.doc,t)}function M(e){var t=e.$from,n=e.$to;if(t.pos==n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;0<=i&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;0<=a&&!(n.before(a+1)>n.start(a));a--,o--);return r==o&&/row|table/.test(t.node(i).type.spec.tableRole)}function _(e){for(var t,n,r,o=e.$from,i=e.$to,a=o.depth;0<a;a--)if(r=o.node(a),"cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){t=r;break}for(var s,c=i.depth;0<c;c--)if(s=i.node(c),"cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){n=s;break}return t!==n&&0===i.parentOffset}function N(e,t,n){var r,o,i=(t||e).selection,a=(t||e).doc;if(i instanceof xe.NodeSelection&&(o=i.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)r=je.create(a,i.from);else if("row"==o){var s=a.resolve(i.from+1);r=je.rowSelection(s,s)}else if(!n){var c=Re.get(i.node),u=i.from+1,l=u+c.map[c.width*c.height-1];r=je.create(a,u+1,l)}}else i instanceof xe.TextSelection&&M(i)?r=xe.TextSelection.create(a,i.from):i instanceof xe.TextSelection&&_(i)&&(r=xe.TextSelection.create(a,i.$from.start(),i.$from.end()));return r&&(t||(t=e.tr)).setSelection(r),t}function A(e){if(!e.size)return null;for(var t=e.content,n=e.openStart,r=e.openEnd;1==t.childCount&&(0<n&&0<r||"table"==t.firstChild.type.spec.tableRole);)n--,r--,t=t.firstChild.content;var o=t.firstChild,a=o.type.spec.tableRole,s=o.type.schema,c=[];if("row"==a)for(var u=0;u<t.childCount;u++){var l=t.child(u).content,p=u?0:i(0,n-1),d=u<t.childCount-1?0:i(0,r-1);(p||d)&&(l=P(f(s).row,new Ce.Slice(l,p,d)).content),c.push(l)}else{if("cell"!=a&&"header_cell"!=a)return null;c.push(n||r?P(f(s).row,new Ce.Slice(t,n,r)).content:t)}return T(s,c)}function T(e,t){for(var n,r=[],o=0;o<t.length;o++){n=t[o];for(var a=n.childCount-1;0<=a;a--)for(var s=n.child(a).attrs,c=s.rowspan,u=s.colspan,l=o;l<o+c;l++)r[l]=(r[l]||0)+u}for(var p=0,d=0;d<r.length;d++)p=i(p,r[d]);for(var h=0;h<r.length;h++)if(h>=t.length&&t.push(Ce.Fragment.empty),r[h]<p){for(var v=f(e).cell.createAndFill(),m=[],g=r[h];g<p;g++)m.push(v);t[h]=t[h].append(Ce.Fragment.from(m))}return{height:t.length,width:p,rows:t}}function P(e,t){var n=e.createAndFill(),r=new Ne.Transform(n).replace(0,n.content.size,t);return r.doc}function E(e,t,n){var r=e.width,o=e.height,a=e.rows;if(r!=t){for(var s=[],c=[],u=0;u<a.length;u++){for(var l,f=a[u],p=[],d=s[u]||0,h=0;d<t;h++){l=f.child(h%f.childCount),d+l.attrs.colspan>t&&(l=l.type.create(S(l.attrs,l.attrs.colspan,d+l.attrs.colspan-t),l.content)),p.push(l),d+=l.attrs.colspan;for(var v=1;v<l.attrs.rowspan;v++)s[u+v]=(s[u+v]||0)+l.attrs.colspan}c.push(Ce.Fragment.from(p))}a=c,r=t}if(o!=n){for(var m=[],g=0,y=0;g<n;g++,y++){for(var b,w=[],O=a[y%o],x=0;x<O.childCount;x++)b=O.child(x),g+b.attrs.rowspan>n&&(b=b.type.create(k(b.attrs,"rowspan",i(1,n-b.attrs.rowspan)),b.content)),w.push(b);m.push(Ce.Fragment.from(w))}a=m,o=n}return{width:r,height:o,rows:a}}function R(e,t,n,r,o,a,s){var c,u,l=e.doc.type.schema,p=f(l);if(o>t.width)for(var d,h=0,v=0;h<t.height;h++){d=n.child(h),v+=d.nodeSize;var m=[],g=void 0;g=null==d.lastChild||d.lastChild.type==p.cell?c||(c=p.cell.createAndFill()):u||(u=p.header_cell.createAndFill());for(var y=t.width;y<o;y++)m.push(g);e.insert(e.mapping.slice(s).map(v-1+r),m)}if(a>t.height){for(var b,w=[],k=0,S=(t.height-1)*t.width;k<i(t.width,o);k++)b=!(k>=t.width)&&n.nodeAt(t.map[S+k]).type==p.header_cell,w.push(b?u||(u=p.header_cell.createAndFill()):c||(c=p.cell.createAndFill()));for(var O=p.row.create(null,Ce.Fragment.from(w)),x=[],C=t.height;C<a;C++)x.push(O);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),x)}return!(!c&&!u)}function D(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;for(var c=!1,u=o;u<i;u++){var l=a*t.width+u,f=t.map[l];if(t.map[l-t.width]==f){c=!0;var p=n.nodeAt(f),d=t.findCell(f),h=d.top,v=d.left;e.setNodeMarkup(e.mapping.slice(s).map(f+r),null,k(p.attrs,"rowspan",a-h)),e.insert(e.mapping.slice(s).map(t.positionAt(a,v,n)),p.type.createAndFill(k(p.attrs,"rowspan",h+p.attrs.rowspan-a))),u+=p.attrs.colspan-1}}return c}function j(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;for(var c=!1,u=o;u<i;u++){var l=u*t.width+a,f=t.map[l];if(t.map[l-1]==f){c=!0;var p=n.nodeAt(f),d=t.colCount(f),h=e.mapping.slice(s).map(f+r);e.setNodeMarkup(h,null,S(p.attrs,a-d,p.attrs.colspan-(a-d))),e.insert(h+p.nodeSize,p.type.createAndFill(S(p.attrs,0,a-d))),u+=p.attrs.rowspan-1}}return c}function I(e,t,n,r,o){function i(){a=n?p.doc.nodeAt(n-1):p.doc,s=Re.get(a),d=p.mapping.maps.length}var a=n?e.doc.nodeAt(n-1):e.doc,s=Re.get(a),c=r.top,u=r.left,l=u+o.width,f=c+o.height,p=e.tr,d=0;R(p,s,a,n,l,f,d)&&i(),D(p,s,a,n,u,l,c,d)&&i(),D(p,s,a,n,u,l,f,d)&&i(),j(p,s,a,n,c,f,u,d)&&i(),j(p,s,a,n,c,f,l,d)&&i();for(var h=c;h<f;h++){var v=s.positionAt(h,u,a),m=s.positionAt(h,l,a);p.replace(p.mapping.slice(d).map(v+n),p.mapping.slice(d).map(m+n),new Ce.Slice(o.rows[h-c],0,0))}i(),p.setSelection(new je(p.doc.resolve(n+s.positionAt(c,u,a)),p.doc.resolve(n+s.positionAt(f-1,l-1,a)))),t(p)}function $(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function B(e,t){return function(n,r,o){var i=n.selection;if(i instanceof je)return $(n,r,xe.Selection.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;var a=W(o,e,t);if(null==a)return!1;if("horiz"==e)return $(n,r,xe.Selection.near(n.doc.resolve(i.head+t),t));var s,c=n.doc.resolve(a),u=w(c,e,t);return s=u?xe.Selection.near(u,1):0>t?xe.Selection.near(n.doc.resolve(c.before(-1)),-1):xe.Selection.near(n.doc.resolve(c.after(-1)),1),$(n,r,s)}}function z(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof je)){var a=W(o,e,t);if(null==a)return!1;i=new je(n.doc.resolve(a))}var s=w(i.$headCell,e,t);return!!s&&$(n,r,new je(i.$anchorCell,s))}}function F(e,t){var n=e.selection;if(!(n instanceof je))return!1;if(t){var r=e.tr,o=f(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new Ce.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function L(e,t){var n=e.state.doc,r=p(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new je(r))),!0)}function V(e,t,n){if(!h(e.state))return!1;var r=A(n),o=e.state.selection;if(o instanceof je){r||(r={width:1,height:1,rows:[Ce.Fragment.from(P(f(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),s=Re.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=E(r,s.right-s.left,s.bottom-s.top),I(e.state,e.dispatch,a,s,r),!0}if(r){var c=v(e.state),u=c.start(-1);return I(e.state,e.dispatch,u,Re.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function H(e,t){function n(t,n){var r=q(e,n),o=null==De.getState(e.state);if(!r||!b(t,r)){if(!o)return;r=t}var i=new je(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(De,t.pos),e.dispatch(a)}}function r(){e.root.removeEventListener("mouseup",r),e.root.removeEventListener("dragstart",r),e.root.removeEventListener("mousemove",o),null!=De.getState(e.state)&&e.dispatch(e.state.tr.setMeta(De,-1))}function o(o){var i,s=De.getState(e.state);if(null!=s)i=e.state.doc.resolve(s);else if(J(e,o.target)!=a&&(i=q(e,t),!i))return r();i&&n(i,o)}if(!t.ctrlKey&&!t.metaKey){var i,a=J(e,t.target);if(t.shiftKey&&e.state.selection instanceof je)n(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&a&&null!=(i=p(e.state.selection.$anchor))&&q(e,t).pos!=i.pos)n(i,t),t.preventDefault();else if(!a)return;e.root.addEventListener("mouseup",r),e.root.addEventListener("dragstart",r),e.root.addEventListener("mousemove",o)}}function W(e,t,n){if(!(e.state.selection instanceof xe.TextSelection))return null;for(var r=e.state.selection,o=r.$head,i=o.depth-1;0<=i;i--){var a=o.node(i),s=0>n?o.index(i):o.indexAfter(i);if(s!=(0>n?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var c=o.before(i),u="vert"==t?0<n?"down":"up":0<n?"right":"left";return e.endOfTextblock(u)?c:null}}return null}function J(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function q(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?p(e.state.doc.resolve(n.pos)):null}function K(e,t,n,r){var i=e.childCount,a=t.childCount;e:for(var s,c=0,u=0;c<a;c++){s=t.child(c);for(var l=u,f=o(i,c+3);l<f;l++)if(e.child(l)==s){u=l+1,n+=s.nodeSize;continue e}r(s,n),u<i&&e.child(u).sameMarkup(s)?K(e.child(u),s,n+1,r):s.nodesBetween(0,s.content.size,r,n+1),n+=s.nodeSize}}function U(e,t){var n,r=function(t,r){"table"==t.type.spec.tableRole&&(n=G(e,t,r,n))};return t?t.doc!=e.doc&&K(t.doc,e.doc,0,r):e.doc.descendants(r),n}function G(e,t,n,r){var o=Re.get(t);if(!o.problems)return r;r||(r=e.tr);for(var i=[],a=0;a<o.height;a++)i.push(0);for(var s,c=0;c<o.problems.length;c++)if(s=o.problems[c],"collision"==s.type){for(var u=t.nodeAt(s.pos),l=0;l<u.attrs.rowspan;l++)i[s.row+l]+=s.n;r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,S(u.attrs,u.attrs.colspan-s.n,s.n))}else if("missing"==s.type)i[s.row]+=s.n;else if("overlong_rowspan"==s.type){var p=t.nodeAt(s.pos);r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,k(p.attrs,"rowspan",p.attrs.rowspan-s.n))}else if("colwidth mismatch"==s.type){var d=t.nodeAt(s.pos);r.setNodeMarkup(r.mapping.map(n+1+s.pos),null,k(d.attrs,"colwidth",s.colwidth))}for(var h,v,m=0;m<i.length;m++)i[m]&&(null==h&&(h=m),v=m);for(var g=0,y=n+1;g<o.height;g++){var b=t.child(g),w=y+b.nodeSize,O=i[g];if(0<O){var x="cell";b.firstChild&&(x=b.firstChild.type.spec.tableRole);for(var C=[],M=0;M<O;M++)C.push(f(e.schema)[x].createAndFill());var _=0!=g&&h!=g-1||v!=g?w-1:y+1;r.insert(r.mapping.map(_),C)}y=w}return r.setMeta(Be,{fixTables:!0})}function X(e){var t,n=e.selection,r=v(e),o=r.node(-1),i=r.start(-1),a=Re.get(o);return t=n instanceof je?a.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):a.findCell(r.pos-i),t.tableStart=i,t.map=a,t.table=o,t}function Y(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=0<n?-1:0;x(r,i,n+a)&&(a=0==n||n==r.width?null:0);for(var s,c=0;c<r.height;c++)if(s=c*r.width+n,0<n&&n<r.width&&r.map[s-1]==r.map[s]){var u=r.map[s],l=i.nodeAt(u);e.setNodeMarkup(e.mapping.map(o+u),null,O(l.attrs,n-r.colCount(u))),c+=l.attrs.rowspan-1}else{var p=null==a?f(i.type.schema).cell:i.nodeAt(r.map[s+a]).type,d=r.positionAt(c,n,i);e.insert(e.mapping.map(o+d),p.createAndFill())}return e}function Q(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=e.mapping.maps.length,s=0;s<r.height;){var c=s*r.width+n,u=r.map[c],l=o.nodeAt(u);if(0<n&&r.map[c-1]==u||n<r.width-1&&r.map[c+1]==u)e.setNodeMarkup(e.mapping.slice(a).map(i+u),null,S(l.attrs,n-r.colCount(u)));else{var f=e.mapping.slice(a).map(i+u);e.delete(f,f+l.nodeSize)}s+=l.attrs.rowspan}}function Z(e,t,n){for(var r=f(t.type.schema).header_cell,o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function ee(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,s=0;s<n;s++)a+=i.child(s).nodeSize;var c=[],u=0<n?-1:0;Z(r,i,n+u)&&(u=0==n||n==r.height?null:0);for(var l=0,p=r.width*n;l<r.width;l++,p++)if(0<n&&n<r.height&&r.map[p]==r.map[p-r.width]){var d=r.map[p],h=i.nodeAt(d).attrs;e.setNodeMarkup(o+d,null,k(h,"rowspan",h.rowspan+1)),l+=h.colspan-1}else{var v=null==u?f(i.type.schema).cell:i.nodeAt(r.map[p+u*r.width]).type;c.push(v.createAndFill())}return e.insert(a,f(i.type.schema).row.create(null,c)),e}function te(e,t,n){for(var r=t.map,o=t.table,i=t.tableStart,a=0,s=0;s<n;s++)a+=o.child(s).nodeSize;var c=a+o.child(n).nodeSize,u=e.mapping.maps.length;e.delete(a+i,c+i);for(var l,f=0,p=n*r.width;f<r.width;f++,p++)if(l=r.map[p],0<n&&l==r.map[p-r.width]){var d=o.nodeAt(l).attrs;e.setNodeMarkup(e.mapping.slice(u).map(l+i),null,k(d,"rowspan",d.rowspan-1)),f+=d.colspan-1}else if(n<r.width&&l==r.map[p+r.width]){var h=o.nodeAt(l),v=h.type.create(k(h.attrs,"rowspan",h.attrs.rowspan-1),h.content),m=r.positionAt(n+1,f,o);e.insert(e.mapping.slice(u).map(i+m),v),f+=h.attrs.colspan-1}}function ne(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function re(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(0<t.left&&o[a]==o[a-1]||t.right<n&&o[c]==o[c+1])return!0;a+=n,c+=n}for(var l=t.left;l<t.right;l++){if(0<t.top&&o[i]==o[i-n]||t.bottom<r&&o[s]==o[s+n])return!0;i++,s++}return!1}function oe(e){return function(t,n){var r,o,i=t.selection;if(i instanceof je){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=d(i.$from),!r)return!1;o=p(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],c=a.colwidth;1<a.rowspan&&(a=k(a,"rowspan",1)),1<a.colspan&&(a=k(a,"colspan",1));for(var u=X(t),l=t.tr,f=0;f<u.right-u.left;f++)s.push(c?k(a,"colwidth",c&&c[f]?[c[f]]:null):a);for(var h,v,m=u.top;m<u.bottom;m++){v=u.map.positionAt(m,u.left,u.table),m==u.top&&(v+=r.nodeSize);for(var g=u.left,y=0;g<u.right;g++,y++)(g!=u.left||m!=u.top)&&l.insert(h=l.mapping.map(v+u.tableStart,1),e({node:r,row:m,col:g}).createAndFill(s[y]))}l.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),s[0]),i instanceof je&&l.setSelection(new je(l.doc.resolve(i.$anchorCell.pos),h&&l.doc.resolve(h))),n(l)}return!0}}function ie(e){return function(t,n){if(!h(t))return!1;if(n){for(var r=f(t.schema),o=X(t),i=t.tr,a=o.map.cellsInRect("column"==e?new Ee(o.left,0,o.right,o.map.height):"row"==e?new Ee(0,o.top,o.map.width,o.bottom):o),s=a.map((function(e){return o.table.nodeAt(e)})),c=0;c<a.length;c++)s[c].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[c],r.cell,s[c].attrs);if(0==i.steps.length)for(var u=0;u<a.length;u++)i.setNodeMarkup(o.tableStart+a[u],r.header_cell,s[u].attrs);n(i)}return!0}}function ae(e,t,n){for(var r,o=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),i=0;i<o.length;i++)if(r=t.table.nodeAt(o[i]),r&&r.type!==n.header_cell)return!1;return!0}function se(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?ie(e):function(t,n){if(!h(t))return!1;if(n){var r=f(t.schema),o=X(t),i=t.tr,a=ae("row",o,r),s=ae("column",o,r),c="column"===e?a:"row"==e&&s,u=c?1:0,l="column"==e?new Ee(0,u,1,o.map.height):"row"==e?new Ee(u,0,o.map.width,1):o,p="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(l).forEach((function(e){var t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,p,n.attrs)})),n(i)}return!0}}function ce(e,t){if(0>t){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r,o=e.index(-1)-1,i=e.before();0<=o;o--){if(r=e.node(-1).child(o),r.childCount)return i-1-r.lastChild.nodeSize;i-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;for(var a,s=e.node(-1),c=e.indexAfter(-1),u=e.after();c<s.childCount;c++){if(a=s.child(c),a.childCount)return u+1;u+=a.nodeSize}}}function ue(e,t,n,r,o,i){for(var a=0,s=!0,c=t.firstChild,u=e.firstChild,l=0,f=0;l<u.childCount;l++)for(var p=u.child(l).attrs,d=p.colspan,h=p.colwidth,v=0;v<d;v++,f++){var m=o==f?i:h&&h[v],g=m?m+"px":"";a+=m||r,m||(s=!1),c?(c.style.width!=g&&(c.style.width=g),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=g}for(;c;){var y=c.nextSibling;c.parentNode.removeChild(c),c=y}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}function le(e,t,n,r,o){var i=He.getState(e.state);if(!i.dragging){var a=he(t.target),s=-1;if(a){var c=a.getBoundingClientRect(),u=c.left,l=c.right;t.clientX-u<=n?s=ve(e,t,"left"):l-t.clientX<=n&&(s=ve(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){var f=e.state.doc.resolve(s),p=f.node(-1),d=Re.get(p),h=f.start(-1),v=d.colCount(f.pos-h)+f.nodeAfter.attrs.colspan-1;if(v==d.width-1)return}ge(e,s)}}}function fe(e){var t=He.getState(e.state);-1<t.activeHandle&&!t.dragging&&ge(e,-1)}function pe(e,t,n){function r(t){window.removeEventListener("mouseup",r),window.removeEventListener("mousemove",o);var i=He.getState(e.state);i.dragging&&(ye(e,i.activeHandle,me(i.dragging,t,n)),e.dispatch(e.state.tr.setMeta(He,{setDragging:null})))}function o(t){if(!t.which)return r(t);var o=He.getState(e.state),i=me(o.dragging,t,n);be(e,o.activeHandle,i,n)}var i=He.getState(e.state);if(-1==i.activeHandle||i.dragging)return!1;var a=e.state.doc.nodeAt(i.activeHandle),s=de(e,i.activeHandle,a.attrs);return e.dispatch(e.state.tr.setMeta(He,{setDragging:{startX:t.clientX,startWidth:s}})),window.addEventListener("mouseup",r),window.addEventListener("mousemove",o),t.preventDefault(),!0}function de(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t),s=a.node.childNodes[a.offset],c=s.offsetWidth,u=r;if(o)for(var l=0;l<r;l++)o[l]&&(c-=o[l],u--);return c/u}function he(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList.contains("ProseMirror")?null:e.parentNode;return e}function ve(e,t,n){var r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;var o=r.pos,i=p(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;var a=Re.get(i.node(-1)),s=i.start(-1),c=a.map.indexOf(i.pos-s);return 0==c%a.width?-1:s+a.map[c-1]}function me(e,t,n){var r=t.clientX-e.startX;return i(n,e.startWidth+r)}function ge(e,t){e.dispatch(e.state.tr.setMeta(He,{setHandle:t}))}function ye(e,t,n){for(var r,o=e.state.doc.resolve(t),i=o.node(-1),a=Re.get(i),s=o.start(-1),c=a.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,u=e.state.tr,l=0;l<a.height;l++)if(r=l*a.width+c,!l||a.map[r]!=a.map[r-a.width]){var f=a.map[r],p=i.nodeAt(f),d=p.attrs,h=1==d.colspan?0:c-a.colCount(f);if(!d.colwidth||d.colwidth[h]!=n){var v=d.colwidth?d.colwidth.slice():we(d.colspan);v[h]=n,u.setNodeMarkup(s+f,null,k(d,"colwidth",v))}}u.docChanged&&e.dispatch(u)}function be(e,t,n,r){for(var o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=Re.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1,c=e.domAtPos(o.start(-1)).node;"TABLE"!=c.nodeName;)c=c.parentNode;ue(i,c.firstChild,c,r,s,n)}function we(e){for(var t=[],n=0;n<e;n++)t.push(0);return t}function ke(e,t){for(var n,r=[],o=e.doc.resolve(t),i=o.node(-1),a=Re.get(i),s=o.start(-1),c=a.colCount(o.pos-s)+o.nodeAfter.attrs.colspan,u=0;u<a.height;u++)if(n=c+u*a.width-1,(c==a.width||a.map[n]!=a.map[n+1])&&(0==u||a.map[n-1]!=a.map[n-1-a.width])){var l=a.map[n],f=s+l+i.nodeAt(l).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",r.push(_e.Decoration.widget(f,p))}return _e.DecorationSet.create(e.doc,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.__clipCells=E,t.__insertCells=I,t.__pastedCells=A,t.addColSpan=O,t.addColumn=Y,t.addColumnAfter=function(e,t){if(!h(e))return!1;if(t){var n=X(e);t(Y(e.tr,n,n.right))}return!0},t.addColumnBefore=function(e,t){if(!h(e))return!1;if(t){var n=X(e);t(Y(e.tr,n,n.left))}return!0},t.addRow=ee,t.addRowAfter=function(e,t){if(!h(e))return!1;if(t){var n=X(e);t(ee(e.tr,n,n.bottom))}return!0},t.addRowBefore=function(e,t){if(!h(e))return!1;if(t){var n=X(e);t(ee(e.tr,n,n.top))}return!0},t.cellAround=p,t.colCount=function(e){return Re.get(e.node(-1)).colCount(e.pos-e.start(-1))},t.columnIsHeader=x,t.columnResizing=function(e){void 0===e&&(e={});var t=e.handleWidth;void 0===t&&(t=5);var n=e.cellMinWidth;void 0===n&&(n=25);var r=e.View;void 0===r&&(r=Ve);var o=e.lastColumnResizable;void 0===o&&(o=!0);var i=new xe.Plugin({key:He,state:{init:function(e,t){return this.spec.props.nodeViews[f(t.schema).table.name]=function(e,t){return new r(e,n,t)},new We(-1,!1)},apply:function(e,t){return t.apply(e)}},props:{attributes:function(e){var t=He.getState(e);return-1<t.activeHandle?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(e,r){le(e,r,t,n,o)},mouseleave:function(e){fe(e)},mousedown:function(e,t){pe(e,t,n)}},decorations:function(e){var t=He.getState(e);if(-1<t.activeHandle)return ke(e,t.activeHandle)},nodeViews:{}}});return i},t.deleteColumn=function(e,t){if(!h(e))return!1;if(t){var n=X(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var o=n.right-1;;o--){if(Q(r,n,o),o==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Re.get(n.table)}t(r)}return!0},t.deleteRow=function(e,t){if(!h(e))return!1;if(t){var n=X(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var o=n.bottom-1;;o--){if(te(r,n,o),o==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=Re.get(n.table)}t(r)}return!0},t.deleteTable=function(e,t){for(var n,r=e.selection.$anchor,o=r.depth;0<o;o--)if(n=r.node(o),"table"==n.type.spec.tableRole)return t&&t(e.tr.delete(r.before(o),r.after(o)).scrollIntoView()),!0;return!1},t.findCell=function(e){return Re.get(e.node(-1)).findCell(e.pos-e.start(-1))},t.fixTables=U,t.goToNextCell=function(e){return function(t,n){if(!h(t))return!1;var r=ce(v(t),e);if(null!=r){if(n){var o=t.doc.resolve(r);n(t.tr.setSelection(xe.TextSelection.between(o,y(o))).scrollIntoView())}return!0}}},t.handlePaste=V,t.inSameTable=b,t.isInTable=h,t.mergeCells=function(e,t){var n=e.selection;if(!(n instanceof je)||n.$anchorCell.pos==n.$headCell.pos)return!1;var r=X(e),o=r.map;if(re(o,r))return!1;if(t){for(var i,a,s=e.tr,c={},u=Ce.Fragment.empty,l=r.top;l<r.bottom;l++)for(var f=r.left;f<r.right;f++){var p=o.map[l*o.width+f],d=r.table.nodeAt(p);if(!c[p])if(c[p]=!0,null==i)i=p,a=d;else{ne(d)||(u=u.append(d.content));var h=s.mapping.map(p+r.tableStart);s.delete(h,h+d.nodeSize)}}if(s.setNodeMarkup(i+r.tableStart,null,k(O(a.attrs,a.attrs.colspan,r.right-r.left-a.attrs.colspan),"rowspan",r.bottom-r.top)),u.size){var v=i+1+a.content.size,m=ne(a)?i+1:v;s.replaceWith(m+r.tableStart,v+r.tableStart,u)}s.setSelection(new je(s.doc.resolve(i+r.tableStart))),t(s)}return!0},t.moveCellForward=y,t.nextCell=w,t.pointsAtCell=g,t.removeColSpan=S,t.removeColumn=Q,t.removeRow=te,t.rowIsHeader=Z,t.selectedRect=X,t.selectionCell=v,t.setAttr=k,t.setCellAttr=function(e,t){return function(n,r){if(!h(n))return!1;var o=v(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){var i=n.tr;n.selection instanceof je?n.selection.forEachCell((function(n,r){n.attrs[e]!==t&&i.setNodeMarkup(r,null,k(n.attrs,e,t))})):i.setNodeMarkup(o.pos,null,k(o.nodeAfter.attrs,e,t)),r(i)}return!0}},t.splitCell=function(e,t){var n=f(e.schema);return oe((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)},t.splitCellWithType=oe,t.tableEditing=function(e){void 0===e&&(e={});var t=e.allowTableNodeSelection;return void 0===t&&(t=!1),new xe.Plugin({key:De,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(De);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:C,handleDOMEvents:{mousedown:H},createSelectionBetween:function(e){if(null!=De.getState(e.state))return e.state.selection},handleTripleClick:L,handleKeyDown:$e,handlePaste:V},appendTransaction:function(e,n,r){return N(r,U(r,n),t)}})},t.tableNodeTypes=f,t.tableNodes=function(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return u(e,t)}}],toDOM:function(e){return["td",l(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return u(e,t)}}],toDOM:function(e){return["th",l(e,t),0]}}}},t.toggleHeader=se,t.updateColumnsOnResize=ue,t.toggleHeaderRow=t.toggleHeaderColumn=t.toggleHeaderCell=t.tableEditingKey=t.fixTablesKey=t.columnResizingPluginKey=t.TableView=t.TableMap=t.CellSelection=void 0;var Se,Oe,xe=n("5313"),Ce=n("304a"),Me=n("7f06"),_e=n("576a"),Ne=n("0ac0");if("undefined"!=typeof WeakMap){var Ae=new WeakMap;Se=function(e){return Ae.get(e)},Oe=function(e,t){return Ae.set(e,t),t}}else{var Te=[],Pe=0;Se=function(e){for(var t=0;t<Te.length;t+=2)if(Te[t]==e)return Te[t+1]},Oe=function(e,t){return 10==Pe&&(Pe=0),Te[Pe++]=e,Te[Pe++]=t}}var Ee=function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r},Re=function(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r};t.TableMap=Re,Re.prototype.findCell=function(e){for(var t,n=0;n<this.map.length;n++)if(t=this.map[n],t==e){for(var r=n%this.width,o=0|n/this.width,i=r+1,a=o+1,s=1;i<this.width&&this.map[n+s]==t;s++)i++;for(var c=1;a<this.height&&this.map[n+this.width*c]==t;c++)a++;return new Ee(r,o,i,a)}throw new RangeError("No cell with offset "+e+" found")},Re.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},Re.prototype.nextCell=function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"==t?(0>n?0==o:i==this.width)?null:this.map[a*this.width+(0>n?o-1:i)]:(0>n?0==a:s==this.height)?null:this.map[o+this.width*(0>n?a-1:s)]},Re.prototype.rectBetween=function(e,t){var n=this.findCell(e),r=n.left,a=n.right,s=n.top,c=n.bottom,u=this.findCell(t),l=u.left,f=u.right,p=u.top,d=u.bottom;return new Ee(o(r,l),o(s,p),i(a,f),i(c,d))},Re.prototype.cellsInRect=function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t},Re.prototype.positionAt=function(e,t,n){for(var r,o=0,i=0;;o++){if(r=i+n.child(o).nodeSize,o==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<i;)a++;return a==s?r-1:this.map[a]}i=r}},Re.get=function(e){return Se(e)||Oe(e,r(e))};var De=new xe.PluginKey("selectingCells");t.tableEditingKey=De;var je=function(e){function t(t,n){void 0===n&&(n=t);var r=t.node(-1),o=Re.get(r),i=t.start(-1),a=o.rectBetween(t.pos-i,n.pos-i),s=t.node(0),c=o.cellsInRect(a).filter((function(e){return e!=n.pos-i}));c.unshift(n.pos-i);var u=c.map((function(e){var t=r.nodeAt(e),n=e+i+1;return new xe.SelectionRange(s.resolve(n),s.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if(g(r)&&g(o)&&b(r,o)){var i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?t.rowSelection(r,o):i&&this.isColSelection()?t.colSelection(r,o):new t(r,o)}return xe.TextSelection.between(r,o)},t.prototype.content=function(){for(var e,t=this.$anchorCell.node(-1),n=Re.get(t),r=this.$anchorCell.start(-1),a=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},c=[],u=a.top;u<a.bottom;u++){e=[];for(var l,f=u*n.width+a.left,p=a.left;p<a.right;p++,f++)if(l=n.map[f],!s[l]){s[l]=!0;var d=n.findCell(l),h=t.nodeAt(l),v=a.left-d.left,m=d.right-a.right;if(0<v||0<m){var g=h.attrs;0<v&&(g=S(g,0,v)),0<m&&(g=S(g,g.colspan-m,m)),h=d.left<a.left?h.type.createAndFill(g):h.type.create(g,h.content)}if(d.top<a.top||d.bottom>a.bottom){var y=k(h.attrs,"rowspan",o(d.bottom,a.bottom)-i(d.top,a.top));h=d.top<a.top?h.type.createAndFill(y):h.type.create(y,h.content)}e.push(h)}c.push(t.child(u).copy(Ce.Fragment.from(e)))}var b=this.isColSelection()&&this.isRowSelection()?t:c;return new Ce.Slice(Ce.Fragment.from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=Ce.Slice.empty);for(var r=t.steps.length,o=this.ranges,i=0;i<o.length;i++){var a=o[i],s=a.$from,c=a.$to,u=t.mapping.slice(r);t.replace(u.map(s.pos),u.map(c.pos),i?Ce.Slice.empty:n)}var l=e.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);l&&t.setSelection(l)},t.prototype.replaceWith=function(e,t){this.replace(e,new Ce.Slice(Ce.Fragment.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=Re.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(0<o(e,t))return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return i(n,r)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var r=Re.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.top<=a.top?(0<i.top&&(e=s.resolve(o+r.map[i.left])),a.bottom<r.height&&(n=s.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(0<a.top&&(n=s.resolve(o+r.map[a.left])),i.bottom<r.height&&(e=s.resolve(o+r.map[r.width*(r.height-1)+i.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=Re.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(0<o(n,r))return!1;var a=n+this.$anchorCell.nodeAfter.attrs.colspan,s=r+this.$headCell.nodeAfter.attrs.colspan;return i(a,s)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var r=Re.get(e.node(-1)),o=e.start(-1),i=r.findCell(e.pos-o),a=r.findCell(n.pos-o),s=e.node(0);return i.left<=a.left?(0<i.left&&(e=s.resolve(o+r.map[i.top*r.width])),a.right<r.width&&(n=s.resolve(o+r.map[r.width*(a.top+1)-1]))):(0<a.left&&(n=s.resolve(o+r.map[a.top*r.width])),i.right<r.width&&(e=s.resolve(o+r.map[r.width*(i.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,r){return void 0===r&&(r=n),new t(e.resolve(n),e.resolve(r))},t.prototype.getBookmark=function(){return new Ie(this.$anchorCell.pos,this.$headCell.pos)},t}(xe.Selection);t.CellSelection=je,je.prototype.visible=!1,xe.Selection.jsonID("cell",je);var Ie=function(e,t){this.anchor=e,this.head=t};Ie.prototype.map=function(e){return new Ie(e.map(this.anchor),e.map(this.head))},Ie.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&b(t,n)?new je(t,n):xe.Selection.near(n,1)};var $e=(0,Me.keydownHandler)({ArrowLeft:B("horiz",-1),ArrowRight:B("horiz",1),ArrowUp:B("vert",-1),ArrowDown:B("vert",1),"Shift-ArrowLeft":z("horiz",-1),"Shift-ArrowRight":z("horiz",1),"Shift-ArrowUp":z("vert",-1),"Shift-ArrowDown":z("vert",1),Backspace:F,"Mod-Backspace":F,Delete:F,"Mod-Delete":F}),Be=new xe.PluginKey("fix-tables");t.fixTablesKey=Be;var ze=se("row",{useDeprecatedLogic:!0});t.toggleHeaderRow=ze;var Fe=se("column",{useDeprecatedLogic:!0});t.toggleHeaderColumn=Fe;var Le=se("cell",{useDeprecatedLogic:!0});t.toggleHeaderCell=Le;var Ve=function(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ue(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};t.TableView=Ve,Ve.prototype.update=function(e){return e.type==this.node.type&&(this.node=e,ue(e,this.colgroup,this.table,this.cellMinWidth),!0)},Ve.prototype.ignoreMutation=function(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))};var He=new xe.PluginKey("tableColumnResizing");t.columnResizingPluginKey=He;var We=function(e,t){this.activeHandle=e,this.dragging=t};We.prototype.apply=function(e){var t=this,n=e.getMeta(He);if(n&&null!=n.setHandle)return new We(n.setHandle,null);if(n&&void 0!==n.setDragging)return new We(t.activeHandle,n.setDragging);if(-1<t.activeHandle&&e.docChanged){var r=e.mapping.map(t.activeHandle,-1);g(e.doc.resolve(r))||(r=null),t=new We(r,t.dragging)}return t}},5690:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.isActive,expression:"isActive"}],staticClass:"InputBase_reset",on:{click:function(){return e.$emit("click")}}},[n("i",{staticClass:"fal fa-redo fa-sm"})])},o=[]},"576a":function(e,n,a){"use strict";function s(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(0>o?0:c(e))){var i=e.parentNode;if(1!=i.nodeType||l(e)||Xt.test(e.nodeName)||"false"==e.contentEditable)return!1;t=qt(e)+(0>o?0:1),e=i}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(0>o?-1:0)],"false"==e.contentEditable)return!1;t=0>o?c(e):0}}}function c(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function u(e,t,n){for(var r=0==t,o=t==c(e);r||o;){if(e==n)return!0;var i=qt(e);if(e=e.parentNode,!e)return!1;r=r&&0==i,o=o&&i==c(e)}}function l(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}function f(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function p(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function d(e,t){return"number"==typeof e?e:e[t]}function h(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function v(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;;a=Kt(a)){if(!a)break;if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,c=s?p(i):h(a),u=0,l=0;if(t.top<c.top+d(r,"top")?l=-(c.top-t.top+d(o,"top")):t.bottom>c.bottom-d(r,"bottom")&&(l=t.bottom-c.bottom+d(o,"bottom")),t.left<c.left+d(r,"left")?u=-(c.left-t.left+d(o,"left")):t.right>c.right-d(r,"right")&&(u=t.right-c.right+d(o,"right")),u||l)if(s)i.defaultView.scrollBy(u,l);else{var f=a.scrollLeft,v=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var m=a.scrollLeft-f,g=a.scrollTop-v;t={left:t.left-m,top:t.top-g,right:t.right-m,bottom:t.bottom-g}}if(s)break}}}function m(e){for(var t,n,r,a=e.dom.getBoundingClientRect(),s=i(0,a.top),c=(a.left+a.right)/2,u=s+1;u<o(innerHeight,a.bottom);u+=5)if(r=e.root.elementFromPoint(c,u),r!=e.dom&&e.dom.contains(r)){var l=r.getBoundingClientRect();if(l.top>=s-20){t=r,n=l.top;break}}return{refDOM:t,refTop:n,stack:g(e.dom)}}function g(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=Kt(e));return t}function y(e){var t=e.refDOM,n=e.refTop,r=e.stack,o=t?t.getBoundingClientRect().top:0;b(r,0==o?0:o-n)}function b(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}function w(e){if(e.setActive)return e.setActive();if(Qt)return e.focus(Qt);var t=g(e);e.focus(null==Qt?{get preventScroll(){return Qt={preventScroll:!0},!0}}:void 0),Qt||(Qt=!1,b(t,0))}function k(e,t){for(var n,r,a,s=2e8,c=0,u=t.top,l=t.top,f=e.firstChild,p=0;f;f=f.nextSibling,p++){if(a=void 0,1==f.nodeType)a=f.getClientRects();else{if(3!=f.nodeType)continue;a=Ut(f).getClientRects()}for(var d,h=0;h<a.length;h++){if(d=a[h],d.top<=u&&d.bottom>=l){u=i(d.bottom,u),l=o(d.top,l);var v=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(v<s){n=f,s=v,r=v&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==f.nodeType&&v&&(c=p+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(c=p+1)}}return n&&3==n.nodeType?S(n,r):!n||s&&1==n.nodeType?{node:e,offset:c}:k(n,r)}function S(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=A(r,1);if(i.top!=i.bottom&&O(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}function O(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function x(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function C(e,t,n){var r=k(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}function M(e,t,n,r){for(var o=-1,i=t;;){if(i==e.dom)break;var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return-1<o?o:e.docView.posFromDOM(t,n)}function _(e,t,n){var a=e.childNodes.length;if(a&&n.top<n.bottom)for(var s,c=i(0,o(a-1,r(a*(t.top-n.top)/(n.bottom-n.top))-2)),u=c;;){if(s=e.childNodes[u],1==s.nodeType)for(var l,f=s.getClientRects(),p=0;p<f.length;p++)if(l=f[p],O(t,l))return _(s,t,l);if((u=(u+1)%a)==c)break}return e}function N(e,t){var n,r,i,a,s=e.root;if(s.caretPositionFromPoint)try{var c=s.caretPositionFromPoint(t.left,t.top);c&&(n=c,i=n.offsetNode,a=n.offset)}catch(e){}if(!i&&s.caretRangeFromPoint){var u=s.caretRangeFromPoint(t.left,t.top);u&&(r=u,i=r.startContainer,a=r.startOffset)}var l,f=s.elementFromPoint(t.left,t.top+1);if(!f||!e.dom.contains(1==f.nodeType?f:f.parentNode)){var p=e.dom.getBoundingClientRect();if(!O(t,p))return null;if(f=_(e.dom,t,p),!f)return null}if(Ft.safari&&f.draggable&&(i=a=null),f=x(f,t),i){if(Ft.gecko&&1==i.nodeType&&(a=o(a,i.childNodes.length),a<i.childNodes.length)){var d,h=i.childNodes[a];"IMG"==h.nodeName&&(d=h.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&a++}i==e.dom&&a==i.childNodes.length-1&&1==i.lastChild.nodeType&&t.top>i.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(0==a||1!=i.nodeType||"BR"!=i.childNodes[a-1].nodeName)&&(l=M(e,i,a,t))}null==l&&(l=C(e,f,t));var v=e.docView.nearestDesc(f,!0);return{pos:l,inside:v?v.posAtStart-v.border:-1}}function A(e,t){var n=e.getClientRects();return n.length?n[0>t?0:n.length-1]:e.getBoundingClientRect()}function T(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset;if(3==r.nodeType&&(Ft.webkit||Ft.gecko)){var i=A(Ut(r,o,o),0);if(Ft.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var a=A(Ut(r,o-1,o-1),-1);if(a.top==i.top){var s=A(Ut(r,o,o+1),-1);if(s.top!=i.top)return P(s,s.left<a.left)}}return i}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var u,l=!0;if(o<r.childNodes.length){var f=r.childNodes[o];1==f.nodeType&&(u=f.getBoundingClientRect())}if(!u&&o){var p=r.childNodes[o-1];1==p.nodeType&&(u=p.getBoundingClientRect(),l=!1)}return E(u||r.getBoundingClientRect(),l)}for(var d=-1;2>d;d+=2)if(0>d&&o){var h=void 0,v=3==r.nodeType?Ut(r,o-1,o):3==(h=r.childNodes[o-1]).nodeType?Ut(h):1==h.nodeType&&"BR"!=h.nodeName?h:null;if(v){var m=A(v,1);if(m.top<m.bottom)return P(m,!1)}}else if(0<d&&o<c(r)){var g=void 0,y=3==r.nodeType?Ut(r,o,o+1):3==(g=r.childNodes[o]).nodeType?Ut(g):1==g.nodeType?g:null;if(y){var b=A(y,-1);if(b.top<b.bottom)return P(b,!0)}}return P(A(3==r.nodeType?Ut(r):r,0),!1)}function P(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function E(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function R(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function D(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return R(e,t,(function(){for(var t,r=e.docView.domFromPos(o.pos),i=r.node;;){if(t=e.docView.nearestDesc(i,!0),!t)break;if(t.node.isBlock){i=t.dom;break}i=t.dom.parentNode}for(var a,s=T(e,o.pos),c=i.firstChild;c;c=c.nextSibling){if(a=void 0,1==c.nodeType)a=c.getClientRects();else{if(3!=c.nodeType)continue;a=Ut(c,0,c.nodeValue.length).getClientRects()}for(var u,l=0;l<a.length;l++)if(u=a[l],u.bottom>u.top&&("up"==n?u.bottom<s.top+1:u.top>s.bottom-1))return!1}return!0}))}function j(e,t,n){var r=t.selection,o=r.$head;if(!o.parent.isTextblock)return!1;var i=o.parentOffset,a=i==o.parent.content.size,s=getSelection();return Zt.test(o.parent.textContent)&&s.modify?R(e,t,(function(){var t=s.getRangeAt(0),r=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=o.depth?e.docView.domAfterPos(o.before()):e.dom,u=!c.contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),u})):"left"==n||"backward"==n?!i:a}function I(e,t,n){return en==t&&tn==n?nn:(en=t,tn=n,nn="up"==n||"down"==n?D(e,t,n):j(e,t,n))}function $(e,t,n,r,o){return H(r,t,e),new hn(null,e,t,n,r,r,r,o,0)}function B(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=J(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof dn){var c=r?r.previousSibling:e.lastChild;B(a.contentDOM,a.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=J(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}function z(e){e&&(this.nodeName=e)}function F(e,t,n){if(0==e.length)return yn;for(var r=n?yn[0]:new z,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var c in a.nodeName&&o.push(s=new z(a.nodeName)),a){var u=a[c];null!=u&&(n&&1==o.length&&o.push(s=r=new z(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+u:"style"==c?s.style=(s.style?s.style+";":"")+u:"nodeName"!=c&&(s[c]=u))}}return o}function L(e,t,n,r){if(n==yn&&r==yn)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(c=o.parentNode)&&c.tagName.toLowerCase()==a.nodeName||(c=document.createElement(a.nodeName),c.pmIsDeco=!0,c.appendChild(o),s=yn[0]),o=c}V(o,s||yn[0],a)}return o}function V(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):ln,a=n.class?n.class.split(" "):ln,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function H(e,t,n){return L(e,e,yn,F(t,n,1!=e.nodeType))}function W(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function J(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}function q(e,t){for(var n=[],r=e.childCount,o=t.length-1;0<r&&0<=o;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}function K(e,t){return e.type.side-t.type.side}function U(e,t,n,r){var o=t.locals(e),i=0;if(0!=o.length)for(var a=0,s=[],c=null,u=0;;){if(a<o.length&&o[a].to==i){for(var l=o[a++],f=void 0;a<o.length&&o[a].to==i;)(f||(f=[l])).push(o[a++]);if(f){f.sort(K);for(var p=0;p<f.length;p++)n(f[p],u,!!c)}else n(l,u,!!c)}var d=void 0,h=void 0;if(c)h=-1,d=c,c=null;else{if(!(u<e.childCount))break;h=u,d=e.child(u++)}for(var v=0;v<s.length;v++)s[v].to<=i&&s.splice(v--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);var m=i+d.nodeSize;if(d.isText){var g=m;a<o.length&&o[a].from<g&&(g=o[a].from);for(var y=0;y<s.length;y++)s[y].to<g&&(g=s[y].to);g<m&&(c=d.cut(g-i),d=d.cut(0,g-i),m=g,h=-1)}var b=s.length?d.isInline&&!d.isLeaf?s.filter((function(e){return!e.inline})):s.slice():ln;r(d,b,t.forChild(i,d),h),i=m}else for(var w,k=0;k<e.childCount;k++)w=e.child(k),r(w,o,t.forChild(i,w),k),i+=w.nodeSize}function G(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function X(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&0<t){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=c(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function Y(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var c,u=a.text;o<e.childCount&&(c=e.child(o++),i+=c.nodeSize,c.isText);)u+=c.text;if(i>=n){var l=u.lastIndexOf(t,r-s);if(0<=l&&l+t.length+s>=n)return s+l}}}return-1}function Q(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],u=s,l=s+=c.size;u>=n||l<=t?i.push(c):(u<t&&i.push(c.slice(0,t-u,r)),o&&(i.push(o),o=null),l>n&&i.push(c.slice(n-u,c.size,r)))}return i}function Z(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(0>a)return null;var s,c,l=r.resolve(a);if(Yt(n)){for(s=l;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&$t.NodeSelection.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!u(n.focusNode,n.focusOffset,o.dom))){var f=o.posBefore;c=new $t.NodeSelection(a==f?l:r.resolve(f))}}else{var p=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(0>p)return null;s=r.resolve(p)}if(!c){var d="pointer"==t||e.state.selection.head<l.pos&&!i?1:-1;c=ce(e,s,l,d)}return c}function ee(e,t){var n=e.state.selection;if(ae(e,n),e.editable?e.hasFocus():le(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)ie(e);else{var r,o,i=n.anchor,a=n.head;wn&&!(n instanceof $t.TextSelection)&&(!n.$from.parent.inlineContent&&(r=te(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=te(e,n.to))),e.docView.setSelection(i,a,e.root,t),wn&&(r&&re(r),o&&re(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&oe(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}function te(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(Ft.safari&&i&&"false"==i.contentEditable)return ne(i);if((!i||"false"==i.contentEditable)&&(!a||"false"==a.contentEditable)){if(i)return ne(i);if(a)return ne(a)}}function ne(e){return e.contentEditable="true",Ft.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function re(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function oe(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){(n.anchorNode!=r||n.anchorOffset!=o)&&(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}function ie(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,qt(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&Ft.ie&&11>=Ft.ie_version&&(r.disabled=!0,r.disabled=!1)}function ae(e,t){if(t instanceof $t.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(se(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else se(e)}function se(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function ce(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||$t.TextSelection.between(t,n,r)}function ue(e){return!(e.editable&&e.root.activeElement!=e.dom)&&le(e)}function le(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function fe(e){var t=e.docView.domFromPos(e.state.selection.anchor),n=e.root.getSelection();return Gt(t.node,t.offset,n.anchorNode,n.anchorOffset)}function pe(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=0<t?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(0<t?i.after():i.before()):null:i;return a&&$t.Selection.findFrom(a,t)}function de(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function he(e,t,n){var r=e.state.selection;if(!(r instanceof $t.TextSelection)){if(r instanceof $t.NodeSelection&&r.node.isInline)return de(e,new $t.TextSelection(0<t?r.$to:r.$from));var o=pe(e.state,t);return!!o&&de(e,o)}if(!r.empty||-1<n.indexOf("s"))return!1;if(e.endOfTextblock(0<t?"right":"left")){var i=pe(e.state,t);return!!(i&&i instanceof $t.NodeSelection)&&de(e,i)}if(!(Ft.mac&&-1<n.indexOf("m"))){var a,s=r.$head,c=s.textOffset?null:0>t?s.nodeBefore:s.nodeAfter;if(!c||c.isText)return!1;var u=0>t?s.pos-c.nodeSize:s.pos;return!!(c.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM)&&($t.NodeSelection.isSelectable(c)?de(e,new $t.NodeSelection(0>t?e.state.doc.resolve(s.pos-c.nodeSize):s)):!!Ft.webkit&&de(e,new $t.TextSelection(e.state.doc.resolve(0>t?u:u+c.nodeSize))))}}function ve(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function me(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ge(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(Ft.gecko&&1==n.nodeType&&r<ve(n)&&me(n.childNodes[r])&&(a=!0);;)if(0<r){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(me(s))o=n,i=--r;else{if(3!=s.nodeType)break;n=s,r=n.nodeValue.length}}else{if(be(n))break;for(var c=n.previousSibling;c&&me(c);)o=n.parentNode,i=qt(c),c=c.previousSibling;if(c)n=c,r=ve(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}a?we(e,t,n,r):o&&we(e,t,o,i)}}function ye(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=ve(n);;)if(r<a){if(1!=n.nodeType)break;var s=n.childNodes[r];if(!me(s))break;o=n,i=++r}else{if(be(n))break;for(var c=n.nextSibling;c&&me(c);)o=c.parentNode,i=qt(c)+1,c=c.nextSibling;if(c)n=c,r=0,a=ve(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}o&&we(e,t,o,i)}}function be(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function we(e,t,n,r){if(Yt(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&ee(e)}),50)}function ke(e,t,n){var r=e.state.selection;if(r instanceof $t.TextSelection&&!r.empty||-1<n.indexOf("s"))return!1;if(Ft.mac&&-1<n.indexOf("m"))return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(0>t?"up":"down")){var a=pe(e.state,t);if(a&&a instanceof $t.NodeSelection)return de(e,a)}if(!o.parent.inlineContent){var s=$t.Selection.findFrom(0>t?o:i,t);return!s||de(e,s)}return!1}function Se(e,t){if(!(e.state.selection instanceof $t.TextSelection))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(0<t?"forward":"backward"))return!0;var a=!r.textOffset&&(0>t?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return 0>t?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),e.dispatch(s),!0}return!1}function Oe(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function xe(e){if(Ft.safari&&!(0<e.state.selection.$head.parentOffset)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Oe(e,o,!0),setTimeout((function(){return Oe(e,o,!1)}),20)}}}function Ce(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Me(e,t){var n=t.keyCode,r=Ce(t);return 8==n||Ft.mac&&72==n&&"c"==r?Se(e,-1)||ge(e):46==n||Ft.mac&&68==n&&"c"==r?Se(e,1)||ye(e):13==n||27==n||(37==n?he(e,-1,r)||ge(e):39==n?he(e,1,r)||ye(e):38==n?ke(e,-1,r)||ge(e):40==n?xe(e)||ke(e,1,r)||ye(e):r==(Ft.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function _e(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,i=r.fromOffset,a=r.toOffset,s=r.from,c=r.to,u=e.root.getSelection(),l=null,f=u.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(l=[{node:f,offset:u.anchorOffset}],!Yt(u)&&l.push({node:u.focusNode,offset:u.focusOffset})),Ft.chrome&&8===e.lastKeyCode)for(var p=a;p>i;p--){var d=o.childNodes[p-1],h=d.pmViewDesc;if("BR"==d.nodeType&&!h){a=p;break}if(!h||h.size)break}var v=e.state.doc,m=e.someProp("domParser")||Bt.DOMParser.fromSchema(e.state.schema),g=v.resolve(s),y=null,b=m.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:Ne,context:g});if(l&&null!=l[0].pos){var w=l[0].pos,k=l[1]&&l[1].pos;null==k&&(k=w),y={anchor:w+s,head:k+s}}return{doc:b,sel:y,from:s,to:c}}function Ne(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Ft.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||Ft.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Ae(e,t,n,r,o){if(0>t){var i=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=Z(e,i);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);"pointer"==i?s.setMeta("pointer",!0):"key"==i&&s.scrollIntoView(),e.dispatch(s)}}else{var c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);var l,p,d=e.state.selection,h=_e(e,t,n),v=e.state.doc,m=v.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(l=e.state.selection.to,p="end"):(l=e.state.selection.from,p="start"),e.lastKeyCode=null;var g=De(m.content,h.doc.content,h.from,l,p);if(!g){if(!(r&&d instanceof $t.TextSelection&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){var y=Te(e,e.state.doc,h.sel);y&&!y.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(y))}return}g={start:d.from,endA:d.to,endB:d.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&g.start==g.endB&&e.state.selection instanceof $t.TextSelection&&(g.start>e.state.selection.from&&g.start<=e.state.selection.from+2?g.start=e.state.selection.from:g.endA<e.state.selection.to&&g.endA>=e.state.selection.to-2&&(g.endB+=e.state.selection.to-g.endA,g.endA=e.state.selection.to)),Ft.ie&&11>=Ft.ie_version&&g.endB==g.start+1&&g.endA==g.start&&g.start>h.from&&"  "==h.doc.textBetween(g.start-h.from-1,g.start-h.from+1)&&(g.start--,g.endA--,g.endB--);var b,w=h.doc.resolveNoCache(g.start-h.from),k=h.doc.resolveNoCache(g.endB-h.from),S=w.sameParent(k)&&w.parent.inlineContent;if((Ft.ios&&e.lastIOSEnter>Date.now()-225&&(!S||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!S&&w.pos<h.doc.content.size&&(b=$t.Selection.findFrom(h.doc.resolve(w.pos+1),1,!0))&&b.head==k.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,f(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>g.start&&Ee(v,g.start,g.endA,w,k)&&e.someProp("handleKeyDown",(function(t){return t(e,f(8,"Backspace"))})))Ft.android&&Ft.chrome&&e.domObserver.suppressSelectionUpdates();else{Ft.android&&!S&&w.start()!=k.start()&&0==k.parentOffset&&w.depth==k.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==g.endA&&(g.endB-=2,k=h.doc.resolveNoCache(g.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,f(13,"Enter"))}))}),20));var O,x,C,M,_=g.start,N=g.endA;if(S)if(w.pos==k.pos)Ft.ie&&11>=Ft.ie_version&&0==w.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return ee(e)}),20)),O=e.state.tr.delete(_,N),x=v.resolve(g.start).marksAcross(v.resolve(g.endA));else if(g.endA==g.endB&&(M=v.resolve(g.start))&&(C=Pe(w.parent.content.cut(w.parentOffset,k.parentOffset),M.parent.content.cut(M.parentOffset,g.endA-M.start()))))O=e.state.tr,"add"==C.type?O.addMark(_,N,C.mark):O.removeMark(_,N,C.mark);else if(w.parent.child(w.index()).isText&&w.index()==k.index()-(k.textOffset?0:1)){var A=w.parent.textBetween(w.parentOffset,k.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,_,N,A)})))return;O=e.state.tr.insertText(A,_,N)}if(O||(O=e.state.tr.replace(_,N,h.doc.slice(g.start-h.from,g.endB-h.from))),h.sel){var T=Te(e,O.doc,h.sel);T&&!(Ft.chrome&&Ft.android&&e.composing&&T.empty&&(T.head==_||T.head==O.mapping.map(N)-1)||Ft.ie&&T.empty&&T.head==_)&&O.setSelection(T)}x&&O.ensureMarks(x),e.dispatch(O.scrollIntoView())}}}function Te(e,t,n){return i(n.anchor,n.head)>t.content.size?null:ce(e,t.resolve(n.anchor),t.resolve(n.head))}function Pe(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,c=a,u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(var l=0;l<i.length;l++)c=i[l].removeFromSet(c);if(1==s.length&&0==c.length)r=s[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=c.length)return null;r=c[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var f=[],p=0;p<t.childCount;p++)f.push(o(t.child(p)));if(Bt.Fragment.from(f).eq(e))return{mark:r,type:n}}function Ee(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Re(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Re(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Re(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function Re(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;0<r&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function De(e,t,n,r,a){var s=e.findDiffStart(t,n);if(null==s)return null;var c=e.findDiffEnd(t,n+e.size,n+t.size),u=c.a,l=c.b;if("end"==a){var f=i(0,s-o(u,l));r-=u+f-s}if(u<s&&e.size<t.size){var p=r<=s&&r>=u?s-r:0;s-=p,l=s+(l-u),u=s}else if(l<s){var d=r<=s&&r>=l?s-r:0;s-=d,u=s+(u-l),l=s}return{start:s,endA:u,endB:l}}function je(e,t){for(var n=[],r=t.content,o=t.openStart,i=t.openEnd;1<o&&1<i&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.type.hasRequiredAttrs()?a.attrs:null),r=a.content}var s=e.someProp("clipboardSerializer")||Bt.DOMSerializer.fromSchema(e.state.schema),c=He(),u=c.createElement("div");u.appendChild(s.serializeFragment(r,{document:c}));for(var l,f=u.firstChild;f&&1==f.nodeType&&(l=kn[f.nodeName.toLowerCase()]);){for(var p,d=l.length-1;0<=d;d--){for(p=c.createElement(l[d]);u.firstChild;)p.appendChild(u.firstChild);u.appendChild(p)}f=u.firstChild}f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n));var h=e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:u,text:h}}function Ie(e,t,n,r,o){var i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(r||s||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,s||r)})),s)return new Bt.Slice(Bt.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));u?a=u:(i=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){i.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),i=We(n);var l=i&&i.querySelector("[data-pm-slice]"),f=l&&/^(\d+) (\d+) (.*)/.exec(l.getAttribute("data-pm-slice"));if(!a){var p=e.someProp("clipboardParser")||e.someProp("domParser")||Bt.DOMParser.fromSchema(e.state.schema);a=p.parseSlice(i,{preserveWhitespace:!(!c&&!f),context:o})}return a=f?Je(Ve(a,+f[1],+f[2]),f[3]):Bt.Slice.maxOpen($e(a.content,o),!1),e.someProp("transformPasted",(function(e){a=e(a)})),a}function $e(e,t){if(2>e.childCount)return e;for(var n,r=function(n){var r=t.node(n),o=r.contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=o.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&ze(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=Fe(a[a.length-1],i.length));var r=Be(e,n);a.push(r),o=o.matchType(r.type,r.attrs),i=n}}})),a)return{v:Bt.Fragment.from(a)}},o=t.depth;0<=o;o--)if(n=r(o),n)return n.v;return e}function Be(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,Bt.Fragment.from(e));return e}function ze(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=ze(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));var a=r.contentMatchAt(r.childCount);if(a.matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(Bt.Fragment.from(Be(n,e,o+1))))}}function Fe(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Fe(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Bt.Fragment.empty,!0);return e.copy(n.append(r))}function Le(e,t,n,r,o,i){var a=0>t?e.firstChild:e.lastChild,s=a.content;return o<r-1&&(s=Le(s,t,n,r,o+1,i)),o>=n&&(s=0>t?a.contentMatchAt(0).fillBefore(s,1<e.childCount||i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Bt.Fragment.empty,!0))),e.replaceChild(0>t?0:e.childCount-1,a.copy(s))}function Ve(e,t,n){return t<e.openStart&&(e=new Bt.Slice(Le(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Bt.Slice(Le(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}function He(){return Sn||(Sn=document.implementation.createHTMLDocument("title"))}function We(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=He().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&kn[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length),r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}function Je(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o,i=e.content,a=e.openStart,s=e.openEnd,c=n.length-2;0<=c&&(o=r.nodes[n[c]],o&&!o.hasRequiredAttrs());c-=2)i=Bt.Fragment.from(o.create(n[c+1],i)),a++,s++;return new Bt.Slice(i,a,s)}function qe(e){_n||(_n=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Ke(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Mn(e,(function(t,n,r,o){return Ae(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Nn[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){Qe(e,t)&&!Ye(e,t)&&(e.editable||!(t.type in An))&&n(e,t)})};for(var n in Nn)t(n);Ft.safari&&e.dom.addEventListener("input",(function(){return null})),Xe(e)}function Ue(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Ge(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function Xe(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return Ye(e,t)})}))}function Ye(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function Qe(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Ze(e,t){!Ye(e,t)&&Nn[t.type]&&(e.editable||!(t.type in An))&&Nn[t.type](e,t)}function et(e){return{left:e.clientX,top:e.clientY}}function tt(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return 100>n*n+r*r}function nt(e,t,n,r,o){if(-1==r)return!1;for(var i,a=e.state.doc.resolve(r),s=function(r){if(e.someProp(t,(function(t){return r>a.depth?t(e,n,a.nodeAfter,a.before(r),o,!0):t(e,n,a.node(r),a.before(r),o,!1)})))return{v:!0}},c=a.depth+1;0<c;c--)if(i=s(c),i)return i.v;return!1}function rt(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function ot(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&$t.NodeSelection.isSelectable(r))&&(rt(e,new $t.NodeSelection(n),"pointer"),!0)}function it(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof $t.NodeSelection&&(n=o.node);for(var i,a=e.state.doc.resolve(t),s=a.depth+1;0<s;s--)if(i=s>a.depth?a.nodeAfter:a.node(s),$t.NodeSelection.isSelectable(i)){r=n&&0<o.$from.depth&&s>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(s);break}return null!=r&&(rt(e,$t.NodeSelection.create(e.state.doc,r),"pointer"),!0)}function at(e,t,n,r,o){return nt(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?it(e,n):ot(e,n))}function st(e,t,n,r){return nt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function ct(e,t,n,r){return nt(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||ut(e,n)}function ut(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(rt(e,$t.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),o=r.depth+1;0<o;o--){var i=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(i.inlineContent)rt(e,$t.TextSelection.create(n,a+1,a+1+i.content.size),"pointer");else{if(!$t.NodeSelection.isSelectable(i))continue;rt(e,$t.NodeSelection.create(n,a),"pointer")}return!0}}function lt(e){return ht(e)}function ft(e,t){return!!e.composing||!!(Ft.safari&&500>It(t.timeStamp-e.compositionEndedAt))&&(e.compositionEndedAt=-2e8,!0)}function pt(e,t){clearTimeout(e.composingTimeout),-1<t&&(e.composingTimeout=setTimeout((function(){return ht(e)}),t))}function dt(e){for(e.composing=!1;0<e.compositionNodes.length;)e.compositionNodes.pop().markParentsDirty()}function ht(e,t){if(e.domObserver.forceFlush(),dt(e),t||e.docView.dirty){var n=Z(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}function vt(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}function mt(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function gt(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yt(e,r.value,null,t):yt(e,r.textContent,r.innerHTML,t)}),50)}}function yt(e,t,n,r){var o=Ie(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,r,o||Bt.Slice.empty)}))&&o){var i=mt(o),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(o);e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}function bt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}function wt(e,t,n,r,o,i,a){for(var s=e.slice(),c=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var c=s[a+1],u=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(u=r-n-(t-e))&&(s[a]+=u,s[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var l=!1,f=0;f<s.length;f+=3)if(-1==s[f+1]){var p=n.map(e[f]+i),d=p-o;if(0>d||d>=r.content.size){l=!0;continue}var h=n.map(e[f+1]+i,-1),v=h-o,m=r.content.findIndex(d),g=m.index,y=m.offset,b=r.maybeChild(g);if(b&&y==d&&y+b.nodeSize==v){var w=s[f+2].mapInner(n,b,p+1,e[f]+i+1,a);w==Jn?(s[f+1]=-2,l=!0):(s[f]=d,s[f+1]=v,s[f+2]=w)}else l=!0}if(l){var k=St(s,e,t||[],n,o,i,a),S=Ct(k,r,0,a);t=S.local;for(var O=0;O<s.length;O+=3)0>s[O+1]&&(s.splice(O,3),O-=3);for(var x,C=0,M=0;C<S.children.length;C+=3){for(x=S.children[C];M<s.length&&s[M]<x;)M+=3;s.splice(M,0,S.children[C],S.children[C+1],S.children[C+2])}}return new Wn(t&&t.sort(Mt),s)}function kt(e,t){if(!t||!e.length)return e;for(var n,r=[],o=0;o<e.length;o++)n=e[o],r.push(new Fn(n.from+t,n.to+t,n.type));return r}function St(e,t,n,r,o,i,a){function s(e,t){for(var i,c=0;c<e.local.length;c++)i=e.local[c].map(r,o,t),i?n.push(i):a.onRemove&&a.onRemove(e.local[c].spec);for(var u=0;u<e.children.length;u+=3)s(e.children[u+2],e.children[u]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}function Ot(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function xt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Ct(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=Ot(e,t,a+n);if(s){i=!0;var c=Ct(s,t,n+a+1,r);c!=Jn&&o.push(a,a+t.nodeSize,c)}}));for(var a=kt(i?xt(e):e,-n).sort(Mt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new Wn(a,o):Jn}function Mt(e,t){return e.from-t.from||e.to-t.to}function _t(e){for(var t,n=e,r=0;r<n.length-1;r++)if(t=n[r],t.from!=t.to)for(var o,i=r+1;i<n.length;i++){if(o=n[i],o.from==t.from){o.to!=t.to&&(n==e&&(n=e.slice()),n[i]=o.copy(o.from,t.to),Nt(n,i+1,o.copy(t.to,o.to)));continue}o.from<t.to&&(n==e&&(n=e.slice()),n[r]=t.copy(t.from,o.from),Nt(n,i,t.copy(o.from,t.to)));break}return n}function Nt(e,t,n){for(;t<e.length&&0<Mt(n,e[t]);)t++;e.splice(t,0,n)}function At(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Jn&&t.push(r)})),e.cursorWrapper&&t.push(Wn.create(e.state.doc,[e.cursorWrapper.deco])),qn.from(t)}function Tt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=e.editable+"",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=n[r]+"")})),[Fn.node(0,e.state.doc.content.size,t)]}function Pt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Fn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Et(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Rt(e,t){var n=o(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Dt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function jt(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r}var It=Math.abs;Object.defineProperty(n,"__esModule",{value:!0}),n.__endComposition=ht,n.__parseFromClipboard=Ie,n.__serializeForClipboard=je,n.EditorView=n.DecorationSet=n.Decoration=void 0;var $t=a("5313"),Bt=a("304a"),zt=a("0ac0"),Ft={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Lt=/Edge\/(\d+)/.exec(navigator.userAgent),Vt=/MSIE \d/.test(navigator.userAgent),Ht=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Ft.mac=/Mac/.test(navigator.platform);var Wt=Ft.ie=!!(Vt||Ht||Lt);Ft.ie_version=Vt?document.documentMode||6:Ht?+Ht[1]:Lt?+Lt[1]:null,Ft.gecko=!Wt&&/gecko\/(\d+)/i.test(navigator.userAgent),Ft.gecko_version=Ft.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Jt=!Wt&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ft.chrome=!!Jt,Ft.chrome_version=Jt&&+Jt[1],Ft.ios=!Wt&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ft.android=/Android \d/.test(navigator.userAgent),Ft.webkit="webkitFontSmoothing"in document.documentElement.style,Ft.safari=/Apple Computer/.test(navigator.vendor),Ft.webkit_version=Ft.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var qt=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Kt=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},Ut=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},Gt=function(e,t,n,r){return n&&(s(e,t,n,r,-1)||s(e,t,n,r,1))},Xt=/^(img|br|input|textarea|hr)$/i,Yt=function(e){var t=e.isCollapsed;return t&&Ft.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t},Qt=null,Zt=/[\u0590-\u08ac]/,en=null,tn=null,nn=!1,rn=0,on=1,an=2,sn=3,cn=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=rn},un={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};cn.prototype.matchesWidget=function(){return!1},cn.prototype.matchesMark=function(){return!1},cn.prototype.matchesNode=function(){return!1},cn.prototype.matchesHack=function(){return!1},un.beforePosition.get=function(){return!1},cn.prototype.parseRule=function(){return null},cn.prototype.stopEvent=function(){return!1},un.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},un.border.get=function(){return 0},cn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},cn.prototype.posBeforeChild=function(e){for(var t,n=0,r=this.posAtStart;n<this.children.length;n++){if(t=this.children[n],t==e)return r;r+=t.size}},un.posBefore.get=function(){return this.parent.posBeforeChild(this)},un.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},un.posAfter.get=function(){return this.posBefore+this.size},un.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},cn.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(0>n){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){s=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==s?0<n:s)?this.posAtEnd:this.posAtStart},cn.prototype.nearestDesc=function(e,t){for(var n,r=!0,o=e;o;o=o.parentNode)if(n=this.getDesc(o),n&&(!t||n.node)){if(!r||!n.nodeDOM||(1==n.nodeDOM.nodeType?n.nodeDOM.contains(1==e.nodeType?e:e.parentNode):n.nodeDOM==e))return n;r=!1}},cn.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},cn.prototype.posFromDOM=function(e,t,n){for(var r,o=e;o;o=o.parentNode)if(r=this.getDesc(o),r)return r.localPosFromDOM(e,t,n);return-1},cn.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},cn.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:qt(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},cn.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==r&&e<=c){var u=i+s.border;if(e>=u&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,u);e=i;for(var l,f=a;0<f;f--){if(l=this.children[f-1],l.size&&l.dom.parentNode==this.contentDOM&&!l.emptyChildAt(1)){r=qt(l.dom)+1;break}e-=l.size}-1==r&&(r=0)}if(-1<r&&(c>t||a==this.children.length-1)){t=c;for(var p,d=a+1;d<this.children.length;d++){if(p=this.children[d],p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){o=qt(p.dom);break}t+=p.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},cn.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[0>e?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},cn.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},cn.prototype.setSelection=function(e,t,n,r){for(var a=o(e,t),s=i(e,t),c=0,u=0;c<this.children.length;c++){var l=this.children[c],f=u+l.size;if(a>u&&s<f)return l.setSelection(e-u-l.border,t-u-l.border,n,r);u=f}var p=this.domFromPos(e),d=this.domFromPos(t),h=n.getSelection(),v=!1;if((Ft.gecko||Ft.safari)&&e==t){var m=p.node.childNodes[p.offset-1];v=m&&("BR"==m.nodeName||"false"==m.contentEditable)}if(r||v&&Ft.safari||!Gt(p.node,p.offset,h.anchorNode,h.anchorOffset)||!Gt(d.node,d.offset,h.focusNode,h.focusOffset)){var g=!1;if((h.extend||e==t)&&!v){h.collapse(p.node,p.offset);try{e!=t&&h.extend(d.node,d.offset),g=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!g){if(e>t){var y=p;p=d,d=y}var b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(p.node,p.offset),h.removeAllRanges(),h.addRange(b)}}},cn.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},un.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},cn.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?an:on,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=sn);o.dirty=sn}n=i}this.dirty=an},cn.prototype.markParentsDirty=function(){for(var e,t=1,n=this.parent;n;n=n.parent,t++)e=1==t?an:on,n.dirty<e&&(n.dirty=e)},Object.defineProperties(cn.prototype,un);var ln=[],fn=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,ln,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return 0>this.widget.type.side},t.prototype.matchesWidget=function(e){return this.dirty==rn&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(cn),pn=function(e){function t(t,n,r,o){e.call(this,t,ln,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e==this.textDOM?this.posAtStart+t:this.posAtStart+(t?this.size:0)},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(cn),dn=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=Bt.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return this.dirty!=sn&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),this.dirty!=rn){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=rn}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Q(i,n,a,r)),0<e&&(i=Q(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(cn),hn=function(e){function t(t,n,r,o,i,a,s,c,u){e.call(this,t,n.isLeaf?ln:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(c,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,r,o,i,a){var s,c,u=i.nodeViews[n.type.name],l=u&&u(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a}),r),f=l&&l.dom,p=l&&l.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(s=Bt.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),f=s.dom,p=s.contentDOM);p||n.isText||"BR"==f.nodeName||(!f.hasAttribute("contenteditable")&&(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var d=f;return f=H(f,r,n),l?c=new gn(e,n,r,o,f,p,d,l,i,a+1):n.isText?new vn(e,n,r,o,f,d,i):new t(e,n,r,o,f,p,d,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?Bt.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return this.dirty==rn&&e.eq(this.node)&&W(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,i=r&&e.composing&&this.localCompositionNode(e,t),a=new bn(this,i&&i.node);U(this.node,this.innerDeco,(function(t,i,s){t.spec.marks?a.syncToMarks(t.spec.marks,r,e):0<=t.type.side&&!s&&a.syncToMarks(i==n.node.childCount?Bt.Mark.none:n.node.child(i).marks,r,e),a.placeWidget(t,e,o)}),(function(t,n,i,s){a.syncToMarks(t.marks,r,e),a.findNodeMatch(t,n,i,s)||a.updateNextNode(t,n,i,e,s)||a.addNode(t,n,i,e,o),o+=t.nodeSize})),a.syncToMarks(ln,r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==an)&&(i&&this.protectLocalComposition(e,i),B(this.contentDOM,this.children,e),Ft.ios&&G(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof $t.TextSelection)||r<t||o>t+this.node.content.size)){var i=e.root.getSelection(),a=X(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){var s=a.nodeValue,c=Y(this.node.content,s,r-t,o-t);return 0>c?null:{node:a,pos:c,text:s}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;;i=i.parentNode){if(i.parentNode==this.contentDOM)break;for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new pn(this,i,n,o);e.compositionNodes.push(a),this.children=Q(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(this.dirty==sn||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=rn},t.prototype.updateOuterDeco=function(e){if(!W(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=L(this.dom,this.nodeDOM,F(this.outerDeco,this.node,t),F(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(cn),vn=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(this.dirty==sn||this.dirty!=rn&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),(this.dirty!=rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=rn,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+o(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(hn),mn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return this.dirty==rn},t}(cn),gn=function(e){function t(t,n,r,o,i,a,s,c,u,l){e.call(this,t,n,r,o,i,a,s,u,l),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(this.dirty==sn)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(hn);z.prototype=Object.create(null);var yn=[new z],bn=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=q(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};bn.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},bn.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},bn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},bn.prototype.syncToMarks=function(e,t,n){for(var r=0,i=this.stack.length>>1,a=o(i,e.length);r<a&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=rn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);for(var s=-1,c=this.index;c<o(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[i])){s=c;break}if(-1<s)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var u=dn.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,i++}},bn.prototype.findNodeMatch=function(e,t,n,r){var i=-1,a=0>r?void 0:this.getPreMatch(r),s=this.top.children;if(a&&a.matchesNode(e,t,n))i=s.indexOf(a);else for(var c,u=this.index,l=o(s.length,u+5);u<l;u++)if(c=s[u],c.matchesNode(e,t,n)&&0>this.preMatched.indexOf(c)){i=u;break}return!(0>i)&&(this.destroyBetween(this.index,i),this.index++,!0)},bn.prototype.updateNextNode=function(e,t,n,r,o){for(var i,a=this.index;a<this.top.children.length;a++)if(i=this.top.children[a],i instanceof hn){var s=this.preMatched.indexOf(i);if(-1<s&&s+this.preMatchOffset!=o)return!1;var c=i.dom,u=this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==e.text&&i.dirty!=sn&&W(t,i.outerDeco));if(!u&&i.update(e,t,n,r))return this.destroyBetween(this.index,a),i.dom!=c&&(this.changed=!0),this.index++,!0;break}return!1},bn.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,hn.create(this.top,e,t,n,r,o)),this.changed=!0},bn.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new fn(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},bn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof dn;)e=e.children[e.children.length-1];if(!e||!(e instanceof vn)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new mn(this.top,ln,t,null)),this.changed=!0}};var wn=Ft.safari||Ft.chrome&&63>Ft.chrome_version,kn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Sn=null,On={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xn=Ft.ie&&11>=Ft.ie_version,Cn=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Cn.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Cn.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Mn=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Ft.ie&&11>=Ft.ie_version&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Cn,xn&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Mn.prototype.flushSoon=function(){var e=this;0>this.flushingSoon&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Mn.prototype.forceFlush=function(){-1<this.flushingSoon&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Mn.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,On),xn&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Mn.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}xn&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Mn.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Mn.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Mn.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Mn.prototype.onSelectionChange=function(){if(ue(this.view)){if(this.suppressingSelectionUpdates)return ee(this.view);if(Ft.ie&&11>=Ft.ie_version&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Gt(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Mn.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Mn.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Mn.prototype.flush=function(){if(this.view.docView&&!(-1<this.flushingSoon)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&le(this.view)&&!this.ignoreSelectionChange(t),r=-1,a=-1,s=!1,c=[];if(this.view.editable)for(var u,l=0;l<e.length;l++)u=this.registerMutation(e[l],c),u&&(r=0>r?u.from:o(u.from,r),a=0>a?u.to:i(u.to,a),u.typeOver&&(s=!0));if(Ft.gecko&&1<c.length){var f=c.filter((function(e){return"BR"==e.nodeName}));if(2==f.length){var p=f[0],d=f[1];p.parentNode&&p.parentNode.parentNode==d.parentNode?d.remove():p.remove()}}(-1<r||n)&&(-1<r&&(this.view.docView.markDirty(r,a),qe(this.view)),this.handleDOMChange(r,a,s,c),this.view.docView.dirty?this.view.updateState(this.view.state):!this.currentSelection.eq(t)&&ee(this.view))}},Mn.prototype.registerMutation=function(e,t){if(-1<t.indexOf(e.target))return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var r=e.previousSibling,o=e.nextSibling;if(Ft.ie&&11>=Ft.ie_version&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var a=e.addedNodes[i],s=a.previousSibling,c=a.nextSibling;(!s||0>Array.prototype.indexOf.call(e.addedNodes,s))&&(r=s),(!c||0>Array.prototype.indexOf.call(e.addedNodes,c))&&(o=c)}for(var u=r&&r.parentNode==e.target?qt(r)+1:0,l=n.localPosFromDOM(e.target,u,-1),f=o&&o.parentNode==e.target?qt(o):e.target.childNodes.length,p=0;p<e.addedNodes.length;p++)t.push(e.addedNodes[p]);var d=n.localPosFromDOM(e.target,f,1);return{from:l,to:d}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var _n=!1,Nn={},An={keydown:function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!ft(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Ft.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Me(e,t)?t.preventDefault():Ue(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,f(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},keyup:function(e,t){16==t.keyCode&&(e.shiftKey=!1)},keypress:function(e,n){if(!(ft(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ft.mac&&n.metaKey)){if(e.someProp("handleKeyPress",(function(t){return t(e,n)})))return void n.preventDefault();var r=e.state.selection;if(!(r instanceof $t.TextSelection)||!r.$from.sameParent(r.$to)){var o=t(n.charCode);e.someProp("handleTextInput",(function(t){return t(e,r.$from.pos,r.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}}}},Tn=Ft.mac?"metaKey":"ctrlKey";Nn.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=lt(e),r=Date.now(),o="singleClick";500>r-e.lastClick.time&&tt(t,e.lastClick)&&!t[Tn]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(et(t));i&&("singleClick"==o?e.mouseDown=new Pn(e,i,t,n):("doubleClick"==o?st:ct)(e,i.pos,i.inside,t)?t.preventDefault():Ue(e,"pointer"))};var Pn=function(e,t,n,r){var o,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[Tn],this.allowDefault=n.shiftKey,-1<t.inside)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{var s=e.state.doc.resolve(t.pos);o=s.parent,i=s.depth?s.before():0}this.mightDrag=null;var c=r?null:n.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null,(o.type.spec.draggable&&!1!==o.type.spec.selectable||e.state.selection instanceof $t.NodeSelection&&i==e.state.selection.from)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ft.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ue(e,"pointer")};Pn.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Pn.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(et(e))),this.allowDefault||!t?Ue(this.view,"pointer"):at(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||Ft.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ft.chrome&&!(this.view.state.selection instanceof $t.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(rt(this.view,$t.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ue(this.view,"pointer")}},Pn.prototype.move=function(e){!this.allowDefault&&(4<It(this.event.x-e.clientX)||4<It(this.event.y-e.clientY))&&(this.allowDefault=!0),Ue(this.view,"pointer")},Nn.touchdown=function(e){lt(e),Ue(e,"pointer")},Nn.contextmenu=function(e){return lt(e)};var En=Ft.android?5e3:-1;An.compositionstart=An.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),ht(e,!0),e.markCursor=null;else if(ht(e),Ft.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r,o=e.root.getSelection(),i=o.focusNode,a=o.focusOffset;i&&1==i.nodeType&&0!=a&&(r=0>a?i.lastChild:i.childNodes[a-1],r);){if(3==r.nodeType){o.collapse(r,r.nodeValue.length);break}i=r,a=-1}e.composing=!0}pt(e,En)},An.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,pt(e,20))};var Rn=Ft.ie&&15>Ft.ie_version||Ft.ios&&604>Ft.webkit_version;Nn.copy=An.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=Rn?null:t.clipboardData,i=n.content(),a=je(e,i),s=a.dom,c=a.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",c)):vt(e,s),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},An.paste=function(e,t){var n=Rn?null:t.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(yt(e,o,r,t),t.preventDefault()):gt(e,t)};var Dn=function(e,t){this.slice=e,this.move=t},jn=Ft.mac?"altKey":"ctrlKey";for(var In in Nn.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords(et(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof $t.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection($t.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);if(!i||!i.node.type.spec.draggable||i==e.docView)return;e.dispatch(e.state.tr.setSelection($t.NodeSelection.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),s=je(e,a),c=s.dom,u=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(Rn?"Text":"text/html",c.innerHTML),Rn||t.dataTransfer.setData("text/plain",u),e.dragging=new Dn(a,!t[jn])}},Nn.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},An.dragover=An.dragenter=function(e,t){return t.preventDefault()},An.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(et(t));if(r){var o=e.state.doc.resolve(r.pos);if(o){var i=n&&n.slice||Ie(e,t.dataTransfer.getData(Rn?"Text":"text/plain"),Rn?null:t.dataTransfer.getData("text/html"),!1,o),a=n&&!t[jn];if(e.someProp("handleDrop",(function(n){return n(e,t,i||Bt.Slice.empty,a)})))return void t.preventDefault();if(i){t.preventDefault();var s=i?(0,zt.dropPoint)(e.state.doc,o.pos,i):o.pos;null==s&&(s=o.pos);var c=e.state.tr;a&&c.deleteSelection();var u=c.mapping.map(s),l=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,f=c.doc;if(l?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),!c.doc.eq(f)){var p=c.doc.resolve(u);if(l&&$t.NodeSelection.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new $t.NodeSelection(p));else{var d=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,r){return d=r})),c.setSelection(ce(e,p,c.doc.resolve(d)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}}},Nn.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&ee(e)}),20))},Nn.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Nn.beforeinput=function(e,t){if(Ft.chrome&&Ft.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,f(8,"Backspace"))})))){var t=e.state.selection,r=t.$cursor;r&&0<r.pos&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())}}),50)}},An)Nn[In]=An[In];var $n=function(e,t){this.spec=t||Hn,this.side=this.spec.side||0,this.toDOM=e};$n.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,0>this.side?-1:1),i=o.pos,a=o.deleted;return a?null:new Fn(i-n,i-n,this)},$n.prototype.valid=function(){return!0},$n.prototype.eq=function(e){return this==e||e instanceof $n&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&bt(this.spec,e.spec))};var Bn=function(e,t){this.spec=t||Hn,this.attrs=e};Bn.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Fn(o,i,this)},Bn.prototype.valid=function(e,t){return t.from<t.to},Bn.prototype.eq=function(e){return this==e||e instanceof Bn&&bt(this.attrs,e.attrs)&&bt(this.spec,e.spec)},Bn.is=function(e){return e.type instanceof Bn};var zn=function(e,t){this.spec=t||Hn,this.attrs=e};zn.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Fn(o.pos-n,i.pos-n,this)},zn.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},zn.prototype.eq=function(e){return this==e||e instanceof zn&&bt(this.attrs,e.attrs)&&bt(this.spec,e.spec)};var Fn=function(e,t,n){this.from=e,this.to=t,this.type=n};n.Decoration=Fn;var Ln={spec:{configurable:!0},inline:{configurable:!0}};Fn.prototype.copy=function(e,t){return new Fn(e,t,this.type)},Fn.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Fn.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Fn.widget=function(e,t,n){return new Fn(e,e,new $n(t,n))},Fn.inline=function(e,t,n,r){return new Fn(e,t,new Bn(n,r))},Fn.node=function(e,t,n,r){return new Fn(e,t,new zn(n,r))},Ln.spec.get=function(){return this.type.spec},Ln.inline.get=function(){return this.type instanceof Bn},Object.defineProperties(Fn.prototype,Ln);var Vn=[],Hn={},Wn=function(e,t){this.local=e&&e.length?e:Vn,this.children=t&&t.length?t:Vn};n.DecorationSet=Wn,Wn.create=function(e,t){return t.length?Ct(t,e,0,Hn):Jn},Wn.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},Wn.prototype.findInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++)i=this.local[a],i.from<=t&&i.to>=e&&(!o||o(i.spec))&&n.push(i.copy(i.from+r,i.to+r));for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,r+c,o)}},Wn.prototype.map=function(e,t,n){return this==Jn||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Hn)},Wn.prototype.mapInner=function(e,t,n,r,o){for(var i,a,s=0;s<this.local.length;s++)a=this.local[s].map(e,n,r),a&&a.type.valid(t,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec);return this.children.length?wt(this.children,i,e,t,n,r,o):i?new Wn(i.sort(Mt)):Jn},Wn.prototype.add=function(e,t){return t.length?this==Jn?Wn.create(e,t):this.addInner(e,t,0):this},Wn.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=Ot(t,e,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,c+1):r.splice(i,0,a,a+e.nodeSize,Ct(s,e,c+1,Hn)),i+=3}}));var a=kt(i?xt(t):t,-n);return new Wn(a.length?this.local.concat(a).sort(Mt):this.local,r||this.children)},Wn.prototype.remove=function(e){return 0==e.length||this==Jn?this:this.removeInner(e,0)},Wn.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,c=0,u=void 0;c<e.length;c++)(u=e[c])&&u.from>a&&u.to<s&&(e[c]=null,(i||(i=[])).push(u));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,a+1);l==Jn?(n.splice(o,3),o-=3):n[o+2]=l}}if(r.length)for(var f=0,p=void 0;f<e.length;f++)if(p=e[f])for(var d=0;d<r.length;d++)r[d].eq(p,t)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Wn(r,n):Jn},Wn.prototype.forChild=function(e,t){if(this==Jn)return this;if(t.isLeaf)return Wn.empty;for(var n,r,a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}for(var s,c=e+1,u=c+t.content.size,l=0;l<this.local.length;l++)if(s=this.local[l],s.from<u&&s.to>c&&s.type instanceof Bn){var f=i(c,s.from)-c,p=o(u,s.to)-c;f<p&&(r||(r=[])).push(s.copy(f,p))}if(r){var d=new Wn(r.sort(Mt));return n?new qn([d,n]):d}return n||Jn},Wn.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Wn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Wn.prototype.locals=function(e){return _t(this.localsInner(e))},Wn.prototype.localsInner=function(e){if(this==Jn)return Vn;if(e.inlineContent||!this.local.some(Bn.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Bn||t.push(this.local[n]);return t};var Jn=new Wn;Wn.empty=Jn,Wn.removeOverlap=_t;var qn=function(e){this.members=e};qn.prototype.forChild=function(e,t){if(t.isLeaf)return Wn.empty;for(var n,r=[],o=0;o<this.members.length;o++)n=this.members[o].forChild(e,t),n!=Jn&&(n instanceof qn?r=r.concat(n.members):r.push(n));return qn.from(r)},qn.prototype.eq=function(e){if(!(e instanceof qn)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},qn.prototype.locals=function(e){for(var t,n,r=!0,o=0;o<this.members.length;o++)if(n=this.members[o].localsInner(e),n.length)if(t){r&&(t=t.slice(),r=!1);for(var i=0;i<n.length;i++)t.push(n[i])}else t=n;return t?_t(r?t:t.sort(Mt)):Vn},qn.from=function(e){switch(e.length){case 0:return Jn;case 1:return e[0];default:return new qn(e)}};var Kn=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Et(this),this.markCursor=null,this.cursorWrapper=null,Pt(this),this.nodeViews=Dt(this),this.docView=$(this.state.doc,Tt(this),At(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,Ke(this),this.pluginViews=[],this.updatePluginViews()};n.EditorView=Kn;var Un={props:{configurable:!0},root:{configurable:!0}};Un.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Kn.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Xe(this),this._props=e,this.updateStateInner(e.state,!0)},Kn.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Kn.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Kn.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1,i=!1;if(e.storedMarks&&this.composing&&(dt(this),i=!0),this.state=e,t){var a=Dt(this);jt(a,this.nodeViews)&&(this.nodeViews=a,o=!0),Xe(this)}this.editable=Et(this),Pt(this);var s=At(this),c=Tt(this),u=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(e.doc,c,s);(l||!e.selection.eq(r.selection))&&(i=!0);var f="preserve"==u&&i&&null==this.dom.style.overflowAnchor&&m(this);if(i){this.domObserver.stop();var p=l&&(Ft.ie||Ft.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Rt(r.selection,e.selection);if(l){var d=Ft.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(e.doc,c,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=$(e.doc,c,s,this.dom,this)),d&&!this.trackWrites&&(p=!0)}p||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&fe(this))?ee(this,p):(ae(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var h=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof $t.NodeSelection?v(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),h):v(this,this.coordsAtPos(e.selection.head),h))}else f&&y(f)},Kn.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Kn.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t,n=0;n<this.pluginViews.length;n++)t=this.pluginViews[n],t.update&&t.update(this,e);else{this.destroyPluginViews();for(var r,o=0;o<this.state.plugins.length;o++)r=this.state.plugins[o],r.spec.view&&this.pluginViews.push(r.spec.view(this))}},Kn.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i,a=0;a<o.length;a++)if(i=o[a].props[e],null!=i&&(n=t?t(i):i))return n},Kn.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Kn.prototype.focus=function(){this.domObserver.stop(),this.editable&&w(this.dom),ee(this),this.domObserver.start()},Un.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Kn.prototype.posAtCoords=function(e){return N(this,e)},Kn.prototype.coordsAtPos=function(e){return T(this,e)},Kn.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Kn.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Kn.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Kn.prototype.endOfTextblock=function(e,t){return I(this,t||this.state,e)},Kn.prototype.destroy=function(){this.docView&&(Ge(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],At(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Kn.prototype.dispatchEvent=function(e){return Ze(this,e)},Kn.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Kn.prototype,Un)},"5a2b":function(e,t,n){"use strict";n.r(t);var r=n("b533"),o=n("9469");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"5d96":function(e,t,n){"use strict";n.r(t);var r=n("2668"),o=n("88ad");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"5dbe":function(e){"use strict";(function(){function n(e){for(var n,r,o,i,a=1,s=[].slice.call(arguments),c=0,u=e.length,l="",f=!1,p=!1,d=function(){return s[a++]},h=function(){for(var t="";/\d/.test(e[c]);)t+=e[c++],n=e[c];return 0<t.length?parseInt(t):null};c<u;++c)if(n=e[c],f)switch(f=!1,"."==n?(p=!1,n=e[++c]):"0"==n&&"."==e[c+1]?(p=!0,c+=2,n=e[c]):p=!0,i=h(),n){case"b":l+=parseInt(d(),10).toString(2);break;case"c":r=d(),l+="string"==typeof r||r instanceof String?r:t(parseInt(r,10));break;case"d":l+=parseInt(d(),10);break;case"f":o=parseFloat(d()).toFixed(i||6)+"",l+=p?o:o.replace(/^0/,"");break;case"j":l+=JSON.stringify(d());break;case"o":l+="0"+parseInt(d(),10).toString(8);break;case"s":l+=d();break;case"x":l+="0x"+parseInt(d(),10).toString(16);break;case"X":l+="0x"+parseInt(d(),10).toString(16).toUpperCase();break;default:l+=n}else"%"===n?f=!0:l+=n;return l}var r;r=e.exports=n,r.format=n,r.vsprintf=function(e,t){return n.apply(null,[e].concat(t))},"undefined"!=typeof console&&"function"==typeof console.log&&(r.printf=function(){console.log(n.apply(null,arguments))})})()},"5e43":function(e,t,n){"use strict";n.r(t);var r=n("5690"),o=n("f5b8");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"5f4e":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function a(e){o(c,r,i,a,s,"next",e)}function s(e){o(c,r,i,a,s,"throw",e)}var c=e.apply(t,n);a(void 0)}))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("c8ef")),s=r(n("8f6b")),c={name:"InputMedia",components:{InputUpload:a.default,GalleryMosaic:s.default},props:{value:{type:[Array,String,Number],default:function(){return[]}}},fetch:function(){var e=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("library/fetch");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),data:function(){return{state:{loading:!1}}},computed:{items:function(){return this.$store.getters["library/find"]()}},methods:{onUpload:function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.$data.state.loading=!0,n=!0,r=!1,o=void 0,e.prev=4,i=t[Symbol.iterator]();case 6:if(n=(a=i.next()).done){e.next=14;break}return s=a.value,e.next=10,this.$store.dispatch("library/create",{file:s.raw});case 10:e.sent;case 11:n=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](4),r=!0,o=e.t0;case 20:e.prev=20,e.prev=21,n||null==i.return||i.return();case 23:if(e.prev=23,!r){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(20);case 28:this.$data.state.loading=!1;case 29:case"end":return e.stop()}}),e,this,[[4,16,20,28],[21,,23,27]])})));return function(){return e.apply(this,arguments)}}(),onInput:function(e){var t=this.items.find((function(t){return t._id==e}));this.$emit("input",t)}}};t.default=c},6174:function(e,t,n){"use strict";n.r(t);var r=n("dcfc"),o=n("c740");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},6388:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"StyledBlockExtension",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"StyledBlockMenu",{enumerable:!0,get:function(){return i.default}});var o=r(n("23c9")),i=r(n("4965"))},"650f":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{modifiers:{type:Array,default:function(){return[]}}},computed:{$modifiers:function(){var e=this,t={};return this.$props.modifiers&&this.$props.modifiers.forEach((function(n){n&&(t[e.$options.name+"--"+n]=!0)})),t}}};t.default=n},"665f":function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)n[r]=e[r];for(var o in t)n[o]=t[o];return n}function o(e,t,n,r,o){for(var i=c.Fragment.empty,a=n.length-1;0<=a;a--)i=c.Fragment.from(n[a].type.create(n[a].attrs,i));e.step(new s.ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new c.Slice(i,0,0),n.length,!0));for(var u=0,l=0;l<n.length;l++)n[l].type==o&&(u=l+1);for(var f=n.length-u,p=t.start+n.length-(r?2:0),d=t.parent,h=t.startIndex,v=t.endIndex,m=!0;h<v;h++,m=!1)!m&&(0,s.canSplit)(e.doc,p,f)&&(e.split(p,f),p+=2*f),p+=d.child(h).nodeSize;return e}function i(e,t,n,r){var o=e.tr,i=r.end,a=r.$to.end(r.depth);return i<a&&(o.step(new s.ReplaceAroundStep(i-1,a,i,a,new c.Slice(c.Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new c.NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth)),t(o.lift(r,(0,s.liftTarget)(r)).scrollIntoView()),!0}function a(e,t,n){for(var r=e.tr,o=n.parent,i=n.end,a=n.endIndex-1,u=n.startIndex;a>u;a--)i-=o.child(a).nodeSize,r.delete(i-1,i+1);var l=r.doc.resolve(n.start),f=l.nodeAfter,p=0==n.startIndex,d=n.endIndex==o.childCount,h=l.node(-1),v=l.index(-1);if(!h.canReplace(v+(p?0:1),v+1,f.content.append(d?c.Fragment.empty:c.Fragment.from(o))))return!1;var m=l.pos,g=m+f.nodeSize;return r.step(new s.ReplaceAroundStep(m-(p?1:0),g+(d?1:0),m+1,g-1,new c.Slice((p?c.Fragment.empty:c.Fragment.from(o.copy(c.Fragment.empty))).append(d?c.Fragment.empty:c.Fragment.from(o.copy(c.Fragment.empty))),p?0:1,d?0:1),p?0:1)),t(r.scrollIntoView()),!0}Object.defineProperty(t,"__esModule",{value:!0}),t.addListNodes=function(e,t,n){return e.append({ordered_list:r(p,{content:"list_item+",group:n}),bullet_list:r(d,{content:"list_item+",group:n}),list_item:r(h,{content:t})})},t.liftListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,s=r.$to,c=o.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==e}));return!!c&&(!n||(o.node(c.depth-1).type==e?i(t,n,e,c):a(t,n,c)))}},t.sinkListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=o.blockRange(i,(function(t){return t.childCount&&t.firstChild.type==e}));if(!a)return!1;var u=a.startIndex;if(0==u)return!1;var l=a.parent,f=l.child(u-1);if(f.type!=e)return!1;if(n){var p=f.lastChild&&f.lastChild.type==l.type,d=c.Fragment.from(p?e.create():null),h=new c.Slice(c.Fragment.from(e.create(null,c.Fragment.from(l.type.create(null,d)))),p?3:1,0),v=a.start,m=a.end;n(t.tr.step(new s.ReplaceAroundStep(v-(p?3:1),m,v,m,h,1,!0)).scrollIntoView())}return!0}},t.splitListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||2>o.depth||!o.sameParent(i))return!1;var u=o.node(-1);if(u.type!=e)return!1;if(0==o.parent.content.size&&o.node(-1).childCount==o.indexAfter(-1)){if(2==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var l=c.Fragment.empty,f=0<o.index(-1),p=o.depth-(f?1:2);p>=o.depth-3;p--)l=c.Fragment.from(o.node(p).copy(l));l=l.append(c.Fragment.from(e.createAndFill()));var d=t.tr.replace(o.before(f?null:-1),o.after(-3),new c.Slice(l,f?3:2,2));d.setSelection(t.selection.constructor.near(d.doc.resolve(o.pos+(f?3:2)))),n(d.scrollIntoView())}return!0}var h=i.pos==o.end()?u.contentMatchAt(0).defaultType:null,v=t.tr.delete(o.pos,i.pos),m=h&&[null,{type:h}];return!!(0,s.canSplit)(v.doc,o.pos,2,m)&&(n&&n(v.split(o.pos,2,m).scrollIntoView()),!0)}},t.wrapInList=function(e,t){return function(n,r){var i=n.selection,a=i.$from,u=i.$to,l=a.blockRange(u),f=!1,p=l;if(!l)return!1;if(2<=l.depth&&a.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==a.index(l.depth-1))return!1;var d=n.doc.resolve(l.start-2);p=new c.NodeRange(d,d,l.depth),l.endIndex<l.parent.childCount&&(l=new c.NodeRange(a,n.doc.resolve(u.end(l.depth)),l.depth)),f=!0}var h=(0,s.findWrapping)(p,e,t,l);return!!h&&(r&&r(o(n.tr,l,h,f,e).scrollIntoView()),!0)}},t.orderedList=t.listItem=t.bulletList=void 0;var s=n("0ac0"),c=n("304a"),u=["ol",0],l=["ul",0],f=["li",0],p={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1==e.attrs.order?u:["ol",{start:e.attrs.order},0]}};t.orderedList=p;var d={parseDOM:[{tag:"ul"}],toDOM:function(){return l}};t.bulletList=d;var h={parseDOM:[{tag:"li"}],toDOM:function(){return f},defining:!0};t.listItem=h},"66f5":function(e,t,n){"use strict";n.r(t);var r=n("a3c4"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"679f":function(e,t,n){"use strict";n.r(t);var r=n("539d"),o=n("3e7f");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"6f98":function(e,t,n){"use strict";n.r(t);var r=n("d2ed"),o=n("0353");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"703b":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={modifiers:["s","light"],default:{text:"Order one expresso"}}},"727d":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageExtension",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ImageMenu",{enumerable:!0,get:function(){return i.default}});var o=r(n("fcf3")),i=r(n("947e"))},"72e2":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LinkExtension",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"LinkMenu",{enumerable:!0,get:function(){return i.default}});var o=r(n("e3b8")),i=r(n("b87d"))},7680:function(e,t,n){"use strict";n.r(t);var r=n("b381"),o=n("9280");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"7aee":function(e,t,n){"use strict";n.r(t);var r=n("47ca"),o=n("50ab");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"7ca4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("cd42"),o=function(e){return e&&e.__esModule?e:{default:e}}(n("c53b")),i={name:"PaperView",components:{EditorContent:r.EditorContent},props:{editor:{default:null},editable:{type:Boolean,default:!1},value:{type:String,default:""}},data:function(){return{initEditor:null}},watch:{editor:{immediate:!0,handler:function(e){this.$data.initEditor=e}}},mounted:function(){this.$props.editable||(this.$data.initEditor=new r.Editor({extensions:o.default.plugins(),content:this.$props.value}))}};t.default=i},"7cc0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("650f")),o={name:"TooltipBase",mixins:[r.default],props:{tag:{type:String,default:"span"},top:{type:Number,default:10},left:{type:Number,default:0}}};t.default=o},"7f06":function(e,t,n){"use strict";function r(e){var t=e.split(/-(?!$)/),n=t[t.length-1];"Space"==n&&(n=" ");for(var r,o,i,a,s,c=0;c<t.length-1;c++)if(s=t[c],/^(cmd|meta|m)$/i.test(s))a=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))o=!0;else if(/^s(hift)?$/i.test(s))i=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);u?a=!0:o=!0}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),a&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function o(e){var t=Object.create(null);for(var n in e)t[r(n)]=e[n];return t}function i(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function a(e){var t=o(e);return function(e,n){var r,o=(0,s.keyName)(n),a=1==o.length&&" "!=o,c=t[i(o,n,!a)];if(c&&c(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||127<o.charCodeAt(0))&&(r=s.base[n.keyCode])&&r!=o){var u=t[i(r,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}else if(a&&n.shiftKey){var l=t[i(o,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.keydownHandler=a,t.keymap=function(e){return new c.Plugin({props:{handleKeyDown:a(e)}})};var s=n("9ea7"),c=n("5313"),u="undefined"!=typeof navigator&&/Mac/.test(navigator.platform)},8558:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"GalleryMosaic",class:{"is-no-selection":0>=e.selected.length}},e._l(e.imageRows,(function(t,r){return n("div",{key:r,staticClass:"GalleryMosaic_row"},e._l(t.images,(function(t){return n("div",{key:t._id,staticClass:"GalleryMosaic_imageContainer ActionMenu_hover",class:{"is-active":e.selected.includes(t._id)},style:{"--width":t.width+"px","--height":t.height+"px"},on:{click:function(){return e.$emit("input",t._id)}}},[n("img",{staticClass:"GalleryMosaic_image",attrs:{width:o(.8*t.original.width,t.width),height:o(.8*t.original.height,t.height),src:t.src}}),e.selectable?n("div",{staticClass:"GalleryMosaic_selector"},[n("i",{staticClass:"fal fa-check"})]):e._e()])})),0)})),0)},i=[]},"86b6":function(e,t,n){"use strict";n.r(t);var r=n("b6b1"),o=n("bbf9");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},8726:function(e,t,n){"use strict";function r(e,t){var n;return e.forEach((function(e,r){if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}function a(e,t,n,r){var o,i=n.getMeta(k);if(i)return i.historyState;n.getMeta(S)&&(e=new g(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(k))return a.getMeta(k).redo?new g(e.done.addTransform(n,null,r,f(t)),e.undone,c(n.mapping.maps[n.steps.length-1]),e.prevTime):new g(e.done,e.undone.addTransform(n,null,r,f(t)),null,e.prevTime);if(!1!==n.getMeta("addToHistory")&&(!a||!1!==a.getMeta("addToHistory"))){var l=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!s(n,e.prevRanges)),p=a?u(e.prevRanges,n.mapping):c(n.mapping.maps[n.steps.length-1]);return new g(e.done.addTransform(n,l?t.selection.getBookmark():null,r,f(t)),v.empty,p,n.time)}return(o=n.getMeta("rebased"))?new g(e.done.rebased(n,o),e.undone.rebased(n,o),u(e.prevRanges,n.mapping),e.prevTime):new g(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),u(e.prevRanges,n.mapping),e.prevTime)}function s(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}function c(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function u(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function l(e,t,n,r){var o=f(t),i=k.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),c=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new g(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(k,{redo:r,historyState:u}).scrollIntoView())}}function f(e){var t=e.plugins;if(w!=t){b=!1,w=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){b=!0;break}}return b}Object.defineProperty(t,"__esModule",{value:!0}),t.closeHistory=function(e){return e.setMeta(S,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new h.Plugin({key:k,state:{init:function(){return new g(v.empty,v.empty,null,0)},apply:function(t,n,r){return a(n,r,t,e)}},config:e})},t.redo=function(e,t){var n=k.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&l(n,e,t,!0),!0)},t.redoDepth=function(e){var t=k.getState(e);return t?t.undone.eventCount:0},t.undo=function(e,t){var n=k.getState(e);return!(!n||0==n.done.eventCount)&&(t&&l(n,e,t,!1),!0)},t.undoDepth=function(e){var t=k.getState(e);return t?t.done.eventCount:0},t.HistoryState=void 0;var p=function(e){return e&&e.__esModule?e:{default:e}}(n("c21e")),d=n("0ac0"),h=n("5313"),v=function(e,t){this.items=e,this.eventCount=t};v.prototype.popEvent=function(e,t){var n,r,o=this;if(0==this.eventCount)return null;for(var i,a=this.items.length;;a--)if(i=this.items.get(a-1),i.selection){--a;break}t&&(n=this.remapping(a,this.items.length),r=n.maps.length);var s,c,u=e.tr,l=[],f=[];return this.items.forEach((function(e,t){if(!e.step)return n||(n=o.remapping(a,t+1),r=n.maps.length),r--,void f.push(e);if(n){f.push(new m(e.map));var i,p=e.step.map(n.slice(r));p&&u.maybeStep(p).doc&&(i=u.mapping.maps[u.mapping.maps.length-1],l.push(new m(i,null,null,l.length+f.length))),r--,i&&n.appendMap(i,r)}else u.maybeStep(e.step);return e.selection?(s=n?e.selection.map(n.slice(r)):e.selection,c=new v(o.items.slice(0,a).append(f.reverse().concat(l)),o.eventCount-1),!1):void 0}),this.items.length,0),{remaining:c,transform:u,selection:s}},v.prototype.addTransform=function(e,t,n,o){for(var i=[],a=this.eventCount,s=this.items,c=!o&&s.length?s.get(s.length-1):null,u=0;u<e.steps.length;u++){var l=e.steps[u].invert(e.docs[u]),f=new m(e.mapping.maps[u],l,t),p=void 0;(p=c&&c.merge(f))&&(f=p,u?i.pop():s=s.slice(0,s.length-1)),i.push(f),t&&(a++,t=null),o||(c=f)}var d=a-n.depth;return d>y&&(s=r(s,d),a-=d),new v(s.append(i),a)},v.prototype.remapping=function(e,t){var n=new d.Mapping;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},v.prototype.addMaps=function(e){return 0==this.eventCount?this:new v(this.items.append(e.map((function(e){return new m(e)}))),this.eventCount)},v.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=i(0,this.items.length-t),a=e.mapping,s=e.steps.length,c=this.eventCount;this.items.forEach((function(e){e.selection&&c--}),r);var u=t;this.items.forEach((function(t){var r=a.getMirror(--u);if(null!=r){s=o(s,r);var i=a.maps[r];if(t.step){var l=e.steps[r].invert(e.docs[r]),f=t.selection&&t.selection.map(a.slice(u+1,r));f&&c++,n.push(new m(i,l,f))}else n.push(new m(i))}}),r);for(var l=[],f=t;f<s;f++)l.push(new m(a.maps[f]));var p=this.items.slice(0,r).append(l).append(n),d=new v(p,c);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},v.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},v.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((function(i,a){if(a>=e)r.push(i),i.selection&&o++;else if(i.step){var s=i.step.map(t.slice(n)),c=s&&s.getMap();if(n--,c&&t.appendMap(c,n),s){var u=i.selection&&i.selection.map(t.slice(n));u&&o++;var l,f=new m(c.invert(),s,u),p=r.length-1;(l=r.length&&r[p].merge(f))?r[p]=l:r.push(f)}}else i.map&&n--}),this.items.length,0),new v(p.default.from(r.reverse()),o)},v.empty=new v(p.default.empty,0);var m=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};m.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new m(t.getMap().invert(),t,this.selection)}};var g=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r};t.HistoryState=g;var y=20,b=!1,w=null,k=new h.PluginKey("history"),S=new h.PluginKey("closeHistory")},8846:function(e,t,n){"use strict";n.r(t);var r=n("8ae2"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"884c":function(e,t){"use strict";function n(e){this.content=e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n.prototype={constructor:n,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,r){var o=r&&r!=e?this.remove(r):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(r||e,t):(a[i+1]=t,r&&(a[i]=r)),new n(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var r=this.content.slice();return r.splice(t,2),new n(r)},addToStart:function(e,t){return new n([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new n(r)},addBefore:function(e,t,r){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,r),new n(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=n.from(e),e.size?new n(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=n.from(e),e.size?new n(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=n.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},get size(){return this.content.length>>1}},n.from=function(e){if(e instanceof n)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new n(t)},t.default=n},8875:function(e,t){"use strict";var n,r,o;(function(i,a){r=[],n=a,o="function"==typeof n?n.apply(t,r):n,void 0===o||(e.exports=o)})("undefined"==typeof self||self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(e){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(e.stack)||a.exec(e.stack),c=s&&s[1]||!1,u=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),f=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var p=0;p<f.length;p++){if("interactive"===f[p].readyState)return f[p];if(f[p].src===c)return f[p];if(c===l&&f[p].innerHTML&&f[p].innerHTML.trim()===o)return f[p]}return null}}return e}))},"88ad":function(e,t,n){"use strict";n.r(t);var r=n("7ca4"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"8ae2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("5a2b")),o={name:"PaperSelect",components:{SelectBase:r.default},props:{items:{type:Array,default:function(){return[]}},currentNode:{type:Object,default:function(){return[]}}},computed:{selectedId:function(){var e=this,t=this.$props.items.find((function(t){return JSON.stringify(t.value)==JSON.stringify(e.$props.currentNode)}));return!!t&&t.id}},methods:{onInput:function(e){this.$emit("input",this.$props.items.find((function(t){return t.id==e})).value)}}};t.default=o},"8bbf":function(t){t.exports=e},"8f6b":function(e,t,n){"use strict";n.r(t);var r=n("8558"),o=n("cb2f");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},"900e":function(e,t,n){"use strict";n.r(t);var r=n("c92d"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},9280:function(e,t,n){"use strict";n.r(t);var r=n("2ca1"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},9469:function(e,t,n){"use strict";n.r(t);var r=n("d2e6"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"947e":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{id:"image",icon:"image",isNode:!0,popin:{form:{src:{is:"input-media",value:{},transformer:{get:function(e){return e._id||""},set:function(e){return e.sizes.s.src||""}}}},attrs:{modifiers:["panel"]}}}}},"986d":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n("5313"),s=n("304a"),c=n("55be"),u=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r,o=0,i=e.length;o<i;o++)if(r=z(e[o])(n.selection),r){var a=b(r.pos,t)(n);if(a!==n)return a}return n}},l=function(e){return function(t){if(m(t.selection)){var n=t.selection,r=n.$from,o=n.$to;if(e instanceof s.Fragment&&r.parent.canReplace(r.index(),r.indexAfter(),e)||r.parent.canReplaceWith(r.index(),r.indexAfter(),e.type))return y(t.replaceWith(r.pos,o.pos,e).setSelection(new a.NodeSelection(t.doc.resolve(r.pos))))}return t}},f=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return function(n){var r=a.Selection.findFrom(n.doc.resolve(e),t,!0);return r?n.setSelection(r):n}},p=function(e){return e.type&&e.type.spec.selectable},d=function(e){return p(e)&&e.type.isLeaf},h=function(e,t,n){return d(e)?n.setSelection(new a.NodeSelection(n.doc.resolve(t))):f(t)(n)},v=function(e,t,n){return function(r){var o="number"==typeof t,i=r.selection.$from,a=o?r.doc.resolve(t):m(r.selection)?r.doc.resolve(i.pos+1):i,s=a.parent;if(m(r.selection)&&n){var c=r;if(r=l(e)(r),c!==r)return r}if(x(s)){var f=r;if(r=u(s.type,e)(r),f!==r){var d=p(e)?a.before(a.depth):a.pos;return h(e,d,r)}}if(O(a,e)){r.insert(a.pos,e);var v=o?a.pos:p(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return y(h(e,v,r))}for(var g=a.depth;0<g;g--){var b=a.after(g),w=r.doc.resolve(b);if(O(w,e))return r.insert(b,e),y(h(e,b,r))}return r}},m=function(e){return e instanceof a.NodeSelection},g=function(e,t){return Array.isArray(e)&&-1<e.indexOf(t.type)||t.type===e},y=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},b=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(w(o,t)){n=n.replaceWith(e,e+r.nodeSize,t);var a=n.selection.$from.pos-1;return n=f(i(a,0),-1)(n),n=f(n.selection.$from.start())(n),y(n)}return n}},w=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof s.Fragment?t:s.Fragment.from(t))},k=function(e){return function(t){var n=t.doc.nodeAt(e);return y(t.delete(e,e+n.nodeSize))}},S=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},O=function(e,t){var n=e.index();return t instanceof s.Fragment?e.parent.canReplace(n,n,t):!!(t instanceof s.Node)&&e.parent.canReplaceWith(n,n,t.type)},x=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},C=function(e){return I(e,(function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)}))},M=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},_=function(e){return function(t){for(var n=c.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),i=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,s=o.length;a<s;a++)if(-1===i.indexOf(o[a]))return!1;return!0}},N=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},A=function(e){for(var t=c.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],i={},a=0;a<t.width;a++){var s=t.map[r*t.width+a],u=e.nodeAt(s),l=t.findCell(s);i[s]||l.top!==r?o.push(null):(i[s]=!0,o.push(u))}n.push(o)}return n},T=function(e,t){for(var n=[],r=c.TableMap.get(e),o=0;o<r.height;o++){for(var i=e.child(o),a=[],s=0;s<r.width;s++)if(t[o][s]){var u=r.map[o*r.width+s],l=t[o][s],f=e.nodeAt(u),p=f.type.createChecked(Object.assign({},l.attrs),l.content,l.marks);a.push(p)}n.push(i.type.createChecked(i.attrs,a,i.marks))}var d=e.type.createChecked(e.attrs,n,e.marks);return d},P=function(e,t,n,r){var o=N(A(e.node));return o=R(o,t,n,r),o=N(o),T(e.node,o)},E=function(e,t,n,r){var o=A(e.node);return o=R(o,t,n,r),T(e.node,o)},R=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),a=0==i.length%2?1:0,s=void 0;return s=-1===r&&1==o?n[0]-1:1===r&&-1==o?n[n.length-1]-a+1:-1==o?n[0]:n[n.length-1]-a,e.splice.apply(e,[s,0].concat(i)),e},D=function(e,t,n,r){var o=e>t?-1:1,i="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1==o){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(i)}else if(-1!==n.slice(1).indexOf(t))throw new Error(i);return!0},j=function(e){return function(t){var n=t.$from;return I(n,e)}},I=function(e,t){for(var n,r=e.depth;0<r;r--)if(n=e.node(r),t(n))return{pos:0<r?e.before(r):0,start:e.start(r),depth:r,node:n}},$=function(e,t){return function(n){var r=j(e)(n);if(r)return L(r.pos,t)}},B=function(e){return function(t){return!!j(e)(t)}},z=function(e){return function(t){return j((function(t){return g(e,t)}))(t)}},F=function(e){var t=e.$from.nodeBefore,n=a.Selection.findFrom(e.$from,-1);if(n&&t){var r=z(t.type)(n);return r?r.pos:n.$from.pos}},L=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},V=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},H=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return V(e,n).filter((function(e){return t(e.node)}))},W=function(e,t,n){return H(e,(function(e){return e.type===t}),n)},J=function(e){return j((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},q=function(e){return e instanceof c.CellSelection},K=function(e){if(q(e)){var t=c.TableMap.get(e.$anchorCell.node(-1));return _({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},U=function(e){return function(t){var n=J(t);if(n){var r=c.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(0<=t&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},G=function(e){return function(t){var n=J(t);if(n){var r=c.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(0<=t&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},X=function(e){return function(t,n){return function(r){var a=J(r.selection),s="row"===e;if(a){var u=c.TableMap.get(a.node);if(0<=t&&t<(s?u.height:u.width)){var l=s?0:t,f=s?t:0,p=s?u.width:t+1,d=s?t+1:u.height;if(n){var h=oe(r.selection.$from);if(!h)return r;var v=u.findCell(h.pos-a.start);s?(f=o(f,v.top),d=i(d,v.bottom)):(l=o(l,v.left),p=i(p,v.right))}var m=u.cellsInRect({left:l,top:f,right:s?p:l+1,bottom:s?f+1:d}),g=1==d-f?m:u.cellsInRect({left:s?l:p-1,top:s?d-1:f,right:p,bottom:d}),b=a.start+m[0],w=a.start+g[g.length-1],k=r.doc.resolve(b),S=r.doc.resolve(w);return y(r.setSelection(new c.CellSelection(S,k)))}}return r}}},Y=X("column"),Q=X("row"),Z=function(e){return function(t){var n=J(t.selection);if(n){var o=c.TableMap.get(n.node);if(0<=e&&e<=o.height){for(var i=n.node,a=S(i.type.schema),s=n.start,u=0;u<e+1;u++)s+=i.child(u).nodeSize;var l=i.child(e),f=[],p=0;if(l.forEach((function(e){1===e.attrs.rowspan&&(p+=e.attrs.colspan,f.push(a[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),p<o.width){for(var d=[],h=function(n){var o=ae(n,(function(t){var r=t.node.attrs.rowspan;return 1<r&&n+r>e}))(t);d.push.apply(d,r(o))},m=e;0<=m;m--)h(m);d.length&&d.forEach((function(e){t=re(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return v(a.row.create(l.attrs,f),s)(t)}}return t}},ee=function(e){return function(t){var n=J(t.selection);if(n){var r=c.TableMap.get(n.node);if(0===e&&1===r.width)return ne(t);if(0<=e&&e<=r.width)return c.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),y(t)}return t}},te=function(e){return function(t){var n=J(t.selection);if(n){var r=c.TableMap.get(n.node);if(0===e&&1===r.height)return ne(t);if(0<=e&&e<=r.height)return c.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),y(t)}return t}},ne=function(e){for(var t,n=e.selection.$from,r=n.depth;0<r;r--)if(t=n.node(r),"table"===t.type.spec.tableRole)return y(e.delete(n.before(r),n.after(r)));return e},re=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),y(n)):n}},oe=function(e){return I(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},ie=function(e){var t=oe(e);if(t){var n=C(e),r=c.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},ae=function(e,t){return function(n){var r=[],o=G(e)(n.selection);if(o)for(var i=o.length-1;0<=i;i--)t(o[i],n)&&r.push(o[i]);return r}},se=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=U(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;0<=i;i--)o(i);var a=function(e){var n=U(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;1<t.node.attrs.colspan&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s,c=[];for(i=n;i<=r;i++)s=U(i)(t.selection),s&&s.length&&c.push(i);n=c[0],r=c[c.length-1];for(var u,l=U(n)(t.selection),f=G(0)(t.selection),p=t.doc.resolve(l[l.length-1].pos),d=void 0,h=r;h>=n;h--)if(u=U(h)(t.selection),u&&u.length){for(var v=f.length-1;0<=v;v--)if(f[v].pos===u[0].pos){d=u[0];break}if(d)break}var m=t.doc.resolve(d.pos);return{$anchor:p,$head:m,indexes:c}}},ce=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=G(e)(t.selection);o.forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;0<=i;i--)o(i);var a=function(e){var n=G(e)(t.selection);n.forEach((function(t){var n=t.node.attrs.rowspan+e-1;1<t.node.attrs.rowspan&&n>r&&(r=n)}))};for(i=e;i<=r;i++)a(i);var s,c=[];for(i=n;i<=r;i++)s=G(i)(t.selection),s&&s.length&&c.push(i);n=c[0],r=c[c.length-1];for(var u,l=G(n)(t.selection),f=U(0)(t.selection),p=t.doc.resolve(l[l.length-1].pos),d=void 0,h=r;h>=n;h--)if(u=G(h)(t.selection),u&&u.length){for(var v=f.length-1;0<=v;v--)if(f[v].pos===u[0].pos){d=u[0];break}if(d)break}var m=t.doc.resolve(d.pos);return{$anchor:p,$head:m,indexes:c}}};t.isNodeSelection=m,t.canInsert=O,t.convertTableNodeToArrayOfRows=A,t.convertArrayOfRowsToTableNode=T,t.findParentNode=j,t.findParentNodeClosestToPos=I,t.findParentDomRef=$,t.hasParentNode=B,t.findParentNodeOfType=z,t.findParentNodeOfTypeClosestToPos=function(e,t){return I(e,(function(e){return g(t,e)}))},t.hasParentNodeOfType=function(e){return function(t){return B((function(t){return g(e,t)}))(t)}},t.findParentDomRefOfType=function(e,t){return function(n){return $((function(t){return g(e,t)}),t)(n)}},t.findSelectedNodeOfType=function(e){return function(t){if(m(t)){var n=t.node,r=t.$from;if(g(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.findPositionOfNodeBefore=F,t.findDomRefAtPos=L,t.flatten=V,t.findChildren=H,t.findTextNodes=function(e,t){return H(e,(function(e){return e.isText}),t)},t.findInlineNodes=function(e,t){return H(e,(function(e){return e.isInline}),t)},t.findBlockNodes=function(e,t){return H(e,(function(e){return e.isBlock}),t)},t.findChildrenByAttr=function(e,t,n){return H(e,(function(e){return!!t(e.attrs)}),n)},t.findChildrenByType=W,t.findChildrenByMark=function(e,t,n){return H(e,(function(e){return t.isInSet(e.marks)}),n)},t.contains=function(e,t){return!!W(e,t).length},t.findTable=J,t.isCellSelection=q,t.getSelectionRect=function(e){if(q(e)){var t=e.$anchorCell.start(-1),n=c.TableMap.get(e.$anchorCell.node(-1));return n.rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},t.isColumnSelected=function(e){return function(t){if(q(t)){var n=c.TableMap.get(t.$anchorCell.node(-1));return _({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},t.isRowSelected=function(e){return function(t){if(q(t)){var n=c.TableMap.get(t.$anchorCell.node(-1));return _({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},t.isTableSelected=K,t.getCellsInColumn=U,t.getCellsInRow=G,t.getCellsInTable=function(e){var t=J(e);if(t){var n=c.TableMap.get(t.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},t.selectColumn=Y,t.selectRow=Q,t.selectTable=function(e){var t=J(e.selection);if(t){var n=c.TableMap.get(t.node),r=n.map;if(r&&r.length){var o=t.start+r[0],i=t.start+r[r.length-1],a=e.doc.resolve(o),s=e.doc.resolve(i);return y(e.setSelection(new c.CellSelection(s,a)))}}return e},t.emptyCell=function(e,t){return function(n){if(e){var r=S(t).cell.createAndFill(),o=r.content;if(!e.node.content.eq(o))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,o),y(n)}return n}},t.addColumnAt=function(e){return function(t){var n=J(t.selection);if(n){var r=c.TableMap.get(n.node);if(0<=e&&e<=r.width)return y(c.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},t.moveRow=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=J(r.selection);if(!i)return r;var a=ce(e)(r),s=a.indexes,c=ce(t)(r),u=c.indexes;if(-1<s.indexOf(t))return r;!o.tryToFit&&1<u.length&&D(e,t,u,"row");var l=E(i,s,u,o.direction);return y(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.moveColumn=function(e,t,n){return function(r){var o=Object.assign({tryToFit:!1,direction:0},n),i=J(r.selection);if(!i)return r;var a=se(e)(r),s=a.indexes,c=se(t)(r),u=c.indexes;if(-1<s.indexOf(t))return r;!o.tryToFit&&1<u.length&&D(e,t,u,"column");var l=P(i,s,u,o.direction);return y(r).replaceWith(i.pos,i.pos+i.node.nodeSize,l)}},t.addRowAt=function(e,t){return function(n){var r=J(n.selection);if(r){var o=c.TableMap.get(r.node),i=e-1;if(t&&0<=i)return y(Z(i)(n));if(0<=e&&e<=o.height)return y(c.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},t.cloneRowAt=Z,t.removeColumnAt=ee,t.removeRowAt=te,t.removeTable=ne,t.removeSelectedColumns=function(e){var t=e.selection;if(K(t))return ne(e);if(q(t)){var n=J(t);if(n){var r=c.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var i=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=i.right-1;;a--){if(c.removeColumn(e,i,a),a===i.left)break;i.table=i.tableStart?e.doc.nodeAt(i.tableStart-1):e.doc,i.map=c.TableMap.get(i.table)}return y(e)}}return e},t.removeSelectedRows=function(e){var t=e.selection;if(K(t))return ne(e);if(q(t)){var n=J(t);if(n){var r=c.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var i=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),a=i.bottom-1;;a--){if(c.removeRow(e,i,a),a===i.top)break;i.table=i.tableStart?e.doc.nodeAt(i.tableStart-1):e.doc,i.map=c.TableMap.get(i.table)}return y(e)}}return e},t.removeColumnClosestToPos=function(e){return function(t){var n=ie(e);return n?ee(n.left)(f(e.pos)(t)):t}},t.removeRowClosestToPos=function(e){return function(t){var n=ie(e);return n?te(n.top)(f(e.pos)(t)):t}},t.forEachCellInColumn=function(e,t,n){return function(r){var o=U(e)(r.selection);if(o){for(var i=o.length-1;0<=i;i--)r=t(o[i],r);if(n){var s=r.doc.resolve(r.mapping.map(o[o.length-1].pos));r.setSelection(a.Selection.near(s))}return y(r)}return r}},t.forEachCellInRow=function(e,t,n){return function(r){var o=G(e)(r.selection);if(o){for(var i=o.length-1;0<=i;i--)r=t(o[i],r);if(n){var s=r.doc.resolve(r.mapping.map(o[o.length-1].pos));r.setSelection(a.Selection.near(s))}}return r}},t.setCellAttrs=re,t.createTable=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3,r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,i=S(e),a=i.cell,s=i.header_cell,c=i.row,u=i.table,l=[],f=[],p=0;p<n;p++)l.push(M(a,o)),r&&f.push(M(s,o));for(var d=[],h=0;h<t;h++)d.push(c.createChecked(null,r&&0===h?f:l));return u.createChecked(null,d)},t.findCellClosestToPos=oe,t.findCellRectClosestToPos=ie,t.getSelectionRangeInColumn=se,t.getSelectionRangeInRow=ce,t.removeParentNodeOfType=function(e){return function(t){var n=z(e)(t.selection);return n?k(n.pos)(t):t}},t.replaceParentNodeOfType=u,t.removeSelectedNode=function(e){if(m(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return y(e.delete(t,n))}return e},t.replaceSelectedNode=l,t.setTextSelection=f,t.safeInsert=v,t.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=z(e)(o.selection);return i?y(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},t.selectParentNodeOfType=function(e){return function(t){if(!m(t.selection)){var n=z(e)(t.selection);if(n)return y(t.setSelection(a.NodeSelection.create(t.doc,n.pos)))}return t}},t.removeNodeBefore=function(e){var t=F(e.selection);return"number"==typeof t?k(t)(e):e}},"989c":function(e,t,n){"use strict";n.r(t);var r=n("aaf4"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},"9ea7":function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.keyName=function(e){var t=l&&(e.ctrlKey||e.altKey||e.metaKey)||(a||u)&&e.shiftKey&&e.key&&1==e.key.length,n=!t&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n},n.shift=n.base=void 0;var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"};n.base=r;var o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"};n.shift=o;for(var i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=i&&(c||57>+i[1])||s&&c,f=0;10>f;f++)r[48+f]=r[96+f]=f+"";for(f=1;24>=f;f++)r[f+111]="F"+f;for(f=65;90>=f;f++)r[f]=t(f+32),o[f]=t(f);for(var p in r)o.hasOwnProperty(p)||(o[p]=r[p])},a15f:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return l(e)||u(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getMarkAttrs=function(e,t){var n=e.selection,r=n.from,o=n.to,i=[];e.doc.nodesBetween(r,o,(function(e){i=[].concat(a(i),a(e.marks))}));var s=i.find((function(e){return e.type.name===t.name}));return s?s.attrs:{}},t.getMarkRange=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!e||!t)return!1;var n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;var r=n.node.marks.find((function(e){return e.type===t}));if(!r)return!1;for(var o=e.index(),i=e.start()+n.offset,a=o+1,s=i+n.node.nodeSize;0<o&&r.isInSet(e.parent.child(o-1).marks);)o-=1,i-=e.parent.child(o).nodeSize;for(;a<e.parent.childCount&&r.isInSet(e.parent.child(a).marks);)s+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:s}},t.getNodeAttrs=function(e,t){var n=e.selection,r=n.from,o=n.to,i=[];e.doc.nodesBetween(r,o,(function(e){i=[].concat(a(i),[e])}));var s=i.reverse().find((function(e){return e.type.name===t.name}));return s?s.attrs:{}},t.markIsActive=function(e,t){var n=e.selection,r=n.from,o=n.$from,i=n.to,a=n.empty;return a?!!t.isInSet(e.storedMarks||o.marks()):!!e.doc.rangeHasMark(r,i,t)},t.nodeEqualsType=function(e){var t=e.types,n=e.node;return Array.isArray(t)&&t.includes(n.type)||n.type===t},t.nodeIsActive=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=(0,p.findSelectedNodeOfType)(t)(e.selection)||(0,p.findParentNode)((function(e){return e.type===t}))(e.selection);return Object.keys(n).length&&r?r.node.hasMarkup(t,o(o({},r.node.attrs),n)):!!r};var p=n("986d")},a32a:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",e._b({staticClass:"Toggle"},"label",e.attrs,!1),[n("input",{staticClass:"Toggle_checkbox",attrs:{type:"checkbox"},domProps:{checked:e.transformedValue},on:{click:function(){return e.onInput(!e.transformedValue)}}}),n("div",{staticClass:"Toggle_container"}),e.label?n("p",{staticClass:"Toggle_label"},[e._v(e._s(e.label))]):e._e()])},o=[]},a3c4:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"ToggleBase",props:{value:{type:[Boolean,String],default:!1},label:{type:String,default:""},transformer:{type:[Object,Boolean],default:!1},attrs:{type:Object,default:function(){}}},computed:{transformedValue:function(){return this.$props.transformer?this.$props.transformer.get(this.$props.value):this.$props.value}},methods:{onInput:function(e){this.$emit("input",this.$props.transformer?this.$props.transformer.set(e):e)}}};t.default=n},a9de:function(e,t,n){"use strict";function r(e){return s(e)||a(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n){var o=[];return n.doc.nodesBetween(e,t,(function(e,t){o=[].concat(r(o),r(e.marks.map((function(n){return{start:t,end:t+e.nodeSize,mark:n}}))))})),o}function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=3<arguments.length?arguments[3]:void 0,o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(0>i||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,c=n-2;s>i;s--,c--){var u=o.node(s),l=o.index(s);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(l,u.childCount),p=r&&r[c]||u;if(p!=u&&(f=f.replaceChild(0,p.type.create(p.attrs))),!u.canReplace(l+1,u.childCount))return!1}var d=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(d,d,h?h.type:o.node(i+1).type)}function f(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}Object.defineProperty(t,"__esModule",{value:!0}),t.insertText=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){var r=t.selection.$from,o=r.pos.pos;return n(t.tr.insertText(e,o)),!0}},t.markInputRule=function(e,t,n){return new h.InputRule(e,(function(e,r,o,i){var a=n instanceof Function?n(r):n,s=e.tr,c=r.length-1,l=i,f=o;if(r[c]){var p=o+r[0].indexOf(r[c-1]),d=p+r[c-1].length-1,h=p+r[c-1].lastIndexOf(r[c]),v=h+r[c].length,m=u(o,i,e).filter((function(e){var n=e.mark.type.excluded;return n.find((function(e){return e.name===t.name}))})).filter((function(e){return e.end>p}));if(m.length)return!1;v<d&&s.delete(v,d),h>p&&s.delete(p,h),f=p,l=f+r[c].length}return s.addMark(f,l,t.create(a)),s.removeStoredMark(t),s}))},t.markPasteRule=function(e,t,n){var r=function r(o,i){var a=[];return o.forEach((function(o){if(o.isText){for(var s,c=o.text,u=o.marks,l=0,f=!!u.filter((function(e){return"link"===e.type.name}))[0];!f&&null!==(s=e.exec(c));)if(i&&i.type.allowsMarkType(t)&&s[1]){var p=s.index,d=p+s[0].length,h=p+s[0].indexOf(s[1]),v=h+s[1].length,m=n instanceof Function?n(s):n;0<p&&a.push(o.cut(l,p)),a.push(o.cut(h,v).mark(t.create(m).addToSet(o.marks))),l=d}l<c.length&&a.push(o.cut(l))}else a.push(o.copy(r(o.content,o)))})),m.Fragment.fromArray(a)};return new v.Plugin({props:{transformPasted:function(e){return new m.Slice(r(e.content),e.openStart,e.openEnd)}}})},t.nodeInputRule=function(e,t,n){return new h.InputRule(e,(function(e,r,o,i){var a=n instanceof Function?n(r):n,s=e.tr;return r[0]&&s.replaceWith(o-1,i,t.create(a)),s}))},t.pasteRule=function(e,t,n){var r=function r(o){var i=[];return o.forEach((function(o){if(o.isText){var a,s=o.text,c=0;do{if(a=e.exec(s),a){var u=a.index,l=u+a[0].length,f=n instanceof Function?n(a[0]):n;0<u&&i.push(o.cut(c,u)),i.push(o.cut(u,l).mark(t.create(f).addToSet(o.marks))),c=l}}while(a);c<s.length&&i.push(o.cut(c))}else i.push(o.copy(r(o.content)))})),m.Fragment.fromArray(i)};return new v.Plugin({props:{transformPasted:function(e){return new m.Slice(r(e.content),e.openStart,e.openEnd)}}})},t.removeMark=function(e){return function(t,n){var r=t.tr,o=t.selection,i=o.from,a=o.to,s=o.$from,c=o.empty;if(c){var u=(0,g.getMarkRange)(s,e);i=u.from,a=u.to}return r.removeMark(i,a,e),n(r)}},t.replaceText=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(r,o){var i=r.selection,a=i.$from,s=i.$to,c=a.index(),u=e?e.from:a.pos,l=e?e.to:s.pos;return!!a.parent.canReplaceWith(c,c,t)&&(o&&o(r.tr.replaceWith(u,l,t.create(n))),!0)}},t.setInlineBlockType=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=n.selection.$from,i=o.index();return!!o.parent.canReplaceWith(i,i,e)&&(r&&r(n.tr.replaceSelectionWith(e.create(t))),!0)}},t.splitToDefaultListItem=function(e){return function(t,n){var r=t.selection,o=r.$from,i=r.$to,a=r.node;if(a&&a.isBlock||2>o.depth||!o.sameParent(i))return!1;var s=o.node(-1);if(s.type!=e)return!1;if(0==o.parent.content.size){if(2==o.depth||o.node(-3).type!=e||o.index(-2)!=o.node(-2).childCount-1)return!1;if(n){for(var c=m.Fragment.empty,u=0<o.index(-1),f=o.depth-(u?1:2);f>=o.depth-3;f--)c=m.Fragment.from(o.node(f).copy(c));c=c.append(m.Fragment.from(e.createAndFill()));var p=t.tr.replace(o.before(u?null:-1),o.after(-3),new m.Slice(c,u?3:2,2));p.setSelection(t.selection.constructor.near(p.doc.resolve(o.pos+(u?3:2)))),n(p.scrollIntoView())}return!0}var d=i.pos==o.end()?s.contentMatchAt(o.indexAfter(-1)).defaultType:null,h=t.tr.delete(o.pos,i.pos),v=d&&[{type:e},{type:d}];return v||(v=[{type:e},null]),!!l(h.doc,o.pos,2,v)&&(n&&n(h.split(o.pos,2,v).scrollIntoView()),!0)}},t.toggleBlockType=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(r,o,i){var a=(0,g.nodeIsActive)(r,e,n);return a?(0,p.setBlockType)(t)(r,o,i):(0,p.setBlockType)(e,n)(r,o,i)}},t.toggleList=function(e,t){return function(n,r,o){var i=n.schema,a=n.selection,s=a.$from,c=a.$to,u=s.blockRange(c);if(!u)return!1;var l=(0,y.findParentNode)((function(e){return f(e,i)}))(a);if(1<=u.depth&&l&&1>=u.depth-l.depth){if(l.node.type===e)return(0,d.liftListItem)(t)(n,r,o);if(f(l.node,i)&&e.validContent(l.node.content)){var p=n.tr;return p.setNodeMarkup(l.pos,e),r&&r(p),!1}}return(0,d.wrapInList)(e)(n,r,o)}},t.toggleWrap=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,o){var i=(0,g.nodeIsActive)(n,e,t);return i?(0,p.lift)(n,r):(0,p.wrapIn)(e,t)(n,r,o)}},t.updateMark=function(e,t){return function(n,r){var o=n.tr,i=n.selection,a=n.doc,s=i.ranges,c=i.empty;if(c){var u=(0,g.getMarkRange)(i.$from,e),l=u.from,f=u.to;a.rangeHasMark(l,f,e)&&o.removeMark(l,f,e),o.addMark(l,f,e.create(t))}else s.forEach((function(n){var r=n.$to,i=n.$from;a.rangeHasMark(i.pos,r.pos,e)&&o.removeMark(i.pos,r.pos,e),o.addMark(i.pos,r.pos,e.create(t))}));return r(o)}},Object.defineProperty(t,"autoJoin",{enumerable:!0,get:function(){return p.autoJoin}}),Object.defineProperty(t,"baseKeymap",{enumerable:!0,get:function(){return p.baseKeymap}}),Object.defineProperty(t,"chainCommands",{enumerable:!0,get:function(){return p.chainCommands}}),Object.defineProperty(t,"createParagraphNear",{enumerable:!0,get:function(){return p.createParagraphNear}}),Object.defineProperty(t,"deleteSelection",{enumerable:!0,get:function(){return p.deleteSelection}}),Object.defineProperty(t,"exitCode",{enumerable:!0,get:function(){return p.exitCode}}),Object.defineProperty(t,"joinBackward",{enumerable:!0,get:function(){return p.joinBackward}}),Object.defineProperty(t,"joinDown",{enumerable:!0,get:function(){return p.joinDown}}),Object.defineProperty(t,"joinForward",{enumerable:!0,get:function(){return p.joinForward}}),Object.defineProperty(t,"joinUp",{enumerable:!0,get:function(){return p.joinUp}}),Object.defineProperty(t,"lift",{enumerable:!0,get:function(){return p.lift}}),Object.defineProperty(t,"liftEmptyBlock",{enumerable:!0,get:function(){return p.liftEmptyBlock}}),Object.defineProperty(t,"macBaseKeymap",{enumerable:!0,get:function(){return p.macBaseKeymap}}),Object.defineProperty(t,"newlineInCode",{enumerable:!0,get:function(){return p.newlineInCode}}),Object.defineProperty(t,"pcBaseKeymap",{enumerable:!0,get:function(){return p.pcBaseKeymap}}),Object.defineProperty(t,"selectAll",{enumerable:!0,get:function(){return p.selectAll}}),Object.defineProperty(t,"selectNodeBackward",{enumerable:!0,get:function(){return p.selectNodeBackward}}),Object.defineProperty(t,"selectNodeForward",{enumerable:!0,get:function(){return p.selectNodeForward}}),Object.defineProperty(t,"selectParentNode",{enumerable:!0,get:function(){return p.selectParentNode}}),Object.defineProperty(t,"setBlockType",{enumerable:!0,get:function(){return p.setBlockType}}),Object.defineProperty(t,"splitBlock",{enumerable:!0,get:function(){return p.splitBlock}}),Object.defineProperty(t,"splitBlockKeepMarks",{enumerable:!0,get:function(){return p.splitBlockKeepMarks}}),Object.defineProperty(t,"toggleMark",{enumerable:!0,get:function(){return p.toggleMark}}),Object.defineProperty(t,"wrapIn",{enumerable:!0,get:function(){return p.wrapIn}}),Object.defineProperty(t,"addListNodes",{enumerable:!0,get:function(){return d.addListNodes}}),Object.defineProperty(t,"liftListItem",{enumerable:!0,get:function(){return d.liftListItem}}),Object.defineProperty(t,"sinkListItem",{enumerable:!0,get:function(){return d.sinkListItem}}),Object.defineProperty(t,"splitListItem",{enumerable:!0,get:function(){return d.splitListItem}}),Object.defineProperty(t,"wrapInList",{enumerable:!0,get:function(){return d.wrapInList}}),Object.defineProperty(t,"textblockTypeInputRule",{enumerable:!0,get:function(){return h.textblockTypeInputRule}}),Object.defineProperty(t,"wrappingInputRule",{enumerable:!0,get:function(){return h.wrappingInputRule}});var p=n("0010"),d=n("665f"),h=n("f95e"),v=n("5313"),m=n("304a"),g=n("a15f"),y=n("986d")},aaf4:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"PaperButton",props:{subMenu:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},icon:{type:[String,Boolean],default:!1},currentNode:{type:Object,default:function(){}}}};t.default=n},adea:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PaperEditor_popin"},[n("popin-base",e._b({attrs:{"is-active":e.isActive},on:{close:function(){return e.$emit("close")}}},"popin-base",e.attrs,!1),[n("template",{slot:"content"},[n("div",{staticClass:"p-30"},[e._v(" "+e._s(e.content)+" "),e._l(e.form,(function(t,r){return n("div",{key:r,staticClass:"mv-20"},[n(t.is?t.is:"input-base",e._b({tag:"component",attrs:{value:t.transformer&&t.transformer.get?t.transformer.get(e.value[r]):e.value[r]},on:{input:function(t){return e.value[r]=t}}},"component",t,!1))],1)}))],2)]),n("template",{slot:"footer"},[n("div"),n("button-base",{on:{click:e.onInput}},[e._v(" Valider ")])],1)],2)],1)},o=[]},b381:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"InputBase_errors",class:{"is-active":e.isActive}},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isValid,expression:"isValid"}],staticClass:"InputBase_errorValid fal fa-check"}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.isValid,expression:"!isValid"}],staticClass:"InputBase_errorInvalid fal fa-times"}),n("div",{staticClass:"InputBase_errorPopin"},[e._l(e.errors,(function(t){return[e._v(" "+e._s(t)+" ")]}))],2)])},o=[]},b459:function(e,t,n){"use strict";n.r(t);var r=n("cdd3"),o=n("0e51");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},b533:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"SelectBase",class:{"is-active":e.state.isActive},on:{click:function(){e.state.isActive=!0}}},[e.label?n("label",{staticClass:"SelectBase_label"},[e._v(" "+e._s(e.label)+" ")]):e._e(),n("input",{ref:"search",staticClass:"SelectBase_value",attrs:{type:"text",placeholder:e.placeholder,disabled:!e.enableSearch},on:{focus:function(){return e.onFocus(!0)},blur:function(){return e.onFocus(!1)},input:function(t){return e.search=t.target.value}}}),e._m(0),n("div",{staticClass:"SelectBase_options"},[e._l(e.displayOptions,(function(t){return n("div",{key:t.id,staticClass:"SelectBase_option",class:{"is-selected":e.selectedOptions.includes(t)},on:{click:function(n){n.stopPropagation(),e.onSelect(t.id,e.selectedOptions.includes(t))}}},[e._v(" "+e._s(t.label)+" "),e.enableMultiple?n("i",{staticClass:"SelectBase_optionCheck fal fa-check"}):e._e(),e.enableMultiple?n("i",{staticClass:"SelectBase_optionRemove fal fa-times"}):e._e()])})),e.enableAdd&&e.search&&!e.searchExists?n("div",{staticClass:"SelectBase_option SelectBase_option--add",on:{click:function(){return e.$emit("add",e.search)}}},[n("span",[n("i",{staticClass:"fal fa-plus mr-10"}),e._v(" "+e._s(e.$t("component.selectBase.add",{value:e.search}))+" ")])]):e._e(),0>=e.displayOptions.length&&!e.enableAdd&&e.enableSearch?n("div",{staticClass:"SelectBase_option SelectBase_option--no-results"},[n("span",[n("i",{staticClass:"fal fa-times mr-10"}),e._v(" "+e._s(e.$t("component.selectBase.noResults"))+" ")])]):e._e()],2)])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"Inputbase_helpers"},[n("div",{staticClass:"Inputbase_helper"},[n("i",{staticClass:"fal fa-angle-down"})])])}]},b6b1:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.tooltips,(function(t){return n("tooltip",e._b({key:t.id},"tooltip",t,!1),[e._v(" "+e._s(t.content)+" ")])})),1)},o=[]},b80c:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={classes:["width-100"]}},b87d:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{id:"link",icon:"link",isMark:!0,popin:{form:{href:{label:"Lien",type:"text",value:""},target:{label:"Ouvrir dans un nouvel onglet",is:"toggle-base",value:"_self",transformer:{get:function(e){return"_blank"==e},set:function(e){return e?"_blank":"_self"}}}},attrs:{modifiers:["s","absolute-header"]}}}}},b95c:function(e,t,n){"use strict";n.r(t);var r=n("1b97"),o=n("8846");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},ba5a:function(e,t,n){"use strict";n.r(t);var r=n("ea88"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},bbf9:function(e,t,n){"use strict";n.r(t);var r=n("214d"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},bc2d:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"InputUpload"},[n("div",{staticClass:"InputUpload_body"},[n("div",{staticClass:"InputUpload_input"},[n("input-base",{staticClass:"InputUpload_element",attrs:{modifiers:["file-upload"],type:"file",attrs:{multiple:!0}},on:{input:e.addFiles}}),e._m(0)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:0<e.files.length,expression:"files.length > 0"}],staticClass:"InputUpload_upload",class:{"is-active":0<e.files.length}},e._l(e.files,(function(t,r){return n("div",{key:r,staticClass:"InputUpload_file",class:{"is-loaded":t.loaded,"is-loading":t.loading}},[n("div",{staticClass:"InputUpload_title"},[n("span",{staticClass:"ft-l mr-10"},[n("i",{staticClass:"fal",class:[e.getTypeIcon(t.raw.type)]})]),e._v(" "+e._s(t.name)+" ")]),n("div",{staticClass:"InputUpload_status"},[t.loading||t.loaded||e.isLoading?e._e():n("i",{staticClass:"fal fa-times color-ft-weak",on:{click:function(n){return n.stopPropagation(),e.deleteFile(t.name)}}}),t.loading&&!t.loaded?n("i",{staticClass:"fal fa-spinner-third spin color-ft-weak"}):e._e(),t.loaded&&!t.error?n("i",{staticClass:"fal fa-check color-blueberry"}):e._e(),t.error?n("i",{staticClass:"fal fa-times color-error"}):e._e()])])})),0)]),n("div",{staticClass:"InputUpload_actions",class:{"is-active":0<e.queuedFiles.length&&!e.isLoading}},[n("div",[n("div",{staticClass:"ft-s color-ft-weak p-5",on:{click:function(){e.files=[]}}},[e._v("Réinitialiser")])]),n("button-base",{attrs:{modifiers:["s"]},on:{click:function(t){return t.stopPropagation(),e.upload(t)}}},[e._v(" Uploader "+e._s(e.queuedFiles.length)+" fichier(s) ")])],1),n("div",{staticClass:"InputUpload_actions",class:{"is-active":!e.isLoading&&0<e.loadedFiles.length&&e.loadedFiles.length==e.files.length}},["success"==e.status?n("div",{staticClass:"text-center ft-s fx-grow color-blueberry ph-20"},[n("i",{staticClass:"fal fa-check mr-5"}),e._v(" Les fichiers ont été chargés avec succès. Ils se trouvent dans la Bibliothèque de médias. ")]):"partial"==e.status?n("div",{staticClass:"text-center ft-s fx-grow color-error ph-20"},[n("i",{staticClass:"fal fa-exclamation-triangle mr-5"}),e._v(" Certains fichiers n'ont pas pu être chargés, veuillez réessayer. ")]):"fail"==e.status?n("div",{staticClass:"text-center ft-s fx-grow color-error ph-20"},[n("i",{staticClass:"fal fa-times mr-5"}),e._v(" Les fichiers n'ont pas pu être chargés, veuillez réessayer. ")]):e._e()])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"ft-3xl"},[n("i",{staticClass:"fal fa-cloud-upload color-ft-weak fa-2x mb-10"})]),e._v(" Choisir des fichiers ou les faire glisser ")])}]},c147:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e){return s(e)||a(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function a(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?u(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.validateWithConstraints=void 0,t.validateWithConstraints=function(e,t){var n=[];if(t=l({},t),t.boundsNumber){var o=p(e,t.boundsNumber);0<o.length&&(n=[].concat(r(n),r(o)))}return{valid:0==n.length,errors:n}};var p=function(e,t){var r=[];return e=parseInt(e),void 0!==n(t.value[0])&&e<t.value[0]&&r.push("boundsNumber.small"),void 0!==n(t.value[1])&&e>t.value[1]&&r.push("boundsNumber.big"),r}},c21e:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=200,r=function(){};r.prototype.append=function(e){return e.length?(e=r.from(e),!this.length&&e||e.length<n&&this.leafAppend(e)||this.length<n&&e.leafPrepend(this)||this.appendInner(e)):this},r.prototype.prepend=function(e){return e.length?r.from(e).append(this):this},r.prototype.appendInner=function(e){return new s(this,e)},r.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?r.empty:this.sliceInner(i(0,e),o(this.length,t))},r.prototype.get=function(e){return 0>e||e>=this.length?void 0:this.getInner(e)},r.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},r.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},r.from=function(e){return e instanceof r?e:e&&e.length?new a(e):r.empty};var a=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=n)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=n)return new t(e.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(r);r.empty=new a([]);var s=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=i(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var a=this.left.length;return!(t<a&&!1===this.left.forEachInner(e,t,o(n,a),r))&&!(n>a&&!1===this.right.forEachInner(e,i(t-a,0),o(this.length,n)-a,r+a))&&void 0},t.prototype.forEachInvertedInner=function(e,t,n,r){var a=this.left.length;return!(t>a&&!1===this.right.forEachInvertedInner(e,t-a,i(n,a)-a,r+a))&&!(n<a&&!1===this.left.forEachInvertedInner(e,o(t,a),n,r))&&void 0},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=i(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(r);t.default=r},c28e:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,e._g(e._b({tag:"component",staticClass:"ButtonBase",class:[e.$modifiers,e.node?e.node.attrs.class:[]]},"component",e.computedAttrs,!1),e.$listeners),[n("div",{staticClass:"ButtonBase_content"},[e.iconBefore?n("span",{staticClass:"ButtonBase_iconBefore"},[n("i",{staticClass:"fal",class:["fa-"+e.iconBefore]})]):e._e(),e.$slots.before?n("span",{staticClass:"ButtonBase_before"},[e._t("before")],2):e._e(),n("span",{staticClass:"ButtonBase_text"},[e._v(" "+e._s(e.text?e.text:"")+" "),e._t("default")],2),e.$slots.after?n("span",{staticClass:"ButtonBase_after"},[e._t("after")],2):e._e(),e.iconAfter?n("span",{staticClass:"ButtonBase_iconAfter"},[n("i",{staticClass:"fal",class:["fa-"+e.iconAfter]})]):e._e()]),n("div",{staticClass:"ButtonBase_iconLoading"},[n("i",{staticClass:"fal",class:["fa-"+e.iconLoading]})])])},o=[]},c53b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("f23d"),o=n("72e2"),i=n("727d"),a=n("6388"),s={menu:{link:o.LinkMenu,styledBlock:a.StyledBlockMenu,image:i.ImageMenu},plugins:function(){return[new r.Heading({levels:[1,2,3]}),new r.Bold,new r.Italic,new r.OrderedList,new r.BulletList,new r.ListItem,new i.ImageExtension,new r.History,new o.LinkExtension,new a.StyledBlockExtension]}};t.default=s},c740:function(e,t,n){"use strict";n.r(t);var r=n("0159"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},c8ef:function(e,t,n){"use strict";n.r(t);var r=n("bc2d"),o=n("f772");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},c92d:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={name:"HelperNumber"}},cb2f:function(e,t,n){"use strict";n.r(t);var r=n("5148"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},cd42:function(e,t,r){"use strict";function a(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function f(e){return h(e)||d(e)||w(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return k(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?v(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return O(e)||S(e,t)||w(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function O(e){if(Array.isArray(e))return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function M(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function _(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")}function N(e){var t=document.createElement("style");t.type="text/css",t.textContent=e;var n=document,r=n.head,o=r.firstChild;o?r.insertBefore(t,o):r.appendChild(t)}function A(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return o(i(parseInt(e,10),t),n)}function T(e){return new I.Plugin({key:new I.PluginKey("menu_bar"),view:function(t){return new oe({editorView:t,options:e})}})}function P(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r}function E(e,t){var n=e.getClientRects();return n.length?n[0>t?0:n.length-1]:e.getBoundingClientRect()}function R(e,t){var n,r,o=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],i=e.docView.domFromPos(t),a=i.node,s=i.offset;if(3===a.nodeType)o&&s<a.nodeValue.length?(r=E(P(a,s-1,s),-1),n="right"):s<a.nodeValue.length&&(r=E(P(a,s,s+1),-1),n="left");else if(a.firstChild){if(s<a.childNodes.length){var c=a.childNodes[s];r=E(3===c.nodeType?P(c):c,-1),n="left"}if((!r||r.top===r.bottom)&&s){var u=a.childNodes[s-1];r=E(3===u.nodeType?P(u):u,1),n="right"}}else r=a.getBoundingClientRect(),n="left";var l=r[n];return{top:r.top,bottom:r.bottom,left:l,right:l}}function D(e){return new I.Plugin({key:new I.PluginKey("menu_bubble"),view:function(t){return new ae({editorView:t,options:e})}})}function j(e){return new I.Plugin({key:new I.PluginKey("floating_menu"),view:function(t){return new ce({editorView:t,options:e})}})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NodeSelection",{enumerable:!0,get:function(){return I.NodeSelection}}),Object.defineProperty(t,"Plugin",{enumerable:!0,get:function(){return I.Plugin}}),Object.defineProperty(t,"PluginKey",{enumerable:!0,get:function(){return I.PluginKey}}),Object.defineProperty(t,"TextSelection",{enumerable:!0,get:function(){return I.TextSelection}}),t.Text=t.Paragraph=t.Node=t.Mark=t.Extension=t.EditorMenuBubble=t.EditorMenuBar=t.EditorFloatingMenu=t.EditorContent=t.Editor=t.Doc=void 0;var I=r("5313"),$=r("576a"),B=r("304a"),z=r("23f1"),F=r("1a16"),L=r("7f06"),V=r("0010"),H=r("f95e"),W=r("a15f"),J=function(e){return e&&e.__esModule?e:{default:e}}(r("8bbf")),q=r("a9de"),K=function(){function e(t,n){var r=n.editor,o=n.extension,i=n.parent,a=n.node,s=n.view,c=n.decorations,u=n.getPos;x(this,e),this.component=t,this.editor=r,this.extension=o,this.parent=i,this.node=a,this.view=s,this.decorations=c,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:u,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}return M(e,[{key:"createDOM",value:function(){var e=this,t=J.default.extend(this.component),n={editor:this.editor,node:this.node,view:this.view,getPos:function(){return e.getPos()},decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:function(t){return e.updateAttrs(t)}};return"function"==typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"==typeof this.extension.update&&(this.update=this.extension.update),this.vm=new t({parent:this.parent,propsData:n}).$mount(),this.vm.$el}},{key:"update",value:function(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t}),!0))}},{key:"updateComponentProps",value:function(e){var t=this;if(this.vm._props){var n=J.default.config.silent;J.default.config.silent=!0,Object.entries(e).forEach((function(e){var n=y(e,2),r=n[0],o=n[1];t.vm._props[r]=o})),J.default.config.silent=n}}},{key:"updateAttrs",value:function(e){if(this.view.editable){var t=this.view.state,n=this.node.type,r=this.getPos(),o=m(m({},this.node.attrs),e),i=this.isMark?t.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(o)):t.tr.setNodeMarkup(r,null,o);this.view.dispatch(i)}}},{key:"ignoreMutation",value:function(e){return"selection"!==e.type&&(!this.contentDOM||!this.contentDOM.contains(e.target))}},{key:"stopEvent",value:function(e){var t=this;if("function"==typeof this.extension.stopEvent)return this.extension.stopEvent(e);var n=!!this.extension.schema.draggable;if(n&&"mousedown"===e.type){var r=e.target.closest&&e.target.closest("[data-drag-handle]"),o=r&&(this.dom===r||this.dom.contains(r));o&&(this.captureEvents=!1,document.addEventListener("dragend",(function(){t.captureEvents=!0}),{once:!0}))}var i="copy"===e.type,a="paste"===e.type,s="cut"===e.type,c=e.type.startsWith("drag")||"drop"===e.type;return!(n&&c||i||a||s)&&this.captureEvents}},{key:"selectNode",value:function(){this.updateComponentProps({selected:!0})}},{key:"deselectNode",value:function(){this.updateComponentProps({selected:!1})}},{key:"getMarkPos",value:function(){var e=this.view.posAtDOM(this.dom),t=this.view.state.doc.resolve(e),n=(0,W.getMarkRange)(t,this.node.type);return n}},{key:"destroy",value:function(){this.vm.$destroy()}}]),e}(),U=function(){function e(){x(this,e)}return M(e,[{key:"on",value:function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._callbacks=this._callbacks||{};var i=this._callbacks[e];return i&&i.forEach((function(e){return e.apply(t,r)})),this}},{key:"off",value:function(e,t){if(arguments.length){var n=this._callbacks?this._callbacks[e]:null;n&&(t?this._callbacks[e]=n.filter((function(e){return e!==t})):delete this._callbacks[e])}else this._callbacks={};return this}}]),e}(),G=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};x(this,e),this.options=m(m({},this.defaultOptions),t)}return M(e,[{key:"init",value:function(){return null}},{key:"bindEditor",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.editor=e}},{key:"inputRules",value:function(){return[]}},{key:"pasteRules",value:function(){return[]}},{key:"keys",value:function(){return{}}},{key:"name",get:function(){return null}},{key:"type",get:function(){return"extension"}},{key:"defaultOptions",get:function(){return{}}},{key:"plugins",get:function(){return[]}}]),e}();t.Extension=G;var X=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length?arguments[1]:void 0;x(this,e),t.forEach((function(e){e.bindEditor(n),e.init()})),this.extensions=t}return M(e,[{key:"keymaps",value:function(e){var t=e.schema,n=this.extensions.filter((function(e){return["extension"].includes(e.type)})).filter((function(e){return e.keys})).map((function(e){return e.keys({schema:t})})),r=this.extensions.filter((function(e){return["node","mark"].includes(e.type)})).filter((function(e){return e.keys})).map((function(e){return e.keys({type:t["".concat(e.type,"s")][e.name],schema:t})}));return[].concat(f(n),f(r)).map((function(e){return(0,L.keymap)(e)}))}},{key:"inputRules",value:function(e){var t=e.schema,n=e.excludedExtensions;if(!(n instanceof Array)&&n)return[];var r=n instanceof Array?this.extensions.filter((function(e){return!n.includes(e.name)})):this.extensions,o=r.filter((function(e){return["extension"].includes(e.type)})).filter((function(e){return e.inputRules})).map((function(e){return e.inputRules({schema:t})})),i=r.filter((function(e){return["node","mark"].includes(e.type)})).filter((function(e){return e.inputRules})).map((function(e){return e.inputRules({type:t["".concat(e.type,"s")][e.name],schema:t})}));return[].concat(f(o),f(i)).reduce((function(e,t){return[].concat(f(e),f(t))}),[])}},{key:"pasteRules",value:function(e){var t=e.schema,n=e.excludedExtensions;if(!(n instanceof Array)&&n)return[];var r=n instanceof Array?this.extensions.filter((function(e){return!n.includes(e.name)})):this.extensions,o=r.filter((function(e){return["extension"].includes(e.type)})).filter((function(e){return e.pasteRules})).map((function(e){return e.pasteRules({schema:t})})),i=r.filter((function(e){return["node","mark"].includes(e.type)})).filter((function(e){return e.pasteRules})).map((function(e){return e.pasteRules({type:t["".concat(e.type,"s")][e.name],schema:t})}));return[].concat(f(o),f(i)).reduce((function(e,t){return[].concat(f(e),f(t))}),[])}},{key:"commands",value:function(e){var t=e.schema,n=e.view;return this.extensions.filter((function(e){return e.commands})).reduce((function(e,r){var o=r.name,i=r.type,a={},s=r.commands(m({schema:t},["node","mark"].includes(i)?{type:t["".concat(i,"s")][o]}:{})),c=function(e,t){return!!n.editable&&(n.focus(),e(t)(n.state,n.dispatch,n))},u=function(e,t){Array.isArray(t)?a[e]=function(e){return t.forEach((function(t){return c(t,e)}))}:"function"==typeof t&&(a[e]=function(e){return c(t,e)})};return"object"===l(s)?Object.entries(s).forEach((function(e){var t=y(e,2),n=t[0],r=t[1];u(n,r)})):u(o,s),m(m({},e),a)}),{})}},{key:"nodes",get:function(){return this.extensions.filter((function(e){return"node"===e.type})).reduce((function(e,t){var n=t.name,r=t.schema;return m(m({},e),{},g({},n,r))}),{})}},{key:"options",get:function(){var e=this.view;return this.extensions.reduce((function(t,n){return m(m({},t),{},g({},n.name,new Proxy(n.options,{set:function(t,n,r){var o=t[n]!==r;return Object.assign(t,g({},n,r)),o&&e.updateState(e.state),!0}})))}),{})}},{key:"marks",get:function(){return this.extensions.filter((function(e){return"mark"===e.type})).reduce((function(e,t){var n=t.name,r=t.schema;return m(m({},e),{},g({},n,r))}),{})}},{key:"plugins",get:function(){return this.extensions.filter((function(e){return e.plugins})).reduce((function(e,t){var n=t.plugins;return[].concat(f(e),f(n))}),[])}}]),e}(),Y=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return x(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return c(t,e),M(t,[{key:"command",value:function(){return function(){}}},{key:"type",get:function(){return"mark"}},{key:"view",get:function(){return null}},{key:"schema",get:function(){return null}}]),t}(G);t.Mark=Y;var Q=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return x(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return c(t,e),M(t,[{key:"command",value:function(){return function(){}}},{key:"type",get:function(){return"node"}},{key:"view",get:function(){return null}},{key:"schema",get:function(){return null}}]),t}(G);t.Node=Q;var Z=function(e){function t(){return x(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),M(t,[{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block+"}}}]),t}(Q);t.Doc=Z;var ee=function(e){function t(){return x(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),M(t,[{key:"commands",value:function(e){var t=e.type;return function(){return(0,q.setBlockType)(t)}}},{key:"name",get:function(){return"paragraph"}},{key:"schema",get:function(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}}}}]),t}(Q);t.Paragraph=ee;var te=function(e){function t(){return x(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),M(t,[{key:"name",get:function(){return"text"}},{key:"schema",get:function(){return{group:"inline"}}}]),t}(Q);t.Text=te;var ne=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return x(this,t),e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),e.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:function(){},onTransaction:function(){},onUpdate:function(){},onFocus:function(){},onBlur:function(){},onPaste:function(){},onDrop:function(){}},e.events=["init","transaction","update","focus","blur","paste","drop"],e.init(n),e}return c(t,e),M(t,[{key:"init",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.setOptions(m(m({},this.defaultOptions),t)),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&N('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n'),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach((function(t){e.on(t,e.options[_("on ".concat(t))]||function(){})})),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}},{key:"setOptions",value:function(e){this.options=m(m({},this.options),e),this.view&&this.state&&this.view.updateState(this.state)}},{key:"createExtensions",value:function(){return new X([].concat(f(this.builtInExtensions),f(this.options.extensions)),this)}},{key:"createPlugins",value:function(){return this.extensions.plugins}},{key:"createKeymaps",value:function(){return this.extensions.keymaps({schema:this.schema})}},{key:"createInputRules",value:function(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}},{key:"createPasteRules",value:function(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}},{key:"createCommands",value:function(){return this.extensions.commands({schema:this.schema,view:this.view})}},{key:"createNodes",value:function(){return this.extensions.nodes}},{key:"createMarks",value:function(){return this.extensions.marks}},{key:"createSchema",value:function(){return new B.Schema({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}},{key:"createState",value:function(){var e=this;return I.EditorState.create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[].concat(f(this.plugins),[(0,H.inputRules)({rules:this.inputRules})],f(this.pasteRules),f(this.keymaps),[(0,L.keymap)({Backspace:H.undoInputRule}),(0,L.keymap)(V.baseKeymap)],f(this.options.enableDropCursor?[(0,z.dropCursor)(this.options.dropCursor)]:[]),f(this.options.enableGapCursor?[(0,F.gapCursor)()]:[]),[new I.Plugin({key:new I.PluginKey("editable"),props:{editable:function(){return e.options.editable}}}),new I.Plugin({props:{attributes:{tabindex:0},handleDOMEvents:{focus:function(t,n){e.focused=!0,e.emit("focus",{event:n,state:t.state,view:t});var r=e.state.tr.setMeta("focused",!0);e.view.dispatch(r)},blur:function(t,n){e.focused=!1,e.emit("blur",{event:n,state:t.state,view:t});var r=e.state.tr.setMeta("focused",!1);e.view.dispatch(r)}}}}),new I.Plugin({props:this.options.editorProps})])})}},{key:"createDocument",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.options.parseOptions;if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===l(e))try{return this.schema.nodeFromJSON(e)}catch(t){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",t),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"==typeof e){var n="<div>".concat(e,"</div>"),r=new window.DOMParser,o=r.parseFromString(n,"text/html").body.firstElementChild;return B.DOMParser.fromSchema(this.schema).parse(o,t)}return!1}},{key:"createView",value:function(){var e=this;return new $.EditorView(this.element,{state:this.createState(),handlePaste:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["paste"].concat(n))},handleDrop:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.emit.apply(e,["drop"].concat(n))},dispatchTransaction:this.dispatchTransaction.bind(this)})}},{key:"setParentComponent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[].concat(f(this.builtInExtensions),f(this.options.extensions))})})}},{key:"initNodeViews",value:function(e){var t=this,n=e.parent,r=e.extensions;return r.filter((function(e){return["node","mark"].includes(e.type)})).filter((function(e){return e.view})).reduce((function(e,r){return m(m({},e),{},g({},r.name,(function(e,o,i,a){var s=r.view;return new K(s,{editor:t,extension:r,parent:n,node:e,view:o,getPos:i,decorations:a})})))}),{})}},{key:"dispatchTransaction",value:function(e){var t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),!e.docChanged||e.getMeta("preventUpdate")||this.emitUpdate(e)}},{key:"emitUpdate",value:function(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}},{key:"resolveSelection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.selection&&null===e)return this.selection;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){var t=this.state.doc;return{from:t.content.size,to:t.content.size}}return{from:e,to:e}}},{key:"focus",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(!(this.view.focused&&null===t||!1===t)){var n=this.resolveSelection(t),r=n.from,o=n.to;this.setSelection(r,o),setTimeout((function(){return e.view.focus()}),10)}}},{key:"setSelection",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.state,r=n.doc,o=n.tr,i=A(e,0,r.content.size),a=A(t,0,r.content.size),s=I.TextSelection.create(r,i,a),c=o.setSelection(s);this.view.dispatch(c)}},{key:"blur",value:function(){this.view.dom.blur()}},{key:"getSchemaJSON",value:function(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}},{key:"getHTML",value:function(){var e=document.createElement("div"),t=B.DOMSerializer.fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}},{key:"getJSON",value:function(){return this.state.doc.toJSON()}},{key:"setContent",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],n=2<arguments.length?arguments[2]:void 0,r=this.state,o=r.doc,i=r.tr,a=this.createDocument(e,n),s=I.TextSelection.create(o,0,o.content.size),c=i.setSelection(s).replaceSelectionWith(a,!1).setMeta("preventUpdate",!t);this.view.dispatch(c)}},{key:"clearContent",value:function(){var e=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0];this.setContent(this.options.emptyDocument,e)}},{key:"setActiveNodesAndMarks",value:function(){var e=this;this.activeMarks=Object.entries(this.schema.marks).reduce((function(t,n){var r=y(n,2),o=r[0],i=r[1];return m(m({},t),{},g({},o,(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,W.markIsActive)(e.state,i,t)})))}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((function(t,n){var r=y(n,2),o=r[0],i=r[1];return m(m({},t),{},g({},o,(0,W.getMarkAttrs)(e.state,i)))}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((function(t,n){var r=y(n,2),o=r[0],i=r[1];return m(m({},t),{},g({},o,(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(0,W.nodeIsActive)(e.state,i,t)})))}),{})}},{key:"getMarkAttrs",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return this.activeMarkAttrs[e]}},{key:"getNodeAttrs",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return m({},(0,W.getNodeAttrs)(this.state,this.schema.nodes[e]))}},{key:"registerPlugin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length?arguments[1]:void 0,n="function"==typeof t?t(e,this.state.plugins):[e].concat(f(this.state.plugins)),r=this.state.reconfigure({plugins:n});this.view.updateState(r)}},{key:"unregisterPlugin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(e&&this.view.docView){var t=this.state.reconfigure({plugins:this.state.plugins.filter((function(t){return!t.key.startsWith("".concat(e,"$"))}))});this.view.updateState(t)}}},{key:"destroy",value:function(){this.view&&this.view.destroy()}},{key:"builtInExtensions",get:function(){return this.options.useBuiltInExtensions?[new Z,new te,new ee]:[]}},{key:"state",get:function(){return this.view?this.view.state:null}},{key:"isActive",get:function(){return Object.entries(m(m({},this.activeMarks),this.activeNodes)).reduce((function(e,t){var n=y(t,2),r=n[0],o=n[1];return m(m({},e),{},g({},r,(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o(e)})))}),{})}}]),t}(U);t.Editor=ne;var re={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&e.element&&this.$nextTick((function(){t.$el.appendChild(e.element.firstChild),e.setParentComponent(t)}))}}},render:function(e){return e("div")},beforeDestroy:function(){this.editor.element=this.$el}};t.EditorContent=re;var oe=function(){function e(t){var n=this,r=t.options;x(this,e),this.options=r,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=function(){return n.preventHide?void(n.preventHide=!1):void n.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}return M(e,[{key:"handleClick",value:function(){this.preventHide=!0}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}]),e}(),ie={props:{editor:{default:null,type:Object}},data:function(){return{focused:!1}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick((function(){e.registerPlugin(T({editor:e,element:t.$el})),t.focused=e.focused,e.on("focus",(function(){t.focused=!0})),e.on("menubar:focusUpdate",(function(e){t.focused=e}))}))}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};t.EditorMenuBar=ie;var ae=function(){function e(t){var n=this,r=t.options,o=t.editorView;x(this,e),this.options=m(m({},{element:null,keepInBounds:!0,onUpdate:function(){return!1}}),r),this.editorView=o,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=function(e){var t=e.view;n.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=function(e){var t=e.event;return n.preventHide?void(n.preventHide=!1):void n.hide(t)},this.options.editor.on("blur",this.blurHandler)}return M(e,[{key:"handleClick",value:function(){this.preventHide=!0}},{key:"update",value:function(e,t){var r=e.state;if(!e.composing&&!(t&&t.doc.eq(r.doc)&&t.selection.eq(r.selection))){if(r.selection.empty)return void this.hide();var a=r.selection,s=a.from,c=a.to,u=R(e,s),l=R(e,c,!0),f=this.options.element.offsetParent;if(!f)return void this.hide();var p=f.getBoundingClientRect(),d=this.options.element.getBoundingClientRect(),h=(u.left+l.left)/2-p.left;this.left=n(this.options.keepInBounds?o(p.width-d.width/2,i(h,d.width/2)):h),this.bottom=n(p.bottom-u.top),this.top=n(l.bottom-p.top),this.isActive=!0,this.sendUpdate()}}},{key:"sendUpdate",value:function(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}},{key:"hide",value:function(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}]),e}(),se={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data:function(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick((function(){e.registerPlugin(D({editor:e,element:t.$el,keepInBounds:t.keepInBounds,onUpdate:function(e){e.isActive&&!1===t.menu.isActive?t.$emit("show",e):!e.isActive&&!0===t.menu.isActive&&t.$emit("hide",e),t.menu=e}}))}))}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy:function(){this.editor.unregisterPlugin("menu_bubble")}};t.EditorMenuBubble=se;var ce=function(){function e(t){var n=this,r=t.options,o=t.editorView;x(this,e),this.options=m(m({},{resizeObserver:!0,element:null,onUpdate:function(){return!1}}),r),this.preventHide=!1,this.editorView=o,this.isActive=!1,this.top=0,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=function(e){var t=e.view;n.update(t)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=function(e){var t=e.event;return n.preventHide?void(n.preventHide=!1):void n.hide(t)},this.options.editor.on("blur",this.blurHandler),this.options.resizeObserver&&window.ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(){n.isActive&&n.update(n.editorView)})),this.resizeObserver.observe(this.editorView.dom))}return M(e,[{key:"handleClick",value:function(){this.preventHide=!0}},{key:"update",value:function(e,t){var n=e.state;if(!(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))){if(!n.selection.empty)return void this.hide();var r=e.domAtPos(n.selection.anchor),o="<br>"===r.node.innerHTML&&"P"===r.node.tagName&&r.node.parentNode===e.dom;if(!o)return void this.hide();var i=this.options.element.offsetParent;if(!i)return void this.hide();var a=i.getBoundingClientRect(),s=e.coordsAtPos(n.selection.anchor),c=s.top-a.top;this.isActive=!0,this.top=c,this.sendUpdate()}}},{key:"sendUpdate",value:function(){this.options.onUpdate({isActive:this.isActive,top:this.top})}},{key:"hide",value:function(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}},{key:"destroy",value:function(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.resizeObserver&&this.resizeObserver.unobserve(this.editorView.dom),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}]),e}(),ue={props:{editor:{default:null,type:Object}},data:function(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler:function(e){var t=this;e&&this.$nextTick((function(){e.registerPlugin(j({editor:e,element:t.$el,onUpdate:function(e){e.isActive&&!1===t.menu.isActive?t.$emit("show",e):!e.isActive&&!0===t.menu.isActive&&t.$emit("hide",e),t.menu=e}}))}))}}},render:function(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy:function(){this.editor.unregisterPlugin("floating_menu")}};t.EditorFloatingMenu=ue},cdd3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"TooltipBase",class:[].concat(e.$modifiers),style:{marginTop:e.top+"px",marginLeft:e.left+"px"}},[e._t("default")],2)},o=[]},cfec:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("703b")),c=r(n("650f")),u={name:"ButtonBase",mixins:[c.default],schema:s.default,props:{tag:{type:String,default:"button"},link:{type:String},text:{type:String},node:{type:Object,default:function(){}},iconBefore:{type:String,default:""},iconAfter:{type:String,default:""},iconLoading:{type:String,default:"spinner-third"},attrs:{type:Object,default:function(){return{}}}},computed:{computedAttrs:function(){return i(i({href:this.$props.link},this.$props.attrs),this.$props.node?this.$props.node.attrs:{})}}};t.default=u},d2cc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n("650f")),o={name:"PopinBase",mixins:[r.default],props:{isActive:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0}},data:function(){return{listeners:{close:null}}},watch:{isActive:{handler:function(e){var t=this;this.autoClose&&(e&&this.$data.listeners.close?setTimeout((function(){document.addEventListener("click",t.$data.listeners.close)}),100):this.$data.listeners.close&&document.removeEventListener("click",this.$data.listeners.close))}}},beforeDestroy:function(){document.removeEventListener("click",this.$data.listeners.close)},mounted:function(){var e=this;this.$data.listeners.close=function(t){e.$refs.body.contains(t.target)||e.$emit("close")}}};t.default=o},d2e6:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"SelectBase",props:{label:{type:String,default:""},options:{type:Array,default:function(){return[]}},value:{type:[Number,Array,Boolean]},constraints:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},enableMultiple:{type:Boolean,default:!1},enableSearch:{type:Boolean,default:!1},enableAdd:{type:Boolean,default:!1}},data:function(){return{search:"",state:{isFocused:!1,isActive:!1},listeners:{active:null}}},computed:{arrayValue:function(){return null===this.$props.value?[]:Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]},searchExists:function(){var e=this;return!!this.$props.options.find((function(t){return t.label==e.$data.search}))},selectedOptions:function(){var e=this;return this.$props.options.filter((function(t){return e.arrayValue.includes(t.id)}))},displayValue:function(){return 0<this.selectedOptions.length?this.selectedOptions.map((function(e){return e.label})).join(", "):""},displayOptions:function(){var e=this,t=this.$props.options;return this.$data.search&&(t=t.filter((function(t){return t.label.toLowerCase().includes(e.$data.search.toLowerCase())}))),t}},watch:n({displayValue:function(e){this.$refs.search&&(this.$refs.search.value=e)}},"state.isActive",(function(e){var t=this;e?(this.$listeners.active=function(e){t.$el.contains(e.target)||(t.$data.state.isActive=!1)},document.addEventListener("click",this.$listeners.active)):(document.removeEventListener("click",this.$listeners.active),this.$listeners.active=null)})),mounted:function(){this.displayValue&&(this.$refs.search.value=this.displayValue)},methods:{onSelect:function(e){var t=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];this.$props.enableMultiple||(this.$data.state.isActive=!1);var n=this.$props.enableMultiple?this.selectedOptions.map((function(e){return e.id})):[];t&&this.$props.enableMultiple?n=n.filter((function(t){return t!=e})):n.push(this.$props.options.find((function(t){return t.id==e})).id),this.$emit("input",0<n.length?this.$props.enableMultiple?n:n[0]:null)},onFocus:function(e){var t=this;this.$data.state.isFocused=e,e?this.$refs.search.value="":setTimeout((function(){t.$data.search="",t.$refs.search.value=t.displayValue?t.displayValue:""}),100)}}};t.default=r},d2ed:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"InputBase_reveal"},[e.isRevealed?n("i",{staticClass:"fal fa-eye-slash"}):n("i",{staticClass:"fal fa-eye"})])])},o=[]},dcfc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"PaperEditor"},[n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.commands,o=t.isActive,i=t.getMarkAttrs,a=t.getNodeAttrs;return[n("div",[n("div",{staticClass:"PaperEditor_menu"},e._l(e.options,(function(t,s){return n("div",{key:s,staticClass:"PaperEditor_menuGroup"},e._l(t,(function(t){return n(t.component||"paper-button",e._b({key:t.id,tag:"component",attrs:{"is-active":!!o[t.id]&&o[t.id](),icon:t.icon,"current-node":t.isNode?a(t.id):t.isMark?i(t.id):null},on:{click:function(){t.popin?e.state.current=t.id:r[t.id]()},input:function(e){return r[t.id](e)||void 0}}},"component",t.attrs?t.attrs:{},!1))})),1)})),0),e._l(e.options,(function(t){return e._l(t.filter((function(e){return e.popin})),(function(t,o){return n("paper-popin",e._b({key:o,attrs:{"is-active":t.id==e.state.current,"current-node":t.isNode?a(t.id):t.isMark?i(t.id):null},on:{close:function(){e.state.current=""},input:function(e){return r[t.id](e)}}},"paper-popin",t.popin,!1))}))}))],2)]}}])}),n("editor-view",{staticClass:"PaperEditor_view",attrs:{editor:e.editor,editable:!0}})],1)},o=[]},e2be:function(e){"use strict";function t(e){return o(e)||r(e)||s(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function o(e){if(Array.isArray(e))return c(e)}function i(e,t){return l(e)||u(e,t)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function l(e){if(Array.isArray(e))return e}function f(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var n=e[t];"object"!=y(n)||Object.isFrozen(n)||b(n)})),e}function w(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function k(e){var t=Object.create(null);for(var n in e)t[n]=e[n];for(var r=arguments.length,o=Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.forEach((function(e){for(var n in e)t[n]=e[n]})),t}function S(e){return e.nodeName.toLowerCase()}function O(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function x(e){return e?"string"==typeof e?e:e.source:null}function C(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return x(e)})).join("");return r}function M(e){return new RegExp(e.toString()+"|").exec("").length-1}function _(e,t){var n=e&&e.exec(t);return n&&0===n.index}function N(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"|",n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,o="",i=0;i<e.length;i++){r+=1;var a=r,s=x(e[i]);for(0<i&&(o+=t),o+="(";0<s.length;){var c=n.exec(s);if(null==c){o+=s;break}o+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),"\\"===c[0][0]&&c[1]?o+="\\"+(+c[1]+a):(o+=c[0],"("===c[0]&&r++)}o+=")"}return o}function A(e){function n(t,n){return new RegExp(x(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}function r(e){var t=new c;return e.contains.forEach((function(e){return t.addRule(e.begin,{rule:e,type:"begin"})})),e.terminator_end&&t.addRule(e.terminator_end,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function o(e,t){var n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function a(i,s){var c,u=i;if(i.compiled)return u;i.compiled=!0,i.__beforeBegin=null,i.keywords=i.keywords||i.beginKeywords;var l=null;if("object"===y(i.keywords)&&(l=i.keywords.$pattern,delete i.keywords.$pattern),i.keywords&&(i.keywords=E(i.keywords,e.case_insensitive)),i.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return u.keywordPatternRe=n(i.lexemes||l||/\w+/,!0),s&&(i.beginKeywords&&(i.begin="\\b("+i.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",i.__beforeBegin=o),!i.begin&&(i.begin=/\B|\b/),u.beginRe=n(i.begin),i.endSameAsBegin&&(i.end=i.begin),!i.end&&!i.endsWithParent&&(i.end=/\B|\b/),i.end&&(u.endRe=n(i.end)),u.terminator_end=x(i.end)||"",i.endsWithParent&&s.terminator_end&&(u.terminator_end+=(i.end?"|":"")+s.terminator_end)),i.illegal&&(u.illegalRe=n(i.illegal)),void 0===i.relevance&&(i.relevance=1),i.contains||(i.contains=[]),i.contains=(c=[]).concat.apply(c,t(i.contains.map((function(e){return P("self"===e?i:e)})))),i.contains.forEach((function(e){a(e,u)})),i.starts&&a(i.starts,s),u.matcher=r(u),u}var s=function(){function e(){v(this,e),this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}return g(e,[{key:"addRule",value:function(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=M(e)+1}},{key:"compile",value:function(){0===this.regexes.length&&(this.exec=function(){return null});var e=this.regexes.map((function(e){return e[1]}));this.matcherRe=n(N(e),!0),this.lastIndex=0}},{key:"exec",value:function(e){this.matcherRe.lastIndex=this.lastIndex;var t=this.matcherRe.exec(e);if(!t)return null;var n=t.findIndex((function(e,t){return 0<t&&void 0!==e})),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}]),e}(),c=function(){function e(){v(this,e),this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}return g(e,[{key:"getMatcher",value:function(e){if(this.multiRegexes[e])return this.multiRegexes[e];var t=new s;return this.rules.slice(e).forEach((function(e){var n=i(e,2),r=n[0],o=n[1];return t.addRule(r,o)})),t.compile(),this.multiRegexes[e]=t,t}},{key:"resumingScanAtSamePosition",value:function(){return 0!==this.regexIndex}},{key:"considerAll",value:function(){this.regexIndex=0}},{key:"addRule",value:function(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}},{key:"exec",value:function(e){var t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;var n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{var r=this.getMatcher(0);r.lastIndex=this.lastIndex+1,n=r.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}]),e}();if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=k(e.classNameAliases||{}),a(e)}function T(e){return!!e&&(e.endsWithParent||T(e.starts))}function P(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(t){return k(e,{variants:null},t)}))),e.cached_variants?e.cached_variants:T(e)?k(e,{starts:e.starts?k(e.starts):null}):Object.isFrozen(e)?k(e):e}function E(e,t){function n(e,n){t&&(n=n.toLowerCase()),n.split(" ").forEach((function(t){var n=t.split("|");r[n[0]]=[e,R(n[0],n[1])]}))}var r={};return"string"==typeof e?n("keyword",e):Object.keys(e).forEach((function(t){n(t,e[t])})),r}function R(e,t){return t?+t:D(e)?0:1}function D(e){return re.includes(e.toLowerCase())}function j(e){return!(!e&&""!==e)}function I(e){var t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className:function(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted:function(){return this.autoDetect||e.getLanguage(this.language)?(this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value):(console.warn('The language "'.concat(this.language,'" you specified could not be found.')),this.unknownLanguage=!0,w(this.code));var t},autoDetect:function(){return!this.language||j(this.autodetect)},ignoreIllegals:function(){return!0}},render:function(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install:function(e){e.component("highlightjs",t)}}}}var $=b;$.default=b;var B=function(){function e(t){v(this,e),void 0===t.data&&(t.data={}),this.data=t.data}return g(e,[{key:"ignoreMatch",value:function(){this.ignore=!0}}]),e}(),z=Object.freeze({__proto__:null,escapeHTML:w,inherit:k,nodeStream:function(e){var t=[];return function e(n,r){for(var o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:r,node:o}),r=e(o,r),S(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:o}));return r}(e,0),t},mergeStreams:function(e,t,n){function r(){return e.length&&t.length?e[0].offset===t[0].offset?"start"===t[0].event?e:t:e[0].offset<t[0].offset?e:t:e.length?e:t}function o(e){u+="<"+S(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+w(e.value)+'"'})).join("")+">"}function i(e){u+="</"+S(e)+">"}function a(e){("start"===e.event?o:i)(e.node)}for(var s,c=0,u="",l=[];e.length||t.length;)if(s=r(),u+=w(n.substring(c,s[0].offset)),c=s[0].offset,s===e){l.reverse().forEach(i);do{a(s.splice(0,1)[0]),s=r()}while(s===e&&s.length&&s[0].offset===c);l.reverse().forEach(o)}else"start"===s[0].event?l.push(s[0].node):l.pop(),a(s.splice(0,1)[0]);return u+w(n.substr(c))}}),F=function(e){return!!e.kind},L=function(){function e(t,n){v(this,e),this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}return g(e,[{key:"addText",value:function(e){this.buffer+=w(e)}},{key:"openNode",value:function(e){if(F(e)){var t=e.kind;e.sublanguage||(t="".concat(this.classPrefix).concat(t)),this.span(t)}}},{key:"closeNode",value:function(e){F(e)&&(this.buffer+="</span>")}},{key:"value",value:function(){return this.buffer}},{key:"span",value:function(e){this.buffer+='<span class="'.concat(e,'">')}}]),e}(),V=function(){function e(){v(this,e),this.rootNode={children:[]},this.stack=[this.rootNode]}return g(e,[{key:"add",value:function(e){this.top.children.push(e)}},{key:"openNode",value:function(e){var t={kind:e,children:[]};this.add(t),this.stack.push(t)}},{key:"closeNode",value:function(){return 1<this.stack.length?this.stack.pop():void 0}},{key:"closeAllNodes",value:function(){for(;this.closeNode(););}},{key:"toJSON",value:function(){return JSON.stringify(this.rootNode,null,4)}},{key:"walk",value:function(e){return this.constructor._walk(e,this.rootNode)}},{key:"top",get:function(){return this.stack[this.stack.length-1]}},{key:"root",get:function(){return this.rootNode}}],[{key:"_walk",value:function(e,t){var n=this;return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((function(t){return n._walk(e,t)})),e.closeNode(t)),e}},{key:"_collapse",value:function(t){"string"!=typeof t&&t.children&&(t.children.every((function(e){return"string"==typeof e}))?t.children=[t.children.join("")]:t.children.forEach((function(t){e._collapse(t)})))}}]),e}(),H=function(e){function t(e){var n;return v(this,t),n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n.options=e,n}return d(t,e),g(t,[{key:"addKeyword",value:function(e,t){""===e||(this.openNode(t),this.addText(e),this.closeNode())}},{key:"addText",value:function(e){""===e||this.add(e)}},{key:"addSublanguage",value:function(e,t){var n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}},{key:"toHTML",value:function(){var e=new L(this,this.options);return e.value()}},{key:"finalize",value:function(){return!0}}]),t}(V),W="[a-zA-Z]\\w*",J="[a-zA-Z_]\\w*",q="\\b\\d+(\\.\\d+)?",K="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",U="\\b(0b[01]+)",G={begin:"\\\\[\\s\\S]",relevance:0},X={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Y=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=k({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(X),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},Q=Y("//","$"),Z=Y("/\\*","\\*/"),ee=Y("#","$"),te={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[G,{begin:/\[/,end:/\]/,relevance:0,contains:[G]}]}]},ne=Object.freeze({__proto__:null,IDENT_RE:W,UNDERSCORE_IDENT_RE:J,NUMBER_RE:q,C_NUMBER_RE:K,BINARY_NUMBER_RE:U,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=/^#![ ]*\//;return e.binary&&(e.begin=C(t,/.*\b/,e.binary,/\b.*/)),k({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":function(e,t){0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:G,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:[G]},QUOTE_STRING_MODE:{className:"string",begin:'"',end:'"',illegal:"\\n",contains:[G]},PHRASAL_WORDS_MODE:X,COMMENT:Y,C_LINE_COMMENT_MODE:Q,C_BLOCK_COMMENT_MODE:Z,HASH_COMMENT_MODE:ee,NUMBER_MODE:{className:"number",begin:q,relevance:0},C_NUMBER_MODE:{className:"number",begin:K,relevance:0},BINARY_NUMBER_MODE:{className:"number",begin:U,relevance:0},CSS_NUMBER_MODE:{className:"number",begin:q+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:te,TITLE_MODE:{className:"title",begin:W,relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:J,relevance:0},METHOD_GUARD:{begin:"\\.\\s*"+J,relevance:0},END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":function(e,t){t.data._beginMatch=e[1]},"on:end":function(e,t){t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}}),re=["of","and","for","in","not","or","if","then","parent","list","value"],oe=w,ie=k,ae=z.nodeStream,se=z.mergeStreams,ce=Symbol("nomatch"),ue=function(e){function t(e){return D.noHighlightRe.test(e)}function n(e){var n=e.className+" ";n+=e.parentNode?e.parentNode.className:"";var r=D.languageDetectRe.exec(n);if(r){var o=m(r[1]);return o||(console.warn(E.replace("{}",r[1])),console.warn("Falling back to no-highlight mode for this block.",e)),o?r[1]:"no-highlight"}return n.split(/\s+/).find((function(e){return t(e)||m(e)}))}function r(e,t,n,r){var i={code:t,language:e};k("before:highlight",i);var a=i.result?i.result:o(i.language,i.code,n,r);return a.code=i.code,k("after:highlight",a),a}function o(e,t,n,r){function a(e,t){var n=k.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function c(){if(M.keywords){var e=0;M.keywordPatternRe.lastIndex=0;for(var t=M.keywordPatternRe.exec(R),n="";t;){n+=R.substring(e,t.index);var r=a(M,t);if(r){var o=i(r,2),s=o[0],c=o[1];P.addText(n),n="",j+=c;var u=k.classNameAliases[s]||s;P.addKeyword(t[0],u)}else n+=t[0];e=M.keywordPatternRe.lastIndex,t=M.keywordPatternRe.exec(R)}n+=R.substr(e),P.addText(n)}else P.addText(R)}function u(){if(""!==R){var e=null;if("string"==typeof M.subLanguage){if(!C[M.subLanguage])return void P.addText(R);e=o(M.subLanguage,R,!0,N[M.subLanguage]),N[M.subLanguage]=e.top}else e=s(R,M.subLanguage.length?M.subLanguage:null);0<M.relevance&&(j+=e.relevance),P.addSublanguage(e.emitter,e.language)}}function l(){null==M.subLanguage?c():u(),R=""}function f(e){return e.className&&P.openNode(k.classNameAliases[e.className]||e.className),M=Object.create(e,{parent:{value:M}}),M}function p(e,t,n){var r=_(e.endRe,n);if(r){if(e["on:end"]){var o=new B(e);e["on:end"](t,o),o.ignore&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}return e.endsWithParent?p(e.parent,t,n):void 0}function d(e){return 0===M.matcher.regexIndex?(R+=e[0],1):(z=!0,0)}function h(e){for(var t,n=e[0],r=e.rule,o=new B(r),i=[r.__beforeBegin,r["on:begin"]],a=0;a<i.length;a++)if(t=i[a],t&&(t(e,o),o.ignore))return d(n);return r&&r.endSameAsBegin&&(r.endRe=O(n)),r.skip?R+=n:(r.excludeBegin&&(R+=n),l(),!r.returnBegin&&!r.excludeBegin&&(R=n)),f(r),r.returnBegin?0:n.length}function v(e){var t=e[0],n=b.substr(e.index),r=p(M,e,n);if(!r)return ce;var o=M;o.skip?R+=t:(!(o.returnEnd||o.excludeEnd)&&(R+=t),l(),o.excludeEnd&&(R=t));do{M.className&&P.closeNode(),M.skip||M.subLanguage||(j+=M.relevance),M=M.parent}while(M!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),f(r.starts)),o.returnEnd?0:t.length}function g(){for(var e=[],t=M;t!==k;t=t.parent)t.className&&e.unshift(t.className);e.forEach((function(e){return P.openNode(e)}))}function y(t,r){var o=r&&r[0];if(R+=t,null==o)return l(),0;if("begin"===w.type&&"end"===r.type&&w.index===r.index&&""===o){if(R+=b.slice(r.index,r.index+1),!T){var i=new Error("0 width match regex");throw i.languageName=e,i.badRule=w.rule,i}return 1}if(w=r,"begin"===r.type)return h(r);if("illegal"===r.type&&!n){var a=new Error('Illegal lexeme "'+o+'" for mode "'+(M.className||"<unnamed>")+'"');throw a.mode=M,a}if("end"===r.type){var s=v(r);if(s!==ce)return s}if("illegal"===r.type&&""===o)return 1;if(1e5<$&&$>3*r.index){var c=new Error("potential infinite loop, way more iterations than matches");throw c}return R+=o,o.length}var b=t,w={},k=m(e);if(!k)throw console.error(E.replace("{}",e)),new Error('Unknown language: "'+e+'"');var S=A(k),x="",M=r||S,N={},P=new D.__emitter(D);g();var R="",j=0,I=0,$=0,z=!1;try{for(M.matcher.considerAll();;){$++,z?z=!1:M.matcher.considerAll(),M.matcher.lastIndex=I;var F=M.matcher.exec(b);if(!F)break;var L=b.substring(I,F.index),V=y(L,F);I=F.index+V}return y(b.substr(I)),P.closeAllNodes(),P.finalize(),x=P.toHTML(),{relevance:j,value:x,language:e,illegal:!1,emitter:P,top:M}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:b.slice(I-100,I+100),mode:t.mode},sofar:x,relevance:0,value:oe(b),emitter:P};if(T)return{illegal:!1,relevance:0,value:oe(b),emitter:P,language:e,top:M,errorRaised:t};throw t}}function a(e){var t={relevance:0,emitter:new D.__emitter(D),value:oe(e),illegal:!1,top:R};return t.emitter.addText(e),t}function s(e,t){t=t||D.languages||Object.keys(C);var n=a(e),r=t.filter(m).filter(b).map((function(t){return o(t,e,!1)}));r.unshift(n);var s=r.sort((function(e,t){if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(m(e.language).supersetOf===t.language)return 1;if(m(t.language).supersetOf===e.language)return-1}return 0})),c=i(s,2),u=c[0],l=c[1],f=u;return f.second_best=l,f}function c(e){return D.tabReplace||D.useBR?e.replace(P,(function(e){return"\n"===e?D.useBR?"<br>":e:D.tabReplace?e.replace(/\t/g,D.tabReplace):e})):e}function u(e,t,n){var r=t?M[t]:n,o=[e.trim()];return e.match(/\bhljs\b/)||o.push("hljs"),e.includes(r)||o.push(r),o.join(" ").trim()}function l(e){var o=null,i=n(e);if(!t(i)){k("before:highlightBlock",{block:e,language:i}),D.useBR?(o=document.createElement("div"),o.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n")):o=e;var a=o.textContent,l=i?r(i,a,!0):s(a),f=ae(o);if(f.length){var p=document.createElement("div");p.innerHTML=l.value,l.value=se(f,ae(p),a)}l.value=c(l.value),k("after:highlightBlock",{block:e,result:l}),e.innerHTML=l.value,e.className=u(e.className,i,l.language),e.result={language:l.language,re:l.relevance,relavance:l.relevance},l.second_best&&(e.second_best={language:l.second_best.language,re:l.second_best.relevance,relavance:l.second_best.relevance})}}function f(e){e.useBR&&(console.warn("'useBR' option is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2559")),D=ie(D,e)}function p(){window.addEventListener("DOMContentLoaded",j,!1)}function d(t,n){var r=null;try{r=n(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",t)),!T)throw e;console.error(e),r=R}r.name||(r.name=t),C[t]=r,r.rawDefinition=n.bind(null,e),r.aliases&&g(r.aliases,{languageName:t})}function h(){return Object.keys(C)}function v(e){console.warn("requireLanguage is deprecated and will be removed entirely in the future."),console.warn("Please see https://github.com/highlightjs/highlight.js/pull/2844");var t=m(e);if(t)return t;var n=new Error("The '{}' language is required, but not loaded.".replace("{}",e));throw n}function m(e){return e=(e||"").toLowerCase(),C[e]||C[M[e]]}function g(e,t){var n=t.languageName;"string"==typeof e&&(e=[e]),e.forEach((function(e){M[e]=n}))}function b(e){var t=m(e);return t&&!t.disableAutodetect}function w(e){N.push(e)}function k(e,t){var n=e;N.forEach((function(e){e[n]&&e[n](t)}))}function S(e){return console.warn("fixMarkup is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2534"),c(e)}var x=[],C=Object.create(null),M=Object.create(null),N=[],T=!0,P=/(^(<[^>]+>|\t|)+|\n)/gm,E="Could not find the language '{}', did you forget to load/include a language module?",R={disableAutodetect:!0,name:"Plain text",contains:[]},D={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:H},j=function e(){if(!e.called){e.called=!0;var t=document.querySelectorAll("pre code");x.forEach.call(t,l)}};for(var z in Object.assign(e,{highlight:r,highlightAuto:s,fixMarkup:S,highlightBlock:l,configure:f,initHighlighting:j,initHighlightingOnLoad:p,registerLanguage:d,listLanguages:h,getLanguage:m,registerAliases:g,requireLanguage:v,autoDetection:b,inherit:ie,addPlugin:w,vuePlugin:I(e).VuePlugin}),e.debugMode=function(){T=!1},e.safeMode=function(){T=!0},e.versionString="10.4.1",ne)"object"===y(ne[z])&&$(ne[z]);return Object.assign(e,ne),e},le=ue({});e.exports=le},e3b8:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f=n("cd42"),p=n("a9de"),d=function(e){return e&&e.__esModule?e:{default:e}}(n("2029")),h=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),a(t,[{key:"commands",value:function(e){var t=e.type;return function(e){return e.href?(0,p.updateMark)(t,e):(0,p.removeMark)(t)}}},{key:"name",get:function(){return"link"}},{key:"schema",get:function(){return{attrs:{href:{default:null},is:{default:"a"},target:{default:"_self"},class:{default:["ButtonBase--link"]}},inclusive:!1,parseDOM:[{tag:"a",priority:9,getAttrs:function(e){return{href:e.getAttribute("href"),target:e.hasAttribute("target")?e.getAttribute("target"):"_self"}}}],toDOM:function(e){return["a",{href:e.attrs.href},0]}}}},{key:"view",get:function(){return d.default}}]),t}(f.Mark);t.default=h},ea88:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("301e")),a=r(n("7680")),s=r(n("397a")),c=r(n("5e43")),u=r(n("6f98")),l=n("c147"),f=r(n("650f")),p={name:"InputBase",schema:i.default,mixins:[f.default],components:{HelperErrors:a.default,HelperNumber:s.default,HelperReset:c.default,HelperReveal:u.default},props:{label:{type:String,default:""},type:{type:String,default:"text"},value:{type:[String,Number,Boolean,Object,Array]},helpers:{type:Array,default:function(){return[]}},constraints:{type:Object,default:function(){return{}}},default:{type:[String,Number]},attrs:{type:Object,default:function(){return{}}}},data:function(){return{state:{isFocused:!1,isValue:!1,isValid:!1},reveal:!1,errors:[]}},computed:{classes:function(){var e={};return"file"==this.$props.type&&(e["InputBase--file"]=!0),this.$data.state.isValue&&(e["is-value"]=!0),this.$data.state.isFocused&&(e["is-focused"]=!0),e},computedType:function(){return this.reveal?"text":this.type}},watch:{value:{immediate:!0,deep:!0,handler:function(e){this.$data.state.isValue=void 0!==o(e)&&""!==e,this.validate(e)}}},methods:{onInput:function(e){this.validate(e),this.$emit("input",e)},increment:function(e){var t=parseInt(this.$props.value);Number.isNaN(t)&&(t=this.$props.default?this.$props.default:0),this.onInput(t+e)},validate:function(e){if(!(0>=Object.keys(this.$props.constraints).length)){var t=(0,l.validateWithConstraints)(e,this.$props.constraints);this.$data.state.isValid=t.valid,this.$data.errors=t.errors}},reset:function(){this.onInput(this.$props.default)}}};t.default=p},ebba:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"InputBase_minus",on:{click:function(){return e.$emit("decrement")}}},[n("i",{staticClass:"fal fa-minus"})]),n("div",{staticClass:"InputBase_plus",on:{click:function(){return e.$emit("increment")}}},[n("i",{staticClass:"fal fa-plus"})])])},o=[]},ec09:function(e,t,n){"use strict";n.r(t);var r=n("0490"),o=n("989c");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},f0d8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"HelperReset",props:{isActive:{type:Boolean,default:!1}}};t.default=n},f23d:function(e,t,n){"use strict";function o(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){function a(e){o(c,r,i,a,s,"next",e)}function s(e){o(c,r,i,a,s,"throw",e)}var c=e.apply(t,n);a(void 0)}))}}function s(e,t){return l(e)||u(e,t)||m(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function l(e){if(Array.isArray(e))return e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?f(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return y(e)||g(e)||m(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function g(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function O(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function N(e){function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){var r=[].concat(h(n),h(e.properties?e.properties.className:[]));return e.children?t(e.children,r):{text:e.value,classes:r}}))}var n=e.doc,r=e.name,o=[],i=(0,I.findBlockNodes)(n).filter((function(e){return e.node.type.name===r})),a=function e(t){return t.reduce((function(t,n){return t.concat(Array.isArray(n)?e(n):n)}),[])};return i.forEach((function(e){var n=e.pos+1,r=D.default.highlightAuto(e.node.textContent).value;a(t(r)).map((function(e){var t=n,r=t+e.text.length;return n=r,p(p({},e),{},{from:t,to:r})})).forEach((function(e){var t=j.Decoration.inline(e.from,e.to,{class:e.classes.join(" ")});o.push(t)}))})),j.DecorationSet.create(n,o)}function A(e){var t=e.name;return new E.Plugin({name:new E.PluginKey("highlight"),state:{init:function(e,n){var r=n.doc;return N({doc:r,name:t})},apply:function(e,n,r,o){var i=r.selection.$head.parent.type.name,a=o.selection.$head.parent.type.name,s=(0,I.findBlockNodes)(r.doc).filter((function(e){return e.node.type.name===t})),c=(0,I.findBlockNodes)(o.doc).filter((function(e){return e.node.type.name===t}));return e.docChanged&&([i,a].includes(t)||c.length!==s.length)?N({doc:e.doc,name:t}):n.map(e.mapping,e.doc)}},props:{decorations:function(e){return this.getState(e)}}})}function T(e){var t=e.char,n=void 0===t?"@":t,r=e.allowSpaces,o=void 0!==r&&r,a=e.startOfLine;return function(e){if(0>=e.depth)return!1;for(var t,r,s="\\".concat(n),c=new RegExp("\\s".concat(s,"$")),u=void 0!==a&&a?"^":"",l=o?new RegExp("".concat(u).concat(s,".*?(?=\\s").concat(s,"|$)"),"gm"):new RegExp("".concat(u,"(?:^)?").concat(s,"[^\\s").concat(s,"]*"),"gm"),f=e.before(),p=e.end(),d=e.doc.textBetween(f,p,"\0","\0"),h=l.exec(d);null!==h;){if(r=h.input.slice(i(0,h.index-1),h.index),/^[\s\0]?$/.test(r)){var v=h.index+e.start(),m=v+h[0].length;o&&c.test(d.slice(m-1,m+1))&&(h[0]+=" ",m+=1),v<e.pos&&m>=e.pos&&(t={range:{from:v,to:m},query:h[0].slice(n.length),text:h[0]})}h=l.exec(d)}return t}}function P(e){var t=e.matcher,n=void 0===t?{char:"@",allowSpaces:!1,startOfLine:!1}:t,r=e.appendText,o=void 0===r?null:r,i=e.suggestionClass,s=void 0===i?"suggestion":i,c=e.command,u=void 0===c?function(){return!1}:c,l=e.items,f=void 0===l?[]:l,d=e.onEnter,h=void 0===d?function(){return!1}:d,v=e.onChange,m=void 0===v?function(){return!1}:v,g=e.onExit,y=void 0===g?function(){return!1}:g,b=e.onKeyDown,w=void 0===b?function(){return!1}:b,k=e.onFilter,S=void 0===k?function(e,t){return t?e.filter((function(e){return JSON.stringify(e).toLowerCase().includes(t.toLowerCase())})):e}:k;return new B.Plugin({key:new B.PluginKey("suggestions"),view:function(){var e=this;return{update:function(){var t=a(regeneratorRuntime.mark((function t(n,r){var i,a,s,c,l,p,d,v,g,b,w,k,O;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.key.getState(r),a=e.key.getState(n.state),s=i.active&&a.active&&i.range.from!==a.range.from,c=!i.active&&a.active,l=i.active&&!a.active,p=!c&&!l&&i.query!==a.query,d=c||s,v=p&&!s,g=l||s,d||v||g){t.next=11;break}return t.abrupt("return");case 11:if(b=g?i:a,w=document.querySelector('[data-decoration-id="'.concat(b.decorationId,'"]')),k=w?{getBoundingClientRect:function(){return w.getBoundingClientRect()},clientWidth:w.clientWidth,clientHeight:w.clientHeight}:null,t.t0=n,t.t1=b.range,t.t2=b.query,t.t3=b.text,t.t4=w,t.t5=k,!v&&!d){t.next=36;break}if(t.t7=S,!Array.isArray(f)){t.next=26;break}t.t8=f,t.next=29;break;case 26:return t.next=28,f();case 28:t.t8=t.sent;case 29:return t.t9=t.t8,t.t10=b.query,t.next=33,(0,t.t7)(t.t9,t.t10);case 33:t.t6=t.sent,t.next=37;break;case 36:t.t6=[];case 37:t.t11=t.t6,t.t12=function(e){var t=e.range,r=e.attrs;u({range:t,attrs:r,schema:n.state.schema})(n.state,n.dispatch,n),o&&(0,R.insertText)(o)(n.state,n.dispatch,n)},O={view:t.t0,range:t.t1,query:t.t2,text:t.t3,decorationNode:t.t4,virtualNode:t.t5,items:t.t11,command:t.t12},g&&y(O),v&&m(O),d&&h(O);case 43:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}},state:{init:function(){return{active:!1,range:{},query:null,text:null}},apply:function(e,t){var r=e.selection,o=p({},t);if(r.from===r.to){(r.from<t.range.from||r.from>t.range.to)&&(o.active=!1);var i=r.$from,a=T(n)(i),s=(Math.random()+1).toString(36).substr(2,5);a?(o.active=!0,o.decorationId=t.decorationId?t.decorationId:s,o.range=a.range,o.query=a.query,o.text=a.text):o.active=!1}else o.active=!1;return o.active||(o.decorationId=null,o.range={},o.query=null,o.text=null),o}},props:{handleKeyDown:function(e,t){var n=this.getState(e.state),r=n.active,o=n.range;return!!r&&w({view:e,event:t,range:o})},decorations:function(e){var t=this.getState(e),n=t.active,r=t.range,o=t.decorationId;return n?j.DecorationSet.create(e.doc,[j.Decoration.inline(r.from,r.to,{nodeName:"span",class:s,"data-decoration-id":o})]):null}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.Highlight=A,t.Suggestions=P,t.Underline=t.TrailingNode=t.TodoList=t.TodoItem=t.TableRow=t.TableHeader=t.TableCell=t.Table=t.Strike=t.Search=t.Placeholder=t.OrderedList=t.Mention=t.ListItem=t.Link=t.Italic=t.Image=t.HorizontalRule=t.History=t.Heading=t.HardBreak=t.Focus=t.Collaboration=t.CodeBlockHighlight=t.CodeBlock=t.Code=t.BulletList=t.Bold=t.Blockquote=void 0;var E=n("cd42"),R=n("a9de"),D=function(e){return e&&e.__esModule?e:{default:e}}(n("3ce4")),j=n("576a"),I=n("986d"),$=n("304a"),B=n("5313"),z=n("55be"),F=n("a15f"),L=n("0ac0"),V=n("46c3"),H=n("8726"),W=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleWrap)(t)}}},{key:"keys",value:function(e){var t=e.type;return{"Ctrl->":(0,R.toggleWrap)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.wrappingInputRule)(/^\s*>\s$/,t)]}},{key:"name",get:function(){return"blockquote"}},{key:"schema",get:function(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}}}]),t}(E.Node);t.Blockquote=W;var J=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return(0,R.toggleList)(t,n.nodes.list_item)}}},{key:"keys",value:function(e){var t=e.type,n=e.schema;return{"Shift-Ctrl-8":(0,R.toggleList)(t,n.nodes.list_item)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.wrappingInputRule)(/^\s*([-+*])\s$/,t)]}},{key:"name",get:function(){return"bullet_list"}},{key:"schema",get:function(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}}}]),t}(E.Node);t.BulletList=J;var q=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return(0,R.toggleBlockType)(t,n.nodes.paragraph)}}},{key:"keys",value:function(e){var t=e.type;return{"Shift-Ctrl-\\":(0,R.setBlockType)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.textblockTypeInputRule)(/^```$/,t)]}},{key:"name",get:function(){return"code_block"}},{key:"schema",get:function(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}}}]),t}(E.Node);t.CodeBlock=q;var K=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};k(this,t),e=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));try{Object.entries(e.options.languages).forEach((function(e){var t=s(e,2),n=t[0],r=t[1];D.default.registerLanguage(n,r)}))}catch(n){throw new Error("Invalid syntax highlight definitions: define at least one highlight.js language mapping")}return e}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return(0,R.toggleBlockType)(t,n.nodes.paragraph)}}},{key:"keys",value:function(e){var t=e.type;return{"Shift-Ctrl-\\":(0,R.setBlockType)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.textblockTypeInputRule)(/^```$/,t)]}},{key:"name",get:function(){return"code_block"}},{key:"defaultOptions",get:function(){return{languages:{}}}},{key:"schema",get:function(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}}},{key:"plugins",get:function(){return[A({name:this.name})]}}]),t}(E.Node);t.CodeBlockHighlight=K;var U=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.chainCommands)(R.exitCode,(function(e,n){return n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0}))}}},{key:"keys",value:function(e){var t=e.type,n=(0,R.chainCommands)(R.exitCode,(function(e,n){return n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0}));return{"Mod-Enter":n,"Shift-Enter":n}}},{key:"name",get:function(){return"hard_break"}},{key:"schema",get:function(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}}}]),t}(E.Node);t.HardBreak=U;var G=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(e){return(0,R.toggleBlockType)(t,n.nodes.paragraph,e)}}},{key:"keys",value:function(e){var t=e.type;return this.options.levels.reduce((function(e,n){return p(p({},e),d({},"Shift-Ctrl-".concat(n),(0,R.setBlockType)(t,{level:n})))}),{})}},{key:"inputRules",value:function(e){var t=e.type;return this.options.levels.map((function(e){return(0,R.textblockTypeInputRule)(new RegExp("^(#{1,".concat(e,"})\\s$")),t,(function(){return{level:e}}))}))}},{key:"name",get:function(){return"heading"}},{key:"defaultOptions",get:function(){return{levels:[1,2,3,4,5,6]}}},{key:"schema",get:function(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(e){return{tag:"h".concat(e),attrs:{level:e}}})),toDOM:function(e){return["h".concat(e.attrs.level),0]}}}}]),t}(E.Node);t.Heading=G;var X=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type;return function(){return function(e,n){return n(e.tr.replaceSelectionWith(t.create()))}}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.nodeInputRule)(/^(?:---|___\s|\*\*\*\s)$/,t)]}},{key:"name",get:function(){return"horizontal_rule"}},{key:"schema",get:function(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}}}}]),t}(E.Node);t.HorizontalRule=X;var Y=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,Q=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.selection,i=o.$cursor?o.$cursor.pos:o.$to.pos,a=t.create(e),s=n.tr.insert(i,a);r(s)}}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.nodeInputRule)(Y,t,(function(e){var t=s(e,4),n=t[1],r=t[2],o=t[3];return{src:r,alt:n,title:o}}))]}},{key:"name",get:function(){return"image"}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}}}},{key:"plugins",get:function(){return[new E.Plugin({props:{handleDOMEvents:{drop:function(e,t){var n=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(n){var r=Array.from(t.dataTransfer.files).filter((function(e){return/image/i.test(e.type)}));if(0!==r.length){t.preventDefault();var o=e.state.schema,i=e.posAtCoords({left:t.clientX,top:t.clientY});r.forEach((function(t){var n=new FileReader;n.onload=function(t){var n=o.nodes.image.create({src:t.target.result}),r=e.state.tr.insert(i.pos,n);e.dispatch(r)},n.readAsDataURL(t)}))}}}}}})]}}]),t}(E.Node);t.Image=Q;var Z=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{Enter:(0,R.splitListItem)(t),Tab:(0,R.sinkListItem)(t),"Shift-Tab":(0,R.liftListItem)(t)}}},{key:"name",get:function(){return"list_item"}},{key:"schema",get:function(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}}}]),t}(E.Node);t.ListItem=Z;var ee=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"getLabel",value:function(e){return e.innerText.split(this.options.matcher.char).join("")}},{key:"commands",value:function(e){var t=this,n=e.schema;return function(e){return(0,R.replaceText)(null,n.nodes[t.name],e)}}},{key:"name",get:function(){return"mention"}},{key:"defaultOptions",get:function(){return{matcher:{char:"@",allowSpaces:!1,startOfLine:!1},mentionClass:"mention",suggestionClass:"mention-suggestion"}}},{key:"schema",get:function(){var e=this;return{attrs:{id:{},label:{}},group:"inline",inline:!0,content:"inline*",selectable:!1,atom:!0,toDOM:function(t){return["span",{class:e.options.mentionClass,"data-mention-id":t.attrs.id},"".concat(e.options.matcher.char).concat(t.attrs.label)]},parseDOM:[{tag:"span[data-mention-id]",getAttrs:function(t){var n=t.getAttribute("data-mention-id"),r=e.getLabel(t);return{id:n,label:r}},getContent:function(t,n){var r=e.getLabel(t);return $.Fragment.fromJSON(n,[{type:"text",text:"".concat(e.options.matcher.char).concat(r)}])}}]}}},{key:"plugins",get:function(){var e=this;return[P({command:function(t){var n=t.range,r=t.attrs,o=t.schema;return(0,R.replaceText)(n,o.nodes[e.name],r)},appendText:" ",matcher:this.options.matcher,items:this.options.items,onEnter:this.options.onEnter,onChange:this.options.onChange,onExit:this.options.onExit,onKeyDown:this.options.onKeyDown,onFilter:this.options.onFilter,suggestionClass:this.options.suggestionClass})]}}]),t}(E.Node);t.Mention=ee;var te=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return(0,R.toggleList)(t,n.nodes.list_item)}}},{key:"keys",value:function(e){var t=e.type,n=e.schema;return{"Shift-Ctrl-9":(0,R.toggleList)(t,n.nodes.list_item)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.wrappingInputRule)(/^(\d+)\.\s$/,t,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]}))]}},{key:"name",get:function(){return"ordered_list"}},{key:"schema",get:function(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}}}]),t}(E.Node);t.OrderedList=te;var ne=(0,z.tableNodes)({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){if(e){var n={style:"".concat(t.style||"","background-color: ").concat(e,";")};Object.assign(t,n)}}}}}),re=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.schema;return{createTable:function(e){var n=e.rowsCount,r=e.colsCount,o=e.withHeaderRow;return function(e,i){var a=e.tr.selection.anchor+1,s=(0,I.createTable)(t,n,r,o),c=e.tr.replaceSelectionWith(s).scrollIntoView(),u=c.doc.resolve(a);c.setSelection(B.TextSelection.near(u)),i(c)}},addColumnBefore:function(){return z.addColumnBefore},addColumnAfter:function(){return z.addColumnAfter},deleteColumn:function(){return z.deleteColumn},addRowBefore:function(){return z.addRowBefore},addRowAfter:function(){return z.addRowAfter},deleteRow:function(){return z.deleteRow},deleteTable:function(){return z.deleteTable},toggleCellMerge:function(){return function(e,t){(0,z.mergeCells)(e,t)||(0,z.splitCell)(e,t)}},mergeCells:function(){return z.mergeCells},splitCell:function(){return z.splitCell},toggleHeaderColumn:function(){return z.toggleHeaderColumn},toggleHeaderRow:function(){return z.toggleHeaderRow},toggleHeaderCell:function(){return z.toggleHeaderCell},setCellAttr:function(){return z.setCellAttr},fixTables:function(){return z.fixTables}}}},{key:"keys",value:function(){return{Tab:(0,z.goToNextCell)(1),"Shift-Tab":(0,z.goToNextCell)(-1)}}},{key:"name",get:function(){return"table"}},{key:"defaultOptions",get:function(){return{resizable:!1}}},{key:"schema",get:function(){return ne.table}},{key:"plugins",get:function(){return[].concat(h(this.options.resizable?[(0,z.columnResizing)()]:[]),[(0,z.tableEditing)()])}}]),t}(E.Node);t.Table=re;var oe=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"table_header"}},{key:"schema",get:function(){return ne.table_header}}]),t}(E.Node);t.TableHeader=oe;var ie=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"table_cell"}},{key:"schema",get:function(){return ne.table_cell}}]),t}(E.Node);t.TableCell=ie;var ae=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"table_row"}},{key:"schema",get:function(){return ne.table_row}}]),t}(E.Node);t.TableRow=ae;var se=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{Enter:(0,R.splitToDefaultListItem)(t),Tab:this.options.nested?(0,R.sinkListItem)(t):function(){},"Shift-Tab":(0,R.liftListItem)(t)}}},{key:"name",get:function(){return"todo_item"}},{key:"defaultOptions",get:function(){return{nested:!1}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],methods:{onChange:function(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}},{key:"schema",get:function(){var e=this;return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:function(t){var n=t.attrs.done;return["li",{"data-type":e.name,"data-done":n.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(e){return{done:"true"===e.getAttribute("data-done")}}}]}}}]),t}(E.Node);t.TodoItem=se;var ce=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type,n=e.schema;return function(){return(0,R.toggleList)(t,n.nodes.todo_item)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.wrappingInputRule)(/^\s*(\[ \])\s$/,t)]}},{key:"name",get:function(){return"todo_list"}},{key:"schema",get:function(){var e=this;return{group:"block",content:"todo_item+",toDOM:function(){return["ul",{"data-type":e.name},0]},parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]')}]}}}]),t}(E.Node);t.TodoList=ce;var ue=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{"Mod-b":(0,R.toggleMark)(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleMark)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.markInputRule)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[(0,R.markPasteRule)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,t)]}},{key:"name",get:function(){return"bold"}},{key:"schema",get:function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}}}}]),t}(E.Mark);t.Bold=ue;var le=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{"Mod-`":(0,R.toggleMark)(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleMark)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.markInputRule)(/(?:`)([^`]+)(?:`)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[(0,R.markPasteRule)(/(?:`)([^`]+)(?:`)/g,t)]}},{key:"name",get:function(){return"code"}},{key:"schema",get:function(){return{excludes:"_",parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}}}]),t}(E.Mark);t.Code=le;var fe=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{"Mod-i":(0,R.toggleMark)(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleMark)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.markInputRule)(/(?:^|[^_])(_([^_]+)_)$/,t),(0,R.markInputRule)(/(?:^|[^*])(\*([^*]+)\*)$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[(0,R.markPasteRule)(/_([^_]+)_/g,t),(0,R.markPasteRule)(/\*([^*]+)\*/g,t)]}},{key:"name",get:function(){return"italic"}},{key:"schema",get:function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}}}]),t}(E.Mark);t.Italic=fe;var pe=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"commands",value:function(e){var t=e.type;return function(e){return e.href?(0,R.updateMark)(t,e):(0,R.removeMark)(t)}}},{key:"pasteRules",value:function(e){var t=e.type;return[(0,R.pasteRule)(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,]*)/gi,t,(function(e){return{href:e}}))]}},{key:"name",get:function(){return"link"}},{key:"defaultOptions",get:function(){return{openOnClick:!0,target:null}}},{key:"schema",get:function(){var e=this;return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}}],toDOM:function(t){return["a",p(p({},t.attrs),{},{rel:"noopener noreferrer nofollow",target:e.options.target}),0]}}}},{key:"plugins",get:function(){return this.options.openOnClick?[new E.Plugin({props:{handleClick:function(e,t,n){var r=e.state.schema,o=(0,F.getMarkAttrs)(e.state,r.marks.link);o.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(o.href,o.target))}}})]:[]}}]),t}(E.Mark);t.Link=pe;var de=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{"Mod-d":(0,R.toggleMark)(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleMark)(t)}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,R.markInputRule)(/~([^~]+)~$/,t)]}},{key:"pasteRules",value:function(e){var t=e.type;return[(0,R.markPasteRule)(/~([^~]+)~/g,t)]}},{key:"name",get:function(){return"strike"}},{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]}}}}]),t}(E.Mark);t.Strike=de;var he=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(e){var t=e.type;return{"Mod-u":(0,R.toggleMark)(t)}}},{key:"commands",value:function(e){var t=e.type;return function(){return(0,R.toggleMark)(t)}}},{key:"name",get:function(){return"underline"}},{key:"schema",get:function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e}}],toDOM:function(){return["u",0]}}}}]),t}(E.Mark);t.Underline=he;var ve=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"init",value:function(){var e=this;this.getSendableSteps=this.debounce((function(t){var n=(0,V.sendableSteps)(t);n&&e.options.onSendable({editor:e.editor,sendable:{version:n.version,steps:n.steps.map((function(e){return e.toJSON()})),clientID:n.clientID}})}),this.options.debounce),this.editor.on("transaction",(function(t){var n=t.state;e.getSendableSteps(n)}))}},{key:"debounce",value:function(e,t){var n;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];n&&clearTimeout(n),n=setTimeout((function(){e.apply(void 0,o),n=null}),t)}}},{key:"name",get:function(){return"collaboration"}},{key:"defaultOptions",get:function(){var e=this;return{version:0,clientID:r(4294967295*Math.random()),debounce:250,onSendable:function(){},update:function(t){var n=t.steps,r=t.version,o=e.editor,i=o.state,a=o.view,s=o.schema;(0,V.getVersion)(i)>r||a.dispatch((0,V.receiveTransaction)(i,n.map((function(e){return L.Step.fromJSON(s,e.step)})),n.map((function(e){return e.clientID}))))}}}},{key:"plugins",get:function(){return[(0,V.collab)({version:this.options.version,clientID:this.options.clientID})]}}]),t}(E.Extension);t.Collaboration=ve;var me=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"focus"}},{key:"defaultOptions",get:function(){return{className:"has-focus",nested:!1}}},{key:"plugins",get:function(){var e=this;return[new E.Plugin({props:{decorations:function(t){var n=t.doc,r=t.plugins,o=t.selection,i=r.find((function(e){return e.key.startsWith("editable$")})),a=i.props.editable(),s=a&&e.options.className,c=e.editor.focused,u=o.anchor,l=[];return!(!s||!c)&&(n.descendants((function(t,n){var r=u>=n&&u<=n+t.nodeSize;if(r&&!t.isText){var o=j.Decoration.node(n,n+t.nodeSize,{class:e.options.className});l.push(o)}return e.options.nested})),j.DecorationSet.create(n,l))}}})]}}]),t}(E.Extension);t.Focus=me;var ge=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"keys",value:function(){var e={"Mod-z":H.undo,"Mod-y":H.redo,"Shift-Mod-z":H.redo,"Mod-я":H.undo,"Shift-Mod-я":H.redo};return e}},{key:"commands",value:function(){return{undo:function(){return H.undo},redo:function(){return H.redo},undoDepth:function(){return H.undoDepth},redoDepth:function(){return H.redoDepth}}}},{key:"name",get:function(){return"history"}},{key:"defaultOptions",get:function(){return{depth:"",newGroupDelay:""}}},{key:"plugins",get:function(){return[(0,H.history)({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}}]),t}(E.Extension);t.History=ge;var ye=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"placeholder"}},{key:"defaultOptions",get:function(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}},{key:"plugins",get:function(){var e=this;return[new E.Plugin({props:{decorations:function(t){var n=t.doc,r=t.plugins,o=t.selection,i=r.find((function(e){return e.key.startsWith("editable$")})),a=i.props.editable(),s=a||!e.options.showOnlyWhenEditable,c=o.anchor,u=[],l=0===n.textContent.length;return!!s&&(n.descendants((function(t,n){var r=c>=n&&c<=n+t.nodeSize,o=0===t.content.size;if((r||!e.options.showOnlyCurrent)&&o){var i=[e.options.emptyNodeClass];l&&i.push(e.options.emptyEditorClass);var a=j.Decoration.node(n,n+t.nodeSize,{class:i.join(" "),"data-empty-text":"function"==typeof e.options.emptyNodeText?e.options.emptyNodeText(t):e.options.emptyNodeText});u.push(a)}return!1})),j.DecorationSet.create(n,u))}}})]}}]),t}(E.Extension);t.Placeholder=ye;var be=function(e){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return k(this,t),e=x(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n)),e.results=[],e.searchTerm=null,e._updating=!1,e}return M(t,e),O(t,[{key:"commands",value:function(){var e=this;return{find:function(t){return e.find(t)},replace:function(t){return e.replace(t)},replaceAll:function(t){return e.replaceAll(t)},clearSearch:function(){return e.clear()}}}},{key:"_search",value:function(e){var t=this;this.results=[];var n=[],r=0;this.searchTerm&&(e.descendants((function(e,t){e.isText?n[r]?n[r]={text:n[r].text+e.text,pos:n[r].pos}:n[r]={text:e.text,pos:t}:r+=1})),n.forEach((function(e){for(var n,r=e.text,o=e.pos,i=t.findRegExp;(n=i.exec(r))&&""!==n[0];)t.results.push({from:o+n.index,to:o+n.index+n[0].length})})))}},{key:"replace",value:function(e){var t=this;return function(n,r){var o=t.results[0];if(o){var i=t.results[0],a=i.from,s=i.to;r(n.tr.insertText(e,a,s)),t.editor.commands.find(t.searchTerm)}}}},{key:"rebaseNextResult",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=t+1;if(!this.results[r])return null;var o=this.results[t],i=o.from,a=o.to,s=a-i-e.length+n,c=this.results[r],u=c.from,l=c.to;return this.results[r]={to:l-s,from:u-s},s}},{key:"replaceAll",value:function(e){var t=this;return function(n,r){var o,i=n.tr;t.results.length&&(t.results.forEach((function(n,r){var a=n.from,s=n.to;i.insertText(e,a,s),o=t.rebaseNextResult(e,r,o)})),r(i),t.editor.commands.find(t.searchTerm))}}},{key:"find",value:function(e){var t=this;return function(n,r){t.searchTerm=t.options.disableRegex?e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):e,t.updateView(n,r)}}},{key:"clear",value:function(){var e=this;return function(t,n){e.searchTerm=null,e.updateView(t,n)}}},{key:"updateView",value:function(e,t){var n=e.tr;this._updating=!0,t(n),this._updating=!1}},{key:"createDeco",value:function(e){return this._search(e),this.decorations?j.DecorationSet.create(e,this.decorations):[]}},{key:"name",get:function(){return"search"}},{key:"defaultOptions",get:function(){return{autoSelectNext:!0,findClass:"find",searching:!1,caseSensitive:!1,disableRegex:!0,alwaysSearch:!1}}},{key:"findRegExp",get:function(){return RegExp(this.searchTerm,this.options.caseSensitive?"gu":"gui")}},{key:"decorations",get:function(){var e=this;return this.results.map((function(t){return j.Decoration.inline(t.from,t.to,{class:e.options.findClass})}))}},{key:"plugins",get:function(){var e=this;return[new E.Plugin({state:{init:function(){return j.DecorationSet.empty},apply:function(t,n){return e._updating||e.options.searching||t.docChanged&&e.options.alwaysSearch?e.createDeco(t.doc):t.docChanged?n.map(t.mapping,t.doc):n}},props:{decorations:function(e){return this.getState(e)}}})]}}]),t}(E.Extension);t.Search=be;var we=function(e){function t(){return k(this,t),x(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return M(t,e),O(t,[{key:"name",get:function(){return"trailing_node"}},{key:"defaultOptions",get:function(){return{node:"paragraph",notAfter:["paragraph"]}}},{key:"plugins",get:function(){var e=this,t=new E.PluginKey(this.name),n=Object.entries(this.editor.schema.nodes).map((function(e){var t=s(e,2),n=t[1];return n})).filter((function(t){return e.options.notAfter.includes(t.name)}));return[new E.Plugin({key:t,view:function(){return{update:function(n){var r=n.state,o=t.getState(r);if(o){var i=r.doc,a=r.schema,s=r.tr,c=a.nodes[e.options.node],u=s.insert(i.content.size,c.create());n.dispatch(u)}}}},state:{init:function(e,t){var r=t.tr.doc.lastChild;return!(0,F.nodeEqualsType)({node:r,types:n})},apply:function(e,t){if(!e.docChanged)return t;var r=e.doc.lastChild;return!(0,F.nodeEqualsType)({node:r,types:n})}}})]}}]),t}(E.Extension);t.TrailingNode=we},f3d8:function(e,t,n){"use strict";n.r(t);var r=n("a32a"),o=n("66f5");for(var i in o)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var a=n("2877"),s=Object(a.a)(o["default"],r.a,r.b,!1,null,null,null);t["default"]=s.exports},f5b8:function(e,t,n){"use strict";n.r(t);var r=n("f0d8"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},f772:function(e,t,n){"use strict";n.r(t);var r=n("2f21"),o=n.n(r);for(var i in r)0>["default"].indexOf(i)&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=o.a},f95e:function(e,t,n){"use strict";function r(e){return function(t,n,r,o){var i=e;if(n[1]){var a=n[0].lastIndexOf(n[1]);i+=n[0].slice(a+n[1].length),r+=a;var s=r-o;0<s&&(i=n[0].slice(a-s,a)+i,r=o)}return t.tr.insertText(i,r,o)}}function o(e,t,n,r,o,a){if(e.composing)return!1;var s=e.state,c=s.doc.resolve(t);if(c.parent.type.spec.code)return!1;for(var l=c.parent.textBetween(i(0,c.parentOffset-u),c.parentOffset,null,"￼")+r,f=0;f<o.length;f++){var p=o[f].match.exec(l),d=p&&o[f].handler(s,p,t-(p[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(a,{transform:d,from:t,to:n,text:r})),!0}return!1}Object.defineProperty(t,"__esModule",{value:!0}),t.inputRules=function(e){var t=e.rules,n=new a.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,i,a){return o(e,r,i,a,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection,i=r.$cursor;i&&o(e,i.pos,i.pos,"",t,n)}))}}},isInputRules:!0});return n},t.textblockTypeInputRule=function(e,t,n){return new c(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))},t.undoInputRule=function(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;0<=c;c--)a.step(s.steps[c].invert(s.docs[c]));var u=a.doc.resolve(i.from).marks();t(a.replaceWith(i.from,i.to,e.schema.text(i.text,u)))}return!0}}return!1},t.wrappingInputRule=function(e,t,n,r){return new c(e,(function(e,o,i,a){var c=n instanceof Function?n(o):n,u=e.tr.delete(i,a),l=u.doc.resolve(i),f=l.blockRange(),p=f&&(0,s.findWrapping)(f,t,c);if(!p)return null;u.wrap(f,p);var d=u.doc.resolve(i-1).nodeBefore;return d&&d.type==t&&(0,s.canJoin)(u.doc,i-1)&&(!r||r(o,d))&&u.join(i-1),u}))},t.smartQuotes=t.openSingleQuote=t.openDoubleQuote=t.emDash=t.ellipsis=t.closeSingleQuote=t.closeDoubleQuote=t.InputRule=void 0;var a=n("5313"),s=n("0ac0"),c=function(e,t){this.match=e,this.handler="string"==typeof t?r(t):t};t.InputRule=c;var u=500,l=new c(/--$/,"—");t.emDash=l;var f=new c(/\.\.\.$/,"…");t.ellipsis=f;var p=new c(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“");t.openDoubleQuote=p;var d=new c(/"$/,"”");t.closeDoubleQuote=d;var h=new c(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘");t.openSingleQuote=h;var v=new c(/'$/,"’");t.closeSingleQuote=v,t.smartQuotes=[p,d,h,v]},fae3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n("1eb2");var r=n("41f5");Object.keys(r).forEach((function(e){"default"===e||"__esModule"===e||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},fcf3:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){return u(e)||c(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s["return"]||s["return"]()}finally{if(o)throw i}}return n}}function u(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var g=n("cd42"),y=n("a9de"),b=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/,w=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,e),p(t,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.selection,i=o.$cursor?o.$cursor.pos:o.$to.pos,a=t.create(e),s=n.tr.insert(i,a);r(s)}}}},{key:"inputRules",value:function(e){var t=e.type;return[(0,y.nodeInputRule)(b,t,(function(e){var t=o(e,4),n=t[1],r=t[2],i=t[3];return{src:r,alt:n,title:i}}))]}},{key:"name",get:function(){return"image"}},{key:"schema",get:function(){return{attrs:{src:{},alt:{default:null},title:{default:null}},group:"block",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}}}},{key:"plugins",get:function(){return[new g.Plugin({props:{handleDOMEvents:{drop:function(e,t){var n=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(n){var r=Array.from(t.dataTransfer.files).filter((function(e){return/image/i.test(e.type)}));if(0!==r.length){t.preventDefault();var o=e.state.schema,i=e.posAtCoords({left:t.clientX,top:t.clientY});r.forEach((function(t){var n=new FileReader;n.onload=function(t){var n=o.nodes.image.create({src:t.target.result}),r=e.state.tr.insert(i.pos,n);e.dispatch(r)},n.readAsDataURL(t)}))}}}}}})]}}]),t}(g.Node);t.default=w}})}));
//# sourceMappingURL=core.umd.min.js.map